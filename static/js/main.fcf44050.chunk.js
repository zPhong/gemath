(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(t,e,n){t.exports=n(47)},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var i=n(2),a=n.n(i),o=n(10),r=n.n(o);n(33),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(3),s=n(5),u=n(7),d=n(16),l=n(15),g=n(17),f=n(4),p=(n(34),n(24)),h=n(11),y=n(8),v=n(9),I=(n(23),new(function(){function t(){Object(s.a)(this,t),this.additionSegment=[],this.relationsResult={},this.pointsMap=[],this.pointsDirectionMap={},this.executedRelations=[],this.executedNode=[],this.__pointDetails__=new Map}return Object(u.a)(t,[{key:"clear",value:function(){this.additionSegment=[],this.relationsResult={},this.pointsMap=[],this.pointsDirectionMap={},this.executedRelations=[],this.executedNode=[],this.__pointDetails__.clear()}},{key:"pushAdditionSegment",value:function(t){this.additionSegment.push(t)}},{key:"setPointsMap",value:function(t){this.pointsMap=t}},{key:"setRelationsResult",set:function(t){this.relationsResult=t}},{key:"getAdditionSegment",get:function(){return this.additionSegment}},{key:"getRelationsResult",get:function(){return this.relationsResult}},{key:"getPointsMap",get:function(){return this.pointsMap}},{key:"getPointDirectionMap",get:function(){return this.pointsDirectionMap}},{key:"getExecutedRelations",get:function(){return this.executedRelations}},{key:"getExecutedNode",get:function(){return this.executedNode}},{key:"getPointDetails",get:function(){return this.__pointDetails__}}]),t}())),x={define:["{object} + {object} = {object}","{object} - {object} = {object}","{object} = {value} * {object}","{object} = {object}","{object} > {object}","{object} < {object}"],relation:["{object} song song {object}","{object} vu\xf4ng g\xf3c {object}","{object} c\u1eaft {object} t\u1ea1i {arrayPoints}","{object} ph\xe2n gi\xe1c ngo\xe0i {angle}","{object} ph\xe2n gi\xe1c trong {angle}","{object} ph\xe2n gi\xe1c {angle}","{arrayPoints} th\u1eb3ng h\xe0ng","{point} trung \u0111i\u1ec3m {segment}","{point} kh\xf4ng thu\u1ed9c {object}","{point} thu\u1ed9c {object}","{segment} trung tuy\u1ebfn {triangle}","{segment} \u0111\u01b0\u1eddng cao {triangle}","{circle} \u0111\u01b0\u1eddng k\xednh {segment}","{segment} ti\u1ebfp tuy\u1ebfn {circle}"],shape:["tam gi\xe1c {type triangle}","t\u1ee9 gi\xe1c {quadrilateral}","h\xecnh thang {type trapezoid}","h\xecnh b\xecnh h\xe0nh {parallelogram}","h\xecnh ch\u1eef nh\u1eadt {rectangle}","h\xecnh thoi {rhombus}","h\xecnh vu\xf4ng {square}","{object type triangle} t\u1ea1i {escribedPoint}","{object type triangle}"]},m=["vu\xf4ng g\xf3c","c\u1eaft"],N=[["point"],["segment","ray"],["angle"]],b=["angle","segment","ray","point","circle","triangle"],M={object:{define:["angle","segment"],relation:["ray","line","segment","circle"]},point:{length:1,format:"1"},segment:{length:2,format:"11"},ray:{length:2,format:"11"},line:{length:1,format:"0"},angle:{length:3},shape:{triangle:{length:3,format:"111"},quadrilateral:{length:4,format:"1111"},trapezoid:{length:4,format:"1111"},parallelogram:{length:4,format:"1111"},rectangle:{length:4,format:"1111"},rhombus:{length:4,format:"1111"},square:{length:4,format:"1111"},circle:{length:1,format:"1"}},shapeType:{triangle:["","vu\xf4ng","c\xe2n","vu\xf4ng c\xe2n","\u0111\u1ec1u","n\u1ed9i ti\u1ebfp","ngo\u1ea1i ti\u1ebfp","b\xe0ng ti\u1ebfp"],trapezoid:["","vu\xf4ng","c\xe2n"]}},P={triangle:{right:"10^02",isosceles:"01=02",right_isosceles:"10^02&01=02",equilateral:"01=02&01=12&02=12"},trapezoid:{normal:"01|23",right:"01|23&10^03",isosceles:"01|23&03=12"},parallelogram:{normal:"01|23&03|12"},rectangle:{normal:"01^12&12^23&23^30&30^01"},rhombus:{normal:"02^13"},square:{normal:"01|23&03|12&01^12&12^23&23^03&01=03&&01=12&12=23&&23=03"}},O={"vu\xf4ng":"right","c\xe2n":"isosceles","vu\xf4ng c\xe2n":"right_isosceles","\u0111\u1ec1u":"equilateral","n\u1ed9i ti\u1ebfp":"n\u1ed9i ti\u1ebfp","ngo\u1ea1i ti\u1ebfp":"ngo\u1ea1i ti\u1ebfp","b\xe0ng ti\u1ebfp":"b\xe0ng ti\u1ebfp"},E=["n\u1ed9i ti\u1ebfp","ngo\u1ea1i ti\u1ebfp","b\xe0ng ti\u1ebfp"],j=["triangle","trapezoid","rectangle","square"],B=["rhombus","trapezoid","parallelogram"],D={Number:Object.freeze({MIN_RANDOM_NUMBER:-10,MAX_RANDOM_NUMBER:10,MIN_RANDOM_GENERATION:5,MAX_RANDOM_GENERATION:15,NOT_FOUND:99}),String:Object.freeze({INFINITY:"v\xf4 c\u1ef1c",IMPOSSIBLE:"v\xf4 nghi\u1ec7m",TOO_SHORT:"qu\xe1 ng\u1eafn",NOT_ENOUGH_SET:"kh\xf4ng \u0111\u1ee7 ph\u01b0\u01a1ng tr\xecnh t\u1ea1o th\xe0nh h\u1ec7",NOT_BE_IN_LINE:"\u0111i\u1ec3m kh\xf4ng thu\u1ed9c \u0111\u01b0\u1eddng"}),Regex:Object.freeze({KEY:"[^{\\}]+(?=})",OTHER:"(^([^{]+(?={)))|((?<=})([^{]+)(?={))|(((?<=})[^}]+)$)"}),Others:Object.freeze({OPERATIONS:["+","-","*","<",">","="]}),Errors:Object.freeze({UNDEFINED_ERROR:"L\u1ed7i kh\xf4ng x\xe1c d\u1ecbnh",WRONG_FORMAT:"Sai \u0111\u1ecbnh d\u1ea1ng",MAXIMUM_POINT_ERROR:"T\u1ed1i \u0111a 3 \u0111i\u1ec3m th\u1eb3ng h\xe1ng"}),InputStatus:Object.freeze({SUCCESS:"Success",NORMAL:"Normal",ERROR:"Error"}),TutorialString:{STEP_ONE:"\n  Danh s\xe1ch c\xe1c m\u1eabu c\xe2u d\u1eb7c tr\u01b0ng:\n    \n__ = __\n    \n__ song song/vu\xf4ng g\xf3c __\n    \n__ c\u1eaft __ t\u1ea1i __\n    \n__ ph\xe2n gi\xe1c __\n    \n__ th\u1eb3ng h\xe0ng\n    \n__ trung \u0111i\u1ec3m __\n    \n__ thu\u1ed9c/kh\xf4ng thu\u1ed9c __\n    \n__ ti\u1ebfp tuy\u1ebfn (__)\n    \ntam gi\xe1c {lo\u1ea1i} __\n    \nt\u1ee9 gi\xe1c __\n    \n\u0111\u01b0\u1eddng tr\xf2n t\xe2m __ ngo\u1ea1i ti\u1ebfp/n\u1ed9i ti\u1ebfp __\n\nL\u01b0u \xfd:\n  \n \u0110\u01b0\u1eddng tr\xf2n trong c\xe1i m\u1ed1i quan h\u1ec7 kh\xe1c s\u1ebd n\u1eb1m trong ()\n  \n  Vd: AB ti\u1ebfp tuy\u1ebfn (O)\n  "}};function R(t){var e=!0;return(void 0===t||null===t||!1===t||!0===t||Array.isArray(t)||t===1/0||isNaN(t))&&(e=!1),e}function S(t){var e=!0;return void 0!==t&&null!==t&&""!==t||(e=!1),e}var k=Object.prototype.toString;function C(t){if(!function(t){var e=typeof t;return null!=t&&("object"===e||"function"===e)}(t))return!1;var e=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":k.call(t)}(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object Proxy]"===e}var _=n(50),w={200:D.Errors.UNDEFINED_ERROR,300:D.Errors.WRONG_FORMAT,301:D.Errors.MAXIMUM_POINT_ERROR,400:D.String.IMPOSSIBLE,401:D.String.INFINITY,500:D.String.NOT_BE_IN_LINE,501:D.String.NOT_ENOUGH_SET,502:D.String.TOO_SHORT},A=new(function(){function t(){Object(s.a)(this,t),this.message=""}return Object(u.a)(t,[{key:"showError",value:function(t,e){var n;if(e)rn.inputData.forEach(function(t,i){t===e&&(n=i)});else switch(t){case 300:case 301:n=rn.executedInputIndex;break;default:n=rn.inputData.filter(function(t){return t===rn.executingRelation})[0]}throw n>=0&&(rn.RelationsInput[n].status=D.InputStatus.ERROR),alert(w[t]),console.error("error",w[t])}},{key:"updateErrorInInput",value:function(t){var e;t&&rn.inputData.forEach(function(n,i){n===t&&(e=i)}),e>=0&&(rn.RelationsInput[e].status=D.InputStatus.ERROR)}},{key:"ErrorMessage",get:function(){return this.message}}]),t}());var T=function(){function t(t){return isNaN(t)?"string"===typeof t?"(".concat(t,")"):void A.showError("200"):t}function e(e,n){return isNaN(e)||isNaN(n)?t("(".concat(e,")-(").concat(n,")")):0===parseFloat(e)?parseFloat(n)<0?Math.abs(parseFloat(n)):"-".concat(n):0===parseFloat(n)?e:parseFloat(e)-parseFloat(n)}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n="number"===typeof t?t:Object(_.a)(t),i=Math.pow(10,e);return Math.round(n*i)/i}return Object.freeze({Parenthesis:t,Add:function(e,i){if(!isNaN(e)||!isNaN(i)){if(0===parseFloat(e))return t(i);if(0===parseFloat(i))return t(e)}return isNaN(e)||isNaN(i)||parseFloat(e)!==n(e)||parseFloat(i)!==n(i)?t("(".concat(e,")+(").concat(i,")")):parseFloat(e)+parseFloat(i)},Sub:e,Multiply:function(e,i){if(!isNaN(e)||!isNaN(i)){if(0===parseFloat(e)||0===parseFloat(i))return 0;if(!isNaN(e)&&1===Math.abs(e)){var a=Object(_.a)(i);if(a===n(a))return t(parseFloat(e)*a);var o=parseFloat(e)/Math.abs(e)<0;return t("".concat(o?"-":"","(").concat(i,")"))}if(!isNaN(i)&&1===Math.abs(i)){var r=Object(_.a)(e);if(r===n(r))return t(parseFloat(i)*r);var c=parseFloat(i)/Math.abs(i)<0;return t("".concat(c?"-":"","(").concat(e,")"))}}if(!isNaN(e)&&!isNaN(i))return parseFloat(e)*parseFloat(i);var s="(".concat(e,")*(").concat(i,")"),u=Object(_.a)(s);return u===n(u)?t(u):t(s)},Divide:function(e,i){if(!isNaN(e)||!isNaN(i)){if(0===parseFloat(e))return 0;if(0===parseFloat(i)&&A.showError("200"),!isNaN(i)&&1===Math.abs(i)){var a=Object(_.a)(e);if(a===n(a))return t(parseFloat(i)*a);var o=parseFloat(i)/Math.abs(i)<0;return t("".concat(o?"-":"","(").concat(e,")"))}}var r="(".concat(e,")/(").concat(i,")"),c=Object(_.a)(r);return c===n(c)?t(c):t(r)},Sqrt:function(e){var i="(".concat(e,")^(1/2)");n(e)<0&&A.showError("200");var a=Object(_.a)(i);if("number"!==typeof a){if(0===n(e,8))return 0;A.showError("200")}return a===n(a)?a:t(i)},Pow:function(e,i){if(!isNaN(e))return parseFloat(e)*parseFloat(e);var a="(".concat(e,")^(").concat(i,")"),o=Object(_.a)(a);return o===n(o)?t(o):t(a)},isEqual:function(t,e){return n(t,7)===n(e,7)},Compare:function(t,e){var i=n(t,3),a=n(e,3);return i>a?1:i<a?-1:0},isZero:function(t){return 0===n(t,5)},Abs:function(n){return Object(_.a)(n)>=0?n:t(e(0,n))},isSmallerThanZero:function(t){return n(t,5)<0},Round:n,Max:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[0],a=Object(_.a)(i);return e.forEach(function(t){var e=Object(_.a)(t);e>a&&(a=e,i=t)}),i}})}(),q=T.Sub,L=T.Divide,F=T.isZero;function z(t){if(S(t)&&S(t.c)&&S(t.d)&&S(t.e))return{a:0,b:0,c:t.c,d:t.d,e:t.e}}function V(t){if(S(t)&&S(t.c)&&S(t.d)&&S(t.e))return{a:L(q(0,t.c),F(t.d)?1:t.d),b:L(q(0,t.e),F(t.d)?1:t.d)}}function U(t){if(S(t)&&S(t.a)&&S(t.b))return{a:0,b:0,c:q(0,t.a),d:1,e:q(0,t.b)}}var J=D.Number.MIN_RANDOM_NUMBER,H=D.Number.MAX_RANDOM_NUMBER,X=T.Add,G=T.Sub,W=T.Multiply,Z=T.Divide,Y=T.Sqrt,K=T.Pow,Q=T.isEqual,$=T.Compare,tt=T.isZero,et=(T.Abs,T.isSmallerThanZero,T.Round);T.Max;function nt(t,e){return R(t)&&R(e)?e<t?t:Math.floor(Math.random()*(e-t+1))+t:t}function it(t){if(S(t)&&S(t.a)&&S(t.b)&&S(t.c)&&S(t.d)&&S(t.e)){if(t.a||(t.a=0),t.b||(t.b=0),tt(t.a)&&tt(t.b)){if(tt(t.d))return{x:Z(G(0,t.e),t.c),y:nt(J,H)};var e=nt(J,H);return{x:e,y:Z(G(0,X(t.e,W(t.c,e))),t.d)}}if(Q(t.a,1)&&Q(t.b,1)){var n={a:Z(t.c,-2),b:Z(t.d,-2)},i=Y(G(X(K(n.a,2),K(n.b,2)),t.e)),a=nt(et(G(n.a,i),9),et(X(n.a,i),9)),o=[];return S(a)&&(o=Xt(t.b,t.d,X(X(K(a,2),W(a,t.c)),t.e))),{x:a,y:o[nt(0,o.length)]||0}}}}function at(t,e){if(S(t)&&S(t.x)&&S(e)&&S(e.x)){var n=Ct(t,e),i=nt(20,80)/100,a=$(t.x,e.x)<0?t.x:e.x,o=0===$(a,t.x)?e.x:t.x,r=G(o,a);if(0!=et(r)){var c=X(a,W(r,i));if(S(n)&&S(n.c)&&S(n.d)&&S(n.e)&&S(c))return{x:c,y:Z(X(W(n.c,c),n.e),G(0,n.d))}}else{if(a=$(t.y,e.y)<0?t.y:e.y,o=0===$(a,t.y)?e.y:t.y,r=G(o,a),0==et(r))return{x:t.x,y:t.y};var s=X(a,W(r,i));if(S(n)&&S(n.c)&&S(n.d)&&S(n.e)&&S(s))return{x:Z(X(W(n.d,s),n.e),G(0,n.c)),y:s}}}}function ot(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(S(t)&&S(t.x)&&S(e)&&S(e.x)){var i=Ct(t,e),a=nt(e.x,H),o=nt(J,t.x);if(S(i)&&S(i.c)&&S(i.d)&&S(i.e)&&S(o)&&S(a))return n?{x:a,y:Z(X(W(i.c,a),i.e),G(0,i.d))}:{x:o,y:Z(X(W(i.c,o),i.e),G(0,i.d))}}}var rt={isDev:!0},ct=!1,st=function(){function t(){Object(s.a)(this,t)}return Object(u.a)(t,null,[{key:"offLog",value:function(){ct=!0}},{key:"onLog",value:function(){ct=!1}},{key:"offEnvDev",value:function(){rt.isDev=!1}},{key:"onEnvDev",value:function(){rt.isDev=!0}},{key:"isDev",get:function(){return rt.isDev}},{key:"env",get:function(){return rt}},{key:"isOffLog",get:function(){return ct}}]),t}(),ut=function(){function t(){Object(s.a)(this,t)}return Object(u.a)(t,null,[{key:"logInfo",value:function(t){if(!st.isOffLog&&st.isDev&&t&&t.constructor){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(e=console).info.apply(e,["[".concat(t.constructor.name,"]")].concat(i))}}},{key:"logMsg",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!st.isOffLog&&st.isDev&&t&&t.constructor&&!n&&console.log("[".concat(t.constructor.name,"]"),e)}},{key:"logMsgWithLineBreaks",value:function(t){if(!st.isOffLog&&st.isDev&&t&&t.constructor){for(var e=void 0,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];Array.isArray(i)&&(e=i.join("\n ")),console.log("[".concat(t.constructor.name,"]"),"\n ".concat(e))}}},{key:"logError",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!st.isOffLog&&st.isDev&&t&&t.constructor&&!n&&console.error("[".concat(t.constructor.name,"]"),e)}}]),t}(),dt=D.Number.MIN_RANDOM_NUMBER,lt=D.Number.MAX_RANDOM_NUMBER,gt=(D.String.INFINITY,D.String.IMPOSSIBLE),ft=D.String.NOT_BE_IN_LINE,pt=T.Add,ht=T.Sub,yt=T.Multiply,vt=T.Divide,It=T.Sqrt,xt=T.Pow,mt=T.isEqual,Nt=T.Compare,bt=T.isZero,Mt=T.Abs,Pt=T.isSmallerThanZero,Ot=T.Round,Et=T.Max;function jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if("string"===typeof t)return Ot(t,e);if(!S(t))throw ut.logError(this,"".concat(t," is NaN")),console.error("error",t);var n=Math.pow(10,e);return Math.round(t*n)/n}function Bt(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(S(t)&&S(e)&&S(t.x)&&S(t.y)&&S(e.x)&&S(e.y)){var i=T.Sub(e.x,t.x),a=T.Sub(e.y,t.y);return n?{x:jt(i),y:jt(a)}:{x:i,y:a}}}function Dt(t,e){if(S(t)&&S(e)&&S(t.x)&&S(t.y)&&S(e.x)&&S(e.y))return bt(t.x)?bt(e.x)&&mt(vt(t.y,Mt(t.y)),vt(e.y,Mt(e.y))):bt(t.y)?bt(e.y)&&mt(vt(t.x,Mt(t.x)),vt(e.x,Mt(e.x))):bt(e.x)?bt(t.x)&&mt(vt(t.y,Mt(t.y)),vt(e.y,Mt(e.y))):bt(e.y)?bt(t.y)&&mt(vt(t.x,Mt(t.x)),vt(e.x,Mt(e.x))):mt(vt(t.x,Mt(t.x)),vt(e.x,Mt(e.x)))&&mt(vt(t.y,Mt(t.y)),vt(e.y,Mt(e.y)))&&mt(jt(yt(t.x,e.y)),jt(yt(t.y,e.x)))}function Rt(t,e){if(S(t)&&S(e)&&S(t.x)&&S(t.y)&&S(e.x)&&S(e.y))return bt(t.x)?bt(e.x):bt(t.y)?bt(e.y):bt(e.x)?bt(t.x):bt(e.y)?bt(t.y):mt(jt(yt(t.x,e.y)),jt(yt(t.y,e.x)))}function St(t,e){if(S(t)&&S(e)&&S(t.x)&&S(t.y)&&S(e.x)&&S(e.y))return{x:vt(pt(t.x,e.x),2),y:vt(pt(t.y,e.y),2)}}function kt(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(S(t)&&S(e)&&S(t.x)&&S(t.y)&&S(e.x)&&S(e.y))return n?{x:ht(yt(2,e.x),t.x),y:ht(yt(2,e.y),t.y)}:{x:ht(yt(2,t.x),e.x),y:ht(yt(2,t.y),e.y)}}function Ct(t,e){if(S(t)&&S(e)&&S(t.x)&&S(t.y)&&S(e.x)&&S(e.y)){var n={a:ht(e.x,t.x),b:ht(e.y,t.y)},i={a:ht(0,n.b),b:n.a};return{a:0,b:0,c:i.a,d:i.b,e:ht(yt(ht(0,i.a),t.x),yt(i.b,t.y))}}}function _t(t,e){if(S(t)&&S(e)&&S(t.x)&&S(t.y)&&S(e.x)&&S(e.y)){var n=xt(ht(e.x,t.x),2),i=xt(ht(e.y,t.y),2);return It(pt(n,i))}}function wt(t,e){if(S(t)&&S(e)&&S(e.c)&&S(e.d)&&S(e.e)){var n=Mt(pt(pt(yt(e.c,t.x),yt(e.d,t.y)),e.e)),i=It(pt(xt(e.c,2),xt(e.d,2)));return bt(i)?(ut.logError(this,"calculateDistanceFromPointToLine: m\u1eabu s\u1ed1 b\u1eb1ng 0"),A.showError(200),{}):vt(n,i)}}function At(t,e){if(S(t)&&S(t.x)&&S(t.y)&&S(e)&&S(e.d)){var n=V(e),i={};i.a=n.a,i.b=ht(t.y,yt(n.a,t.x));var a=U(i);return bt(e.d)&&(a.d=e.d),a}}function Tt(t,e){if(S(t)&&S(t.x)&&S(t.y)&&S(e)&&S(e.c)&&S(e.d)){var n={};if(bt(e.c))n.c=vt(-1,e.d),n.d=0,n.e=yt(ht(0,n.c),t.x);else if(bt(e.d))n.c=0,n.d=vt(-1,e.c),n.e=yt(ht(0,n.d),t.y);else{var i=V(e),a={};a.a=vt(-1,i.a),a.b=pt(t.y,vt(t.x,i.a)),n=U(a)}return n}}function qt(t,e){if(S(t)&&S(t.c)&&S(t.d)&&S(t.e)&&S(e)&&S(e.c)&&S(e.d)&&S(e.e)){var n=Wt({c:t.c,d:t.d,e:t.e},{a:0,b:0,c:e.c,d:e.d,e:e.e});if(Array.isArray(n))return 0===n.length?[]:n[0]}}function Lt(t,e){if(S(t)&&S(t.x)&&S(t.y)&&S(e))return{a:1,b:1,c:yt(-2,t.x),d:yt(-2,t.y),e:ht(pt(xt(t.x,2),xt(t.y,2)),xt(e,2))}}function Ft(t,e,n,i){if(S(t)&&S(e)&&S(n)&&S(i)){var a=Vt(t,e),o=a[0],r=a[1];if(bt(ne(t,e)))throw(new Map).set("error","kh\xf4ng h\u1ed7 tr\u1ee3 tr\u01b0\u1eddng h\u1ee3p n\xe0y");return Ut(o,r,n,i)}}function zt(t,e,n,i){if(S(t)&&S(e)&&S(n)&&S(i)){var a=Vt(t,e),o=a[0],r=a[1];if(bt(ne(t,e)))throw(new Map).set("error","kh\xf4ng h\u1ed7 tr\u1ee3 tr\u01b0\u1eddng h\u1ee3p n\xe0y");var c=Ut(o,r,n,i);return(a=a.filter(function(t){return JSON.stringify(t)!==JSON.stringify(c)}))[0]}}function Vt(t,e){if(S(t)&&S(t.c)&&S(t.d)&&S(t.e)&&S(e)&&S(e.c)&&S(e.d)&&S(e.e)){var n={},i={};if(bt(pt(xt(e.c,2),xt(e.d,2))))return ut.logError(this,"calculateDistanceFromPointToLine: m\u1eabu s\u1ed1 b\u1eb1ng 0"),A.showError(200),[];var a=vt(It(pt(yt(t.c,t.c),yt(t.d,t.d))),It(pt(yt(e.c,e.c),yt(e.d,e.d))));return n.c=ht(t.c,yt(a,e.c)),n.d=ht(t.d,yt(a,e.d)),n.e=ht(t.e,yt(a,e.e)),i.c=pt(t.c,yt(a,e.c)),i.d=pt(t.d,yt(a,e.d)),i.e=pt(t.e,yt(a,e.e)),[n,i]}}function Ut(t,e,n,i){if(S(t)&&S(t.c)&&S(t.d)&&S(t.e)&&S(e)&&S(n)&&S(n.x)&&S(n.y)&&S(i)&&S(i.x)&&S(i.y)){var a=pt(pt(yt(n.x,t.c),yt(n.y,t.d)),t.e),o=pt(pt(yt(i.x,t.c),yt(i.y,t.d)),t.e);return Nt(yt(a,o),0)>0?e:t}}function Jt(t,e){if(S(t)&&S(t.c)&&S(t.d)&&S(t.e)&&S(e)&&S(e.c)&&S(e.d)&&S(e.e)){if(bt(t.c)&&bt(e.c)&&bt(t.d)&&bt(e.d)||bt(t.c)&&bt(t.d)||bt(e.c)&&bt(e.d))return ut.logMsg(this,t,e,gt),{};if(bt(t.c)&&bt(e.d))return{x:ht(0,vt(e.e,e.c)),y:ht(0,vt(t.e,t.d))};if(bt(e.c)&&bt(t.d))return{x:ht(0,vt(t.e,t.c)),y:ht(0,vt(e.e,e.d))};if(bt(t.e)&&bt(e.e))return{x:0,y:0};if(bt(t.c)){var n=ht(0,vt(t.e,t.d));return{x:ht(0,vt(pt(e.e,yt(n,e.d)),e.c)),y:n}}if(bt(t.d)){var i=ht(0,vt(t.e,t.c));return{x:i,y:ht(0,vt(pt(e.e,yt(i,e.c)),e.d))}}if(bt(e.c)){var a=ht(0,vt(e.e,e.d));return{x:ht(0,vt(pt(t.e,yt(a,t.d)),t.c)),y:a}}if(bt(e.d)){var o=ht(0,vt(e.e,e.c));return{x:o,y:ht(0,vt(pt(t.e,yt(o,t.c)),t.d))}}var r=ht(0,vt(ht(yt(t.e,e.c),yt(t.c,e.e)),ht(yt(t.d,e.c),yt(t.c,e.d))));return{x:ht(0,vt(pt(t.e,yt(r,t.d)),t.c)),y:r}}}function Ht(t,e){if(S(t)&&S(e)&&S(e.c)&&S(e.d)&&S(e.e)){var n=vt(e.c,-2),i=vt(e.d,-2),a=wt({x:n,y:i},t);return Nt(a,It(ht(pt(xt(n,2),xt(i,2)),e.e)))>0?(ut.logMsgWithLineBreaks(this,t,e,gt),[]):Wt(t,e)}}function Xt(t,e,n){if(S(t)&&S(e)&&S(n)){var i=ht(xt(e,2),yt(4,yt(t,n)));return bt(t)?bt(e)?[]:[ht(0,vt(n,e))]:Pt(i)?[]:bt(i)?[ht(0,vt(e,yt(2,t)))]:[vt(pt(ht(0,e),It(i)),yt(2,t)),vt(ht(ht(0,e),It(i)),yt(2,t))]}return[]}function Gt(t,e){if(S(t)&&S(t.x)&&S(t.y)&&S(e)&&S(e.a)&&S(e.b)&&S(e.c)&&S(e.d)&&S(e.e)){if(void 0===t.x||void 0===t.y)return!1;void 0===e.a&&(e=z(e));var n=pt(pt(pt(yt(e.a,xt(t.x,2)),yt(e.b,xt(t.y,2))),pt(yt(e.c,t.x),yt(e.d,t.y))),e.e);return bt(Ot(n))}}function Wt(t,e){if(S(t)&&S(t.c)&&S(t.d)&&S(t.e)&&S(e)&&S(e.a)&&S(e.b)&&S(e.c)&&S(e.d)&&S(e.e)){var n=[],i=t.c,a=t.d,o=t.e,r=e.a,c=e.b,s=e.c,u=e.d,d=e.e;if(bt(i)){var l=Xt(yt(e.a,xt(t.d,2)),yt(e.c,xt(t.d,2)),pt(ht(yt(e.b,xt(t.e,2)),yt(yt(e.d,t.d),t.e)),yt(e.e,xt(t.d,2))));if(Array.isArray(l)&&1===l.length)n.push({x:l[0],y:vt(ht(0,t.e),t.d)});else{if(Array.isArray(l)&&0===l.length)return[];n.push({x:l[0],y:vt(ht(0,t.e),t.d)},{x:l[1],y:vt(ht(0,t.e),t.d)})}}else{var g=Xt(pt(yt(xt(i,2),c),yt(xt(a,2),r)),pt(ht(yt(yt(2,a),yt(o,r)),yt(i,yt(a,s))),yt(xt(i,2),u)),ht(pt(yt(r,xt(o,2)),yt(d,xt(i,2))),yt(i,yt(o,s))));if(Array.isArray(g)&&1===g.length)n.push({x:vt(ht(0,pt(o,yt(a,g[0]))),i),y:g[0]});else{if(Array.isArray(g)&&0===g.length)return[];var f=g[0],p=g[1];n.push({x:vt(ht(0,pt(o,yt(a,f))),i),y:f},{x:vt(ht(0,pt(o,yt(a,p))),i),y:p})}}return n}}function Zt(t,e){if(S(t)&&S(e)){var n,i,a=[];if(!t||!e)return[];if(n=void 0===t.a?z(t):t,i=void 0===e.a?z(e):e,mt(n.a,i.a)||mt(n.b,i.b)){if(bt(n.a)&&bt(n.b)&&bt(i.a)&&bt(i.b))return[Jt(n,i)];var o=i.c,r=i.d,c=i.e,s=Nt(n.a,i.a)>0?n.a:i.a,u=mt(s,n.a)?n.c:o,d=mt(s,n.a)?n.d:r,l=mt(s,n.a)?n.e:c,g=mt(s,n.a)?ht(n.c,o):ht(o,n.c),f=mt(s,n.a)?ht(n.d,r):ht(r,n.d),p=mt(s,n.a)?ht(n.e,c):ht(c,n.e);if(bt(g)||bt(f)){if(bt(g)&&bt(f))return ut.logMsgWithLineBreaks(this,"a = 0 || b = 0",t,e,gt),[];if(bt(g)){var h=vt(ht(0,p),f);return Xt(1,o,pt(pt(c,yt(r,h)),xt(h,2))).map(function(t){return{x:t,y:h}})}if(bt(f)){var y=vt(ht(0,p),g);return Xt(1,r,pt(pt(c,yt(o,y)),xt(y,2))).map(function(t){return{x:y,y:t}})}}else{var v=Xt(yt(s,pt(xt(f,2),xt(g,2))),ht(pt(yt(yt(2,f),yt(p,s)),yt(d,xt(g,2))),yt(u,yt(g,f))),ht(pt(yt(s,xt(p,2)),yt(l,xt(g,2))),yt(u,yt(g,p))));if(v===[])return ut.logMsgWithLineBreaks(this,t,e,gt),v;if(Array.isArray(v)&&1===v.length)a.push({x:vt(ht(0,pt(p,yt(f,v))),g),y:v[0]});else if(S(v)&&S(v[0])&&S(v[1])){var I=v[0],x=v[1];a.push({x:vt(ht(0,pt(p,yt(f,I))),g),y:I},{x:vt(ht(0,pt(p,yt(f,x))),g),y:x})}}return a}return bt(n.a)&&bt(n.b)?Ht(n,i):Ht(i,n)}return[]}function Yt(t,e,n,i){var a=[],o=[],r=[];if(S(t)&&S(e)&&S(n)&&S(i)){var c=te(Ct(t,e),n,i),s=0,u=c.filter(function(c,u){var d=qt(Ct(t,e),c),l=Bt(t,e,!1),g=Bt(d,n,!1);o.push(d),r.push(l),a.push(g),console.log($t(l,g),i);var f=$t(l,g)===parseInt(i);return f&&s++,f});return s>0?u[nt(0,s-1)]:A.showError("500")}}function Kt(t,e){if(S(t)&&S(t.x)&&S(t.y)&&S(e)&&S(e.x)&&S(e.y))return pt(yt(t.x,e.x),yt(t.y,e.y))}function Qt(t){if(S(t)&&S(t.x)&&S(t.y))return It(pt(xt(t.x,2),xt(t.y,2)))}function $t(t,e){if(S(t)&&S(t.x)&&S(t.y)&&S(e)&&S(e.x)&&S(e.y))return bt(t.x)&&bt(t.y)||bt(e.x)&&bt(e.y)?0:Ot("(acos(\n     ".concat(vt(Kt(t,e),yt(Qt(t),Qt(e))),")*180)/PI"),1)}function te(t,e,n){if(S(t)&&S(t.c)&&S(t.d)&&S(e)&&S(e.x)&&S(e.y)&&S(n)){var i=[],a=Ot("cos((".concat(n," * PI) / 180)")),o=Xt(ht(ht(xt(t.c,2),yt(xt(a,2),xt(t.c,2))),yt(xt(a,2),xt(t.d,2))),yt(2,yt(t.c,t.d)),ht(ht(xt(t.d,2),yt(xt(a,2),xt(t.c,2))),yt(xt(a,2),xt(t.d,2))));if(Array.isArray(o)&&1===o.length)i.push({c:o[0],d:1,e:ht(0,pt(yt(o[0],e.x),e.y))});else{if(o===[])return ut.logMsgWithLineBreaks(this,t,e,n,gt),o;S(o)&&S(o[0])&&S(o[1])&&i.push({c:o[0],d:1,e:ht(0,pt(yt(o[0],e.x),e.y))},{c:o[1],d:1,e:ht(0,pt(yt(o[1],e.x),e.y))})}return i}}function ee(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(S(t)){if("string"===typeof t)return t;if(S(t.x)&&S(t.y))return{x:Ot(t.x,e),y:Ot(t.y,e)}}}function ne(t,e){if(S(t)&&S(t.a)&&S(t.b)&&S(t.c)&&S(t.d)&&S(t.e)&&S(e)&&S(e.a)&&S(e.b)&&S(e.c)&&S(e.d)&&S(e.e)){if(t.a||t.b||e.a||e.b||bt(t.c)&&bt(t.d)&&bt(t.e)||bt(e.c)&&bt(e.d)&&bt(e.e))return-9999;var n=t.c,i=e.c,a=t.d,o=e.d,r="(acos(".concat(vt(Mt(pt(yt(n,i),yt(a,o))),It(yt(pt(xt(n,2),xt(a,2)),pt(xt(i,2),xt(o,2))))),") * 180) / PI");return Ot(r,1)}return-9999}function ie(t,e,n){if(S(t)&&S(e)&&S(n)){var i=Ct(t,e);if(!Gt(n,{a:0,b:0,c:i.c,d:i.d,e:i.e}))return ut.logMsgWithLineBreaks(this,t,e,n,ft),{};var a=_t(t,e),o=_t(e,n),r=_t(t,n),c=Et(a,o,r);return mt(a,c)?n:mt(r,c)?e:t}}function ae(t,e,n){if(S(t)&&S(e)&&S(n)){var i=Tt(St(n,e),Ct(n,e)),a=Tt(St(t,n),Ct(t,n));if(S(i)&&S(a)){var o=qt(i,a),r=_t(o,t);if(S(o)&&S(r))return{center:o,radius:r,equation:Lt(o,r)}}}}function oe(t,e,n){if(S(t)&&S(e)&&S(n)){var i=Ft(Ct(t,n),Ct(t,e),e,n),a=Ft(Ct(e,n),Ct(t,e),t,n);if(S(i)&&S(a)){var o=qt(i,a),r=wt(o,Ct(t,n));if(S(o)&&S(r))return{center:o,radius:r,equation:Lt(o,r)}}}}function re(t,e,n,i){if(ut.logInfo(this,t,e,n,i),S(t)&&S(e)&&S(n)&&S(i)){var a=[t,e,n].filter(function(t){return JSON.stringify(t)!==JSON.stringify(i)});if(S(a)){if(2!==a.length)return A.showError("300"),{};if(S(a[0]&&S(a[1]))){var o=Ft(Ct(i,a[0]),Ct(i,a[1]),a[0],a[1]),r=zt(Ct(i,a[0]),Ct(a[1],a[0]),i,a[1]);if(S(o)&&S(r)){var c=qt(o,r),s=wt(c,Ct(a[1],a[0]));if(S(c)&&S(s))return{center:c,radius:s,equation:Lt(c,s)}}}}}}function ce(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){var n=e||it(t),i={},a={x:vt(t.c,2),y:vt(t.d,2)};return i.a=0,i.b=0,i.c=pt(n.x,a.x),i.d=pt(n.y,a.y),i.e=pt(t.e,pt(yt(n.x,a.x),yt(n.y,a.y))),i}}function se(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(S(t)&&S(t.c)&&S(t.d)){var i={x:vt(ht(0,t.c),2),y:vt(ht(0,t.d),2)},a=St(i,e),o=vt(_t(i,e),2);if(S(a)&&S(o)){var r=Lt(a,o);if(S(r)){var c=Zt(t,r);return n&&S(c)&&(c=c.filter(function(t){return JSON.stringify(t)!==JSON.stringify(n)})),c}}}}function ue(t,e){if(S(t)&&S(e))return bt(ne(t,e))}function de(t,e,n){if(S(t)&&S(e)&&S(n)){var i=!1;return _t(t,e)===_t(t,n)?i=!0:_t(e,t)===_t(e,n)?i=!0:_t(n,e)===_t(n,t)&&(i=!0),i}}function le(t,e){if("number"!==typeof t||"number"!==typeof e)return!1;for(t=Math.abs(t),e=Math.abs(e);e;){var n=e;e=t%e,t=n}return t}function ge(t){return!isNaN(t)||"number"===typeof t||function(t){return"object"===typeof t&&null!==t}(t)&&"[object Number]"===pe(t)}function fe(t){return!!t&&(1===t.a&&1===t.b)}function pe(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":toString.call(t)}function he(t){var e="";return t.split("").forEach(function(t){var n;e+=(n=t)===n.toLowerCase()?"0":"1"}),e}function ye(t){if(ge(t)&&parseInt(t)==t&&parseInt(t)>0)return"value";if(function(t){for(var e=0;e<t.length;e++){if(ge(t[e]))return!1;if(e>0&&t.slice(0,e-1).includes(t[e]))return!1}return!0}(t)){if(3===t.length)return t.includes("(")&&t.includes(")")?"circle":"angle";switch(he(t)){case"0":return"line";case"1":return"point";case"10":return"ray";case"11":return"segment";default:return}}}function ve(t,e){if("value"!==t.key&&!me(t.value))return!1;var n,i=M.object[e];if("triangle"===t.key)return Ie({triangle:t.value});if("value"===t.key||"relation"===t.key||"undefined"===t.key||"circle"===t.key)return!0;if("angle"===t.key&&"1"!==he(t.value)[1])return!1;if(i.includes(t.key)||"object"!==t.key){var a=he(t.value);if((n=M[t.key])&&a)if(n.format){if(a===n.format&&t.value.length===n.length)return!0}else if(t.value.length===n.length)return!0}return!1}function Ie(t){var e=Object.keys(t),n=M.shape[e[0]],i=M.shapeType[e[0]]||[""],a=t[e[0]],o=he(t[e[0]])===n.format&&a.length===n.length,r=t.type||"",c=i.includes(r);return o&&c&&me(t[e[0]])}function xe(t,e){var n=e.split("").map(function(e){return t.includes(e)}),i=Object(c.a)(new Set(n));return 1===i.length?!i[0]:2===e.length?-1===n.indexOf(!0):3===e.length?!(0===n.indexOf(!0)||2===n.indexOf(!0)):void 0}function me(t){return t.split("").length===t.split("").filter(function(t,e,n){return n.indexOf(t)===e}).length}function Ne(t){var e=t.outputType;if("shape"===e)return Ie(t);delete t.outputType;var n=Object.keys(t);if(n.includes("undefined"))return!1;for(var i=0;i<n.length;i++)for(var a=t[n[i]],o=n[i],r=0;r<a.length;r++){var c=ve({key:o,value:a[r]},e);if(!c)return c}var s=Object.keys(t);return t.outputType=e,"define"===e?s.includes("value")?2===s.length:1===s.length:"relation"!==e||(t.triangle?t.segment[0].split("").filter(function(e){return t.triangle[0].includes(e)}).length>0:function(t){for(var e=Object.keys(t),n=0;n<N.length-1;n++)for(var i=0;i<N[n].length;i++)for(var a=0;a<N[n+1].length;a++)if(e.includes(N[n][i])&&t[N[n+1][a]])return xe(t[N[n][i]][0],t[N[n+1][a]][0]);return!0}(t))}function be(t){var e;switch(t.outputType){case"shape":e=function(t){var e={};return Object.keys(t).forEach(function(n){if(n.includes("type")){var i=t[n].toString().split(" "),a=i[i.length-1],o=n.split(" ").pop(),r=t[n].toString().replace(a,"").trim().split(" ");e[o]=a;var c="";3===r[0].length&&r[0].includes("(")&&r[0].includes(")")&&(e.point=r[0][1],c=r[0]),e.type=r.join(" ").replace(c,"").trim()}else e[n]=t[n].toString()}),e}(t);break;case"relation":e=function(t){var e={};return Object.keys(t).forEach(function(n){"arrayPoints"===n?e.point=t[n].toString().split(","):e[n]=t[n]}),e}(t);break;default:e=t}if(m.includes(e.relation)&&(e.object=e.object.reverse()),Object.keys(e).forEach(function(t){"object"===t&&e[t].forEach(function(t){var n=ye(t);e[n]||(e[n]=[]),"segment"===n&&(t=Me(t)),"circle"===n&&(t=t[1].toUpperCase()),"angle"===n&&(t=[t[0],t[2]].sort().join(t[1])),e[n].push(t)}),"circle"===t&&e[t].forEach(function(n,i){e[t][i]=e[t][i][1]})}),"shape"===t.outputType){var n=Object.keys(e).filter(function(t){return"type"!==t})[0];"triangle"!==n&&(e[n]=Me(e[n]))}return delete e.object,Ne(e)?e:{Error:e}}function Me(t){return t.split("").sort().join("")}window.math2D={calculateVector:Bt,isVectorSameDirection:Dt,isVectorInSameLine:Rt,calculateMiddlePoint:St,calculateSymmetricalPoint:kt,getLineFromTwoPoints:Ct,calculateParallelEquation:function(t){if(S(t)&&S(t.c)&&S(t.d)){var e=Math.floor(100*Math.random())-lt,n={};return n.c=t.c,n.d=t.d,n.e=e,n}},calculatePerpendicularEquation:function(t){if(S(t)&&S(t.c)&&S(t.d)){var e=Math.floor(100*Math.random())-dt,n={};return n.c=ht(0,t.c),n.d=t.d,n.e=e,n}},calculateDistanceTwoPoints:_t,calculateDistanceFromPointToLine:wt,calculateParallelLineByPointAndLine:At,calculatePerpendicularLineByPointAndLine:Tt,calculateIntersectionByLineAndLine:qt,calculateCircleEquationByCenterPoint:Lt,calculateInternalBisectLineEquation:Ft,calculateExternalBisectLineEquation:zt,_calculateBisectLineEquation:Vt,_getInternalBisectLineEquation:Ut,calculateSetOfEquationTypes:Jt,calculateIntersectionEquationTypeWithCircleEquation:Ht,calculateQuadraticEquation:Xt,isIn:Gt,calculateSetOfEquationTypeAndQuadraticEquation:Wt,calculateIntersectionTwoCircleEquations:Zt,calculateLinesByAnotherLineAndAngle:Yt,calculateIntegratedDirection:Kt,calculateVectorLength:Qt,calculateAngleTwoVector:$t,_calculateLinesByAnotherLineAndAngle:te,makeRoundCoordinate:ee,getAngleFromTwoLines:ne,getMiddlePointFromThreePointsInALine:ie,calculateCircumCircleEquation:ae,calculateInCircleEquation:oe,calculateEscribedCirclesEquation:re,calculateTangentEquation:ce,calculateTangentIntersectPointsByPointOutsideCircle:se,isTwoEquationEqual:ue,isIsosceles:de,gcd:le,fractionReducing:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("number"===typeof t&&"number"===typeof e){var n=le(t,e);return{numerator:Math.abs(t/n),denominator:Math.abs(e/n)}}return{}}};var Pe,Oe,Ee,je=D.Number.MIN_RANDOM_GENERATION,Be=D.Number.MAX_RANDOM_GENERATION,De={triangle:function(t,e){if(S(t)&&3===t.length){var n={x:0,y:0,z:0},i={},a={};switch(Re(t[0],n),e){case"":for(a.x=nt(n.x-je,n.x+Be),a.y=nt(n.y-je,n.y+Be),Re(t[1],a),i.x=nt(n.x-je,n.x+Be),i.y=nt(n.y-je,n.y+Be);Gt(i,Ct(n,a))||de(n,i,a);)i.x=nt(n.x-je,n.x+Be),i.y=nt(n.y-je,n.y+Be);Re(t[2],i);break;case"vu\xf4ng":i.y=nt(n.y+je,n.y+Be),i.x=n.x,Re(t[2],i),a.x=nt(n.x+1,n.x+50),a.y=n.y,Re(t[1],a);break;case"c\xe2n":var o=nt(3,6);a.y=nt(n.y+5,n.y+10),a.x=n.x-o,Re(t[1],a),i.y=a.y,i.x=n.x+o,Re(t[2],i);break;case"vu\xf4ng c\xe2n":var r=nt(5,10);a.y=n.y+r,a.x=n.x-r,Re(t[1],a),i.y=a.y,i.x=n.x+r,Re(t[2],i);break;case"\u0111\u1ec1u":i.x=nt(n.x+je,n.x+Be),i.y=Math.sqrt(3)*i.x,Re(t[2],i);var c=_t(n,i);a.y=i.y,a.x=-c+i.x,Re(t[1],a)}}},quadrilateral:function(t){if(S(t)&&4===t.length){var e={x:0,y:0,z:0};Re(t[0],e);var n={x:nt(e.x+je,e.x+Be),y:nt(e.y-Be,e.y+Be)};Re(t[1],n);var i={},a=Ct(e,n);if(S(a)&&S(a.c)&&S(a.e)){do{i.x=nt(e.x+je,e.x+Be),i.y=nt(n.y+je,n.y+Be)}while(Gt(i,a)||Math.abs(i.y-n.y)<5);Re(t[2],i)}var o={x:void 0,y:void 0},r=Ct(e,n),c=Ct(e,i),s=Ct(n,i),u=void 0,d=void 0,l=[],g=[];if(S(r)&&S(c)&&S(s)){do{o.x=nt(e.x-Be,Math.min(n.x,i.x)),o.y=nt(e.x+je,e.x+Be),u=Ct(e,o),d=Ct(i,o),S(u)&&S(d)&&(l=qt(r,d),g=qt(u,s)),Array.isArray(l)||(l=[]),Array.isArray(g)||(g=[])}while(Gt(o,r)||Gt(o,c)||Gt(o,s)||0===l.length||0===g.length);Re(t[3],o)}}},trapezoid:function(t,e){if(S(t)&&4===t.length){var n={x:0,y:0,z:0};switch(Re(t[0],n),e){case"":var i={x:nt(n.x+Math.floor(Be/2),n.x+Be),y:n.y};Re(t[1],i);var a={x:nt(i.x+Math.floor(Be/2),i.x+Be),y:nt(i.y+Math.floor(Be/2),n.y+Be)};Re(t[2],a);var o={x:nt(n.x-Math.floor(Be/2),n.x-Be),y:a.y};Re(t[3],o);break;case"c\xe2n":var r={x:nt(n.x+je,n.x+Be),y:n.y};Re(t[1],r);var c={x:nt(r.x+je,r.x+Be),y:nt(n.y+je,n.y+Be)};Re(t[2],c);var s=Math.abs(c.x-r.x),u=(nt(0,2),{x:n.x-s,y:c.y});Re(t[3],u)}}},parallelogram:function(t){if(S(t)&&4===t.length){var e={x:0,y:0,z:0};Re(t[0],e);var n={x:nt(e.x+je,e.x+Be),y:e.y};Re(t[1],n);var i={x:nt(e.x+je,e.x+Be),y:nt(e.x+je,e.x+Be)};Re(t[2],i);var a={x:i.x-n.x-e.x,y:i.y};Re(t[3],a)}},rectangle:function(t){if(4===t.length){var e={x:0,y:0,z:0};Re(t[0],e);var n={x:nt(e.x+je,e.x+Be),y:e.y};Re(t[1],n);var i={x:n.x,y:nt(n.y+je,n.y+Be)};Re(t[2],i);var a={x:e.x,y:i.y};Re(t[3],a)}},rhombus:function(t){if(S(t)&&4===t.length){var e={x:0,y:0,z:0};Re(t[0],e);var n={x:nt(e.x+je,e.x+Be),y:-nt(e.y+je,e.y+Be)};Re(t[1],n);var i={x:2*Math.abs(n.x-e.x),y:e.y};Re(t[2],i);var a={x:n.x,y:Math.abs(-n.y-e.y)};Re(t[3],a)}},square:function(t){if(S(t)&&4===t.length){var e={x:0,y:0,z:0};Re(t[0],e);var n={x:nt(e.x+je,e.x+Be),y:e.y};Re(t[1],n);var i={x:n.x,y:n.y+_t(e,n)};Re(t[2],i);var a={x:e.x,y:i.y};Re(t[3],a)}},circle:function(t){}};function Re(t,e){S(t)&&S(e)&&rn&&C(rn.updateCoordinate)&&rn.updateCoordinate(t,e)}function Se(t,e){var n;if(rn.executingRelation=t,t.operation)n=function(t,e){var n=t.segment?"segment":"angle",i={},a=[];if(t.value&&1===t[n].length)i[t[n][0]]=t.value[0],a.push(t[n][0]);else for(var o in t[n]){var r=t[n][o];r.includes(e)&&a.push(r),i[r]="segment"===n?_t(rn.getNodeInPointsMapById(r[0]).coordinate,rn.getNodeInPointsMapById(r[1]).coordinate):(Ct(rn.getNodeInPointsMapById(r[0]).coordinate,rn.getNodeInPointsMapById(r[1]).coordinate),Ct(rn.getNodeInPointsMapById(r[1]).coordinate,rn.getNodeInPointsMapById(r[2]).coordinate))}if(1===a.length){var s,u=t[n].indexOf(a[0]),d=t[n][0===u?1:0];return s=t[n].length>1?0===u?t.value*i[d]:i[d]/t.value:t.value[0],"segment"===n?Lt(rn.getNodeInPointsMapById(a[0].replace(e,"")).coordinate,s):function(t,e,n){var i=function(t){for(var e=0;e<t.length;e++)if(!rn.isValidCoordinate(t[e])){var n=rn.getNodeInPointsMapById(t[e]).coordinate;return rn.updateCoordinate(t[e],{x:n.x||nt(-10,10),y:n.y||nt(-10,10)}),{angle:t,isChanged:!1}}var i=function(){var t=[];return rn.getData.relationsResult.shapes.forEach(function(e){var n=Object.keys(e).filter(function(t){return"outputType"!==t})[0];B.includes(n)&&t.push(e[n])}),t}(),a="".concat(t[1]).concat(t[2]);if(0===i.length&&rn.isStaticNodeById(t[2])&&!rn.isStaticNodeById(t[0]))return{angle:t.split("").reverse().join(""),isChanged:!1};for(var o=0;o<i.length;o++){var r=i[o],c=Bt(rn.getNodeInPointsMapById(a[0]).coordinate,rn.getNodeInPointsMapById(a[1]).coordinate),s=t;(Rt(Bt(rn.getNodeInPointsMapById(r[0]).coordinate,rn.getNodeInPointsMapById(r[1]).coordinate),c)||Rt(Bt(rn.getNodeInPointsMapById(r[1]).coordinate,rn.getNodeInPointsMapById(r[2]).coordinate),c))&&(s=t.split("").reverse().join(""));var u=s!==t,d=s[2];Rt(Bt(rn.getNodeInPointsMapById(r[0]).coordinate,rn.getNodeInPointsMapById(r[2]).coordinate),c)?s[1]===r[0]?Dt(Bt(rn.getNodeInPointsMapById(r[0]).coordinate,rn.getNodeInPointsMapById(r[2]).coordinate),c)&&(d=r[2],u=!1):s[1]===r[2]&&Dt(Bt(rn.getNodeInPointsMapById(r[2]).coordinate,rn.getNodeInPointsMapById(r[0]).coordinate),c)&&(d=r[0],u=!1):Rt(Bt(rn.getNodeInPointsMapById(r[1]).coordinate,rn.getNodeInPointsMapById(r[3]).coordinate),c)&&(s[1]===r[1]?Dt(Bt(rn.getNodeInPointsMapById(r[1]).coordinate,rn.getNodeInPointsMapById(r[3]).coordinate),c)&&(d=r[3],u=!1):s[1]===r[3]&&Dt(Bt(rn.getNodeInPointsMapById(r[3]).coordinate,rn.getNodeInPointsMapById(r[1]).coordinate),c)&&(d=r[1],u=!1)),g=[s[1],d],rn.reExecuteNode(g);var l=s.replace(s[2],d);return{angle:l,isChanged:u}}var g;return{angle:t,isChanged:!1}}(t),a=i.angle;console.log(a);var o=rn.getNodeInPointsMapById(a[0]).coordinate,r=rn.getNodeInPointsMapById(a[1]).coordinate,c=rn.getNodeInPointsMapById(a[2]).coordinate,s=Yt(r,o,c,e),u=qt(s,Ct(o,r)),d=Bt(Zt(s,Lt(c,_t(c,r))).sort(function(t,e){return T.Compare(_t(u,t),_t(u,e))})[0],r,!1);if(!1===i.isChanged){var l={x:T.Add(c.x,d.x),y:T.Add(c.y,d.y)};Bt(r,o,!1),Bt(r,l,!1);return rn.updateCoordinate(a[2],l),rn.getData.getPointDirectionMap[a[2]]={root:a[1],isRight:T.Compare(r.x,l.x),isUp:T.Compare(r.y,l.y)},rn.getData.getPointDirectionMap[a[0]]={root:a[1],isRight:T.Compare(r.x,o.x),isUp:T.Compare(r.y,o.y)},void rn.replaceSetOfEquation(a[2],Ct(r,c),At(r,s))}var g={x:T.Sub(o.x,d.x),y:T.Sub(o.y,d.y)};return rn.updateCoordinate(a[0],g),rn.getData.getPointDirectionMap[a[0]]={root:a[1],isRight:T.Compare(r.x,g.x)<0,isUp:T.Compare(r.y,g.y)<0},rn.getData.getPointDirectionMap[a[2]]={root:a[1],isRight:T.Compare(r.x,c.x),isUp:T.Compare(r.y,c.y)},rn.replaceSetOfEquation(a[1],Ct(r,c),At(r,s)),Ct(r,n===a[2]?c:o)}(a[0],s,e)}if(2===a.length&&"segment"===n){var l=a[0].replace(e,""),g=a[1].replace(e,"");if(!rn.isStaticNodeById(l)||!rn.isStaticNodeById(g))return;var f=Ct(rn.getNodeInPointsMapById(l).coordinate,rn.getNodeInPointsMapById(g).coordinate),p=_t(rn.getNodeInPointsMapById(l).coordinate,rn.getNodeInPointsMapById(g).coordinate),h=Gt(rn.getNodeInPointsMapById(e).coordinate,{a:0,b:0,c:f.coefficientX,d:f.coefficientY,e:f.constantTerm}),y=+t.value[0];if(h){var v,I=ie(rn.getNodeInPointsMapById(e).coordinate,rn.getNodeInPointsMapById(l).coordinate,rn.getNodeInPointsMapById(g).coordinate);return I===rn.getNodeInPointsMapById(e).coordinate&&(v=Ht(f,Lt(rn.getNodeInPointsMapById(l).coordinate,y*p/(y+1))),Object(c.a)(v).forEach(function(t){var e=ie(t,rn.getNodeInPointsMapById(l).coordinate,rn.getNodeInPointsMapById(g).coordinate);e===t&&(v=t)})),I===rn.getNodeInPointsMapById(l).coordinate&&y<1&&(v=Ht(f,Lt(rn.getNodeInPointsMapById(l).coordinate,y*p/(1-y))),Object(c.a)(v).forEach(function(t){var e=ie(t,rn.getNodeInPointsMapById(l).coordinate,rn.getNodeInPointsMapById(g).coordinate);e===rn.getNodeInPointsMapById(l).coordinate&&(v=t)})),I===rn.getNodeInPointsMapById(g).coordinate&&y>1&&(v=Ht(f,Lt(rn.getNodeInPointsMapById(l).coordinate,y*p/(y-1))),Object(c.a)(v).forEach(function(t){var e=ie(t,rn.getNodeInPointsMapById(l).coordinate,rn.getNodeInPointsMapById(g).coordinate);e===rn.getNodeInPointsMapById(g).coordinate&&(v=t)})),rn.updateCoordinate(e,v),f}return null}}(t,e);else if(t.relation){switch(t.relation){case"trung \u0111i\u1ec3m":case"thu\u1ed9c":case"kh\xf4ng thu\u1ed9c":case"song song":case"vu\xf4ng g\xf3c":case"ph\xe2n gi\xe1c":case"ph\xe2n gi\xe1c ngo\xe0i":case"ph\xe2n gi\xe1c trong":case"th\u1eb3ng h\xe0ng":case"\u0111\u01b0\u1eddng cao":case"trung tuy\u1ebfn":n=function(t,e){var n,i;t.segment&&t.segment.forEach(function(t){t.includes(e)?n=t:i=t});var a=t.relation;if("trung \u0111i\u1ec3m"===a||"thu\u1ed9c"===a||"kh\xf4ng thu\u1ed9c"===a||"th\u1eb3ng h\xe0ng"===a){var o;if(t.circle)return o=it(rn.getCircleEquation(t.circle[0])),rn.updateCoordinate(t.point[0],o),rn.getCircleEquation(t.circle[0]);if(n){var r=t.point[0],c=rn.getNodeInPointsMapById(n.replace(e,""));if(!c.coordinate.x&&!c.coordinate.y)return null;"trung \u0111i\u1ec3m"===a&&(o=kt(c.coordinate,rn.getNodeInPointsMapById(r).coordinate,1===n.indexOf(e)),rn.updateCoordinate(e,o))}else{if(!i){var s=t.point,u=s.indexOf(e);return 1===u?(o=at(rn.getNodeInPointsMapById(s[0]).coordinate,rn.getNodeInPointsMapById(s[2]).coordinate),rn.updateCoordinate(e,o)):(o=ot(rn.getNodeInPointsMapById(s[2===u?0:1]).coordinate,rn.getNodeInPointsMapById(s[2===u?1:2]).coordinate,2===u),rn.updateCoordinate(e,o)),Ct(rn.getNodeInPointsMapById(s[0]).coordinate,rn.getNodeInPointsMapById(s[1]).coordinate)}switch(a){case"trung \u0111i\u1ec3m":return o=St(rn.getNodeInPointsMapById(i[0]).coordinate,rn.getNodeInPointsMapById(i[1]).coordinate),rn.updateCoordinate(e,o),Ct(rn.getNodeInPointsMapById(i[0]).coordinate,rn.getNodeInPointsMapById(i[1]).coordinate);case"thu\u1ed9c":return o=at(rn.getNodeInPointsMapById(i[0]).coordinate,rn.getNodeInPointsMapById(i[1]).coordinate),rn.getData.getPointDirectionMap[e]={root:i[0],isRight:T.Compare(rn.getNodeInPointsMapById(i[0]).coordinate.x,o.x),isUp:T.Compare(rn.getNodeInPointsMapById(i[0]).coordinate.x,o.y)},rn.pushInsideRule(e,i),rn.updateCoordinate(e,o),Ct(rn.getNodeInPointsMapById(i[0]).coordinate,rn.getNodeInPointsMapById(i[1]).coordinate);case"kh\xf4ng thu\u1ed9c":o=ot(rn.getNodeInPointsMapById(i[0]).coordinate,rn.getNodeInPointsMapById(i[1]).coordinate,1===nt(0,2)),rn.getData.getAdditionSegment.push("".concat(e).concat(i[0])),rn.updateCoordinate(e,o),rn.getData.getPointDirectionMap[e]={root:i[0],isRight:T.Compare(rn.getNodeInPointsMapById(i[0]).coordinate.x,o.x),isUp:T.Compare(rn.getNodeInPointsMapById(i[0]).coordinate.x,o.y)},rn.pushInsideRule(e,i)}}return Ct(rn.getNodeInPointsMapById(t.segment[0][0]).coordinate,rn.getNodeInPointsMapById(t.segment[0][1]).coordinate)}if("song song"===a||"vu\xf4ng g\xf3c"===a){if(!i)return;var d=n.replace(e,"");if(!rn.isValidCoordinate(d)&&!rn.isValidCoordinate(e)){var l=function(t,e){if(S(t)&&S(e)){var n=Ct(t,e);return it(Tt(at(t,e),n))}}(rn.getNodeInPointsMapById(i[0]).coordinate,rn.getNodeInPointsMapById(i[1]).coordinate);l&&rn.updateCoordinate(d,l)}for(var g=0;g<2;g++)if(!rn.isValidCoordinate(i[g]))return;var f,p=Ct(rn.getNodeInPointsMapById(i[0]).coordinate,rn.getNodeInPointsMapById(i[1]).coordinate);if(!rn.isValidCoordinate(d))return;if("vu\xf4ng g\xf3c"===a){f=Tt(rn.getNodeInPointsMapById(d).coordinate,p);var h=Gt(rn.getNodeInPointsMapById(d).coordinate,p),y=h?it(f):qt(f,p);h||(rn.getData.getAdditionSegment.push("".concat(e).concat(i[1])),rn.getData.getAdditionSegment.push("".concat(e).concat(i[0]))),rn.updateCoordinate(e,y)}if("song song"===a){var v=it(f=At(rn.getNodeInPointsMapById(d).coordinate,p));rn.updateCoordinate(e,v)}return f}if(a.includes("ph\xe2n gi\xe1c")){var I="ph\xe2n gi\xe1c ngo\xe0i"===a;if(t.angle){var x=t.angle[0];if(x.includes(e))return;var m,N=Ct(rn.getNodeInPointsMapById(x[0]).coordinate,rn.getNodeInPointsMapById(x[2]).coordinate);if(I){var b=it(m=zt(Ct(rn.getNodeInPointsMapById(x[0]).coordinate,rn.getNodeInPointsMapById(x[1]).coordinate),Ct(rn.getNodeInPointsMapById(x[1]).coordinate,rn.getNodeInPointsMapById(x[2]).coordinate),rn.getNodeInPointsMapById(x[0]).coordinate,rn.getNodeInPointsMapById(x[2]).coordinate));rn.updateCoordinate(e,b)}else{var M=qt(m=Ft(Ct(rn.getNodeInPointsMapById(x[0]).coordinate,rn.getNodeInPointsMapById(x[1]).coordinate),Ct(rn.getNodeInPointsMapById(x[1]).coordinate,rn.getNodeInPointsMapById(x[2]).coordinate),rn.getNodeInPointsMapById(x[0]).coordinate,rn.getNodeInPointsMapById(x[2]).coordinate),N);rn.updateCoordinate(e,M)}return m}}else if("\u0111\u01b0\u1eddng cao"===a||"trung tuy\u1ebfn"===a){var P,O=t.segment[0],E=t.triangle[0].replace(O.replace(e,""),"");if("trung tuy\u1ebfn"===a&&(P=St(rn.getNodeInPointsMapById(E[1]).coordinate,rn.getNodeInPointsMapById(E[0]).coordinate)),"\u0111\u01b0\u1eddng cao"===a){var j=Tt(rn.getNodeInPointsMapById(O.replace(e,"")).coordinate,Ct(rn.getNodeInPointsMapById(E[1]).coordinate,rn.getNodeInPointsMapById(E[0]).coordinate));P=qt(j,Ct(rn.getNodeInPointsMapById(E[1]).coordinate,rn.getNodeInPointsMapById(E[0]).coordinate))}rn.updateCoordinate(e,P)}}(t,e);break;case"c\u1eaft":n=function(t,e){for(var n in t.segment)for(var i=0;i<2;i++)if(!rn.isValidCoordinate(t.segment[n][i]))return;if(t.segment&&2===t.segment.length){var a=Ct(rn.getNodeInPointsMapById(t.segment[0][0]).coordinate,rn.getNodeInPointsMapById(t.segment[0][1]).coordinate),o=Ct(rn.getNodeInPointsMapById(t.segment[1][0]).coordinate,rn.getNodeInPointsMapById(t.segment[1][1]).coordinate);t.segment.forEach(function(e){rn.getData.getAdditionSegment.push("".concat(t.point[0]).concat(e[0])),rn.getData.getAdditionSegment.push("".concat(t.point[0]).concat(e[1]))});var r=qt(a,o);rn.updateCoordinate(t.point[0],r)}else if(t.circle&&2===t.circle.length){var c=Zt(rn.getCircleEquation(t.circle[0]),rn.getCircleEquation(t.circle[1]));c.forEach(function(e,n){t.point[n]&&rn.updateCoordinate(t.point[n],e)})}else{var s=rn.getNodeInPointsMapById(t.segment[0][0]).coordinate,u=rn.getNodeInPointsMapById(t.segment[0][1]).coordinate,d=Zt(Ct(s,u),rn.getCircleEquation(t.circle[0]));"string"===typeof d&&A.showError("200"),d=d.filter(function(t){return!(T.isEqual(t.x,s.x)&&T.isEqual(t.y,s.y))&&!(T.isEqual(t.x,u.x)&&T.isEqual(t.y,u.y))}),2===t.point.length?d.forEach(function(e,n){t.point[n]?rn.updateCoordinate(t.point[n],e):A.showError("200")}):d.length>0&&rn.updateCoordinate(t.point[0],d[nt(0,d.length-1)]),t.point.forEach(function(e){rn.getData.getAdditionSegment.push("".concat(t.segment[0][0]).concat(e))})}}(t);break;case"ti\u1ebfp tuy\u1ebfn":n=function(t,e){var n=t.segment[0].replace(e,"");if(!rn.isStaticNodeById(n))return;var i,a=rn.getNodeInPointsMapById(n).coordinate,o=rn.getCircleEquation(t.circle[0]);if(Gt(a,o))i=ce(o,a),rn.updateCoordinate(e,it(i)),rn.getData.getAdditionSegment.push("".concat(n).concat(t.circle[0]));else{var r=se(o,a),c=function(t,e){var n=t.filter(function(t){return!rn.isCoordinateDuplicated(t)});return n.map(function(t){return{equation:ce(e,t),point:t}})[nt(0,n.length-1)]}(r,o);i=c.tangentEquation,rn.updateCoordinate(e,c.point),rn.getData.getAdditionSegment.push("".concat(e).concat(t.circle[0]))}return i}(t,e);break;case"\u0111\u01b0\u1eddng k\xednh":n=function(t,e){var n=t.segment[0],i=0;n.split("").forEach(function(t){rn.isValidCoordinate(t)||(i+=1)}),1===i?A.showError("200",t):2===i&&n.split("").forEach(function(t,e){if(!rn.isValidCoordinate(t)){var i;do{i={x:nt(-10,10),y:0}}while(JSON.stringify(i)!==JSON.stringify(rn.getNodeInPointsMapById(n[0]).coordinate));rn.updateCoordinate(t,i)}});var a=rn.getNodeInPointsMapById(n[0]).coordinate,o=rn.getNodeInPointsMapById(n[1]).coordinate,r=St(a,o);rn.updateCoordinate(t.circle[0],r),rn.circlesData[t.circle[0]]={equation:Lt(r,_t(r,a)),center:r,radius:_t(r,a)}}(t);break;default:n=null}}else if("shape"===t.outputType){var i=Object.keys(t).filter(function(t){return"type"!==t})[0];switch(i){case"triangle":var a=Le(t[i])[0];n=Ct(rn.getNodeInPointsMapById(a).coordinate,rn.getNodeInPointsMapById(e).coordinate);break;case"quadrilateral":case"rectangle":case"square":case"rhombus":case"trapezoid":case"parallelogram":if("quadrilateral"!==i){var o=0;t[i].split("").forEach(function(t){rn.isStaticNodeById(t)&&o++});var r=j.includes(i)?1:2;if(o>r)return}var s=t[i].indexOf(e);s===t[i].length-1?n=Ct(rn.getNodeInPointsMapById(t[i][s]).coordinate,rn.getNodeInPointsMapById(t[i][0]).coordinate):(s=0===s?t[i].length-1:s-1,n=Ct(rn.getNodeInPointsMapById(t[i][s]).coordinate,rn.getNodeInPointsMapById(e).coordinate))}}return n?void 0!==n.coefficientX?{a:0,b:0,c:n.coefficientX,d:n.coefficientY,e:n.constantTerm}:n:null}function ke(){rn.createPointDetails(),console.table(JSON.parse(JSON.stringify(rn.getData.getPointsMap)));var t=function(){var t=rn.getNextExecuteNode();if(!t)return"break";if(function(t){if(function(t){for(var e=[],n=0;n<t.length;n++){for(var i=!0,a=0;a<e.length;a++)if(t[n].relation===e[a]){i=!1;break}i&&e.push(t[n].relation)}return e}(t.dependentNodes).forEach(function(e){var n;if("shape"===e.outputType){if(Oe=Object.keys(e).filter(function(t){return"type"!==t})[0],Ee=O[e.type]||"normal",Pe=e[Oe],E.includes(Ee)){var i=null;switch(Ee){case"n\u1ed9i ti\u1ebfp":i=oe(rn.getNodeInPointsMapById(Pe[0]).coordinate,rn.getNodeInPointsMapById(Pe[1]).coordinate,rn.getNodeInPointsMapById(Pe[2]).coordinate);break;case"ngo\u1ea1i ti\u1ebfp":i=ae(rn.getNodeInPointsMapById(Pe[0]).coordinate,rn.getNodeInPointsMapById(Pe[1]).coordinate,rn.getNodeInPointsMapById(Pe[2]).coordinate);break;case"b\xe0ng ti\u1ebfp":i=re(rn.getNodeInPointsMapById(Pe[0]).coordinate,rn.getNodeInPointsMapById(Pe[1]).coordinate,rn.getNodeInPointsMapById(Pe[2]).coordinate,rn.getNodeInPointsMapById(e.escribedPoint[0]).coordinate)}i?(rn.circlesData[e.point[0]]=i,rn.updateCoordinate(e.point[0],i.center)):A.showError("400")}else rn.isExecutedRelation(e)||(function(t,e,n){var i=De[e];i&&i(t,n)}(e[Oe],Oe,e.type),function(t){if(!(t.length<4)){var e=0;t.split("").forEach(function(n,i){if(i>0){e=i===t.length-1?1:i;var a=rn.getNodeInPointsMapById(n).coordinate,o=rn.getNodeInPointsMapById(t[e-1]).coordinate;rn.getData.getPointDirectionMap[n]={root:t[e-1],isRight:T.Compare(o.x,a.x),isUp:T.Compare(o.y,a.y)}}})}}(e[Oe]));P[Oe]&&P[Oe][Ee]&&Ce(Pe,Oe,P[Oe][Ee],t.id)}rn.isExecutedRelation(e)||((n=Se(e,t.id))&&(Array.isArray(n)&&(n=n[nt(0,n.length)]),rn.executePointDetails(t.id,n)),rn.getData.getExecutedRelations.push(e))}),rn.isReCalculated)return void(rn.isReCalculated=!1);rn.getData.getExecutedNode.push(t.id)}(t),rn.getData.getPointDetails.has(t.id)){var e=rn.getData.getPointDetails.get(t.id).roots;if("string"===typeof e)return A.showError("400"),{v:void 0};if(e.length>0){var n;if(rn.isNeedRandomCoordinate(t.id))n=e[nt(0,e.length-1)];else{var i=rn.getData.getPointDirectionMap[t.id];if(i){var a=rn.getNodeInPointsMapById(i.root).coordinate;if(e.length>1){var o=e.map(function(t){return{coordinate:t,isRight:T.Compare(a.x,t.x),isUp:T.Compare(a.y,t.y)}}).map(function(t){var e=0;return t.isRight===i.isRight&&e++,t.isUp===i.isUp&&e++,{coordinate:t.coordinate,matchCount:e}}).sort(function(t,e){return e.matchCount-t.matchCount});if((o=o.filter(function(t){return t.matchCount===o[0].matchCount})).length>1)n=o.filter(function(e){return rn.checkInsideRule(t.id,e)})[0].coordinate;else n=o[0].coordinate}else n=e[0]}else n=e[0]}n&&rn.updateCoordinate(t.id,n)}}rn.updateStaticNode(),P[Oe]&&P[Oe][Ee]&&(Ce(Pe,Oe,P[Oe][Ee],t.id),!0)};t:for(;!rn.isPointsMapStatic();){var e=t();switch(e){case"break":break t;default:if("object"===typeof e)return e.v}}return rn.getData.getPointsMap.forEach(function(t){if(rn.getData.getPointDetails.has(t.id)){var e=rn.getData.getPointDetails.get(t.id).setOfEquation;if(1===e.length&&fe(e[0]))return void rn.updateCoordinate(t.id,it(e[0]))}}),rn.getData.getPointsMap.map(function(t){return{id:t.id,coordinate:t.coordinate}})}function Ce(t,e,n,i){for(var a=j.includes(e)?2:1,o=t.replace(i,"").split(""),r=0,c=0;c<o.length;c++)rn.isStaticNodeById(o[c])&&r++;if(!(r<a)){var s=n.split(new RegExp("&","g")),u=t.indexOf(i),d=[];s.length>0&&(s.forEach(function(e){var n=e[2];if(e.includes(u)){var i;switch(n){case"|":i=function(t,e,n){var i,a;if(t.split("|").forEach(function(t){2!==t.split("").filter(function(t){return rn.isStaticNodeById(e[t])}).length||i?a=t:i=t}),i&&a.includes(n)&&rn.isStaticNodeById(e[a.replace(n,"")])){var o=rn.getNodeInPointsMapById(e[a.replace(n,"")]).coordinate,r=Ct(rn.getNodeInPointsMapById(e[i[0]]).coordinate,rn.getNodeInPointsMapById(e[i[1]]).coordinate),c=At(o,r);return[c]}}(e,t,u);break;case"^":i=e[1]===e[3]?function(t,e,n){var i,a;if(t.split("^").forEach(function(t){2!==t.split("").filter(function(t){return rn.isStaticNodeById(e[t])}).length||i?a=t:i=t}),i&&a.includes(n)&&!i.includes(n))return[Tt(rn.getNodeInPointsMapById(e[t[1]]).coordinate,Ct(rn.getNodeInPointsMapById(e[i[0]]).coordinate,rn.getNodeInPointsMapById(e[i[1]]).coordinate))]}(e,t,u):function(t,e,n){var i,a,o=t.split("^").filter(function(t){return rn.isStaticNodeById(e[t[0]])&&rn.isStaticNodeById(e[t[1]])});t.split("^").forEach(function(t){t.includes(n)?i=t:a=t});var r=e.split("").map(function(t){return rn.getNodeInPointsMapById(t).coordinate});if(1===o.length){var c=St(r[o[0][0]],r[o[0][1]]),s=o[0]===a?i:a,u=s.split("").filter(function(t){return rn.isStaticNodeById(e[t])})[0];if(void 0===u){var d=Tt(c,Ct(r[o[0][0]],r[o[0][1]])),l=qt(d,Ct(r[o[0][0]],r[s[0]]));return rn.updateCoordinate(e[s[0]],l),d}if(e[s.replace(u,"")]){var g=kt(r[u],c);rn.updateCoordinate(e[s.replace(u,"")],g);var f=Tt(r[u],Ct(c,r[u]));return f}}else if(0===o.length&&a){var p,h=qt(Tt(r[n],Ct(r[a[0]],r[a[1]])),Ct(r[a[0]],r[a[1]])),y=i.replace(n,"");rn.isStaticNodeById(e[y])?(p=kt(r[y],h),rn.updateCoordinate(e[n],p)):(p=kt(r[n],h),rn.updateCoordinate(e[y],p));var v=a.split("").filter(function(t){return!rn.isStaticNodeById(e[t])})[0];p=kt(r[a.replace(v,"")],h),rn.updateCoordinate(e[v],p)}}(e,t,u);break;case"=":i=function(t,e,n){var i,a;if(t.split("=").forEach(function(t){2!==t.split("").filter(function(t){return rn.isStaticNodeById(e[t])}).length||i?a=t:i=t}),i){var o=i.split("").filter(function(t){return rn.isStaticNodeById(e[t])}).length;if(o<2)return[];var r=e[a.replace(n,"")],c=_t(rn.getNodeInPointsMapById(e[i[0]]).coordinate,rn.getNodeInPointsMapById(e[i[1]]).coordinate);if(!i.includes(n))return[Lt(rn.getNodeInPointsMapById(r).coordinate,c)]}}(e,t,u)}i&&(d=d.concat(i))}}),d.forEach(function(t){rn.executePointDetails(i,t)}))}}var _e=[],we=[],Ae=["30","45","60","75","120","150"];function Te(t){console.log(JSON.stringify(t)),we=[],(t=function(t){var e=t.shapes,n=!1,i="";if(e.forEach(function(t){t.triangle&&!t.point&&(n=!0,i=t.triangle)}),!n)return t;var a=[],o=[],r=[],c=[];t.relations.forEach(function(t){"define"===t.outputType&&t.value&&(t.segment&&t.segment.forEach(function(e){!a.includes(e)&&i.includes(e[0])&&i.includes(e[1])&&(a.push(e),r.push(t))}),t.angle&&t.angle.forEach(function(e){i.includes(e[0])&&i.includes(e[1])&&i.includes(e[2])&&(o.push(e),c.push(t))}))});var s=[];if(o.length>1){if(o.length>2&&(o=o.splice(0,2),s=s.concat(c.splice(2,c.length-2))),a.length>0){var u=[o[0][1],o[1][1]].sort().join(""),d=-1;if(a.some(function(t,e){return t.split("").sort().join("")===u&&(d=e,!0)}),d>=0)r.splice(d,1);else{var l=r[0],g=l.segment[0],f=l.value,p=0,h=c.filter(function(t){return p+=parseInt(t.value),!g.includes(t.angle[0][1])}).map(function(t){return parseInt(t.value)})[0],y=f*Math.sin((180-p)*Math.PI/360)/Math.sin(h*Math.PI/360);t.relations.push({operation:"=",outputType:"define",segment:[u],value:["".concat(y)]})}s=s.concat(r)}}else a.length>1&&(2===a.length&&c.shift(),s=c);var v=t.relations.filter(function(t){for(var e=0;e<s.length;e++)if(JSON.stringify(t)===JSON.stringify(s[e]))return!1;return!0});return s.forEach(function(t){A.updateErrorInInput(t)}),{shapes:e,relations:v}}(t)).shapes.forEach(function(t){!function(t){var e,n=Object.keys(t).filter(function(t){return"type"!==t})[0],i=Le(t[n]);e=t.point?i.map(function(e){return Ve(t.point[0],[{id:e,relation:t}])}):i.map(function(e,n){return Ve(e,[{id:i[0],relation:t}])});e.forEach(function(t){Ue(t,rn.getData.getPointsMap)})}(t)});var e=t.relations;console.log(Object(c.a)(we)),console.log(Object(c.a)(e)),we.concat(e).forEach(function(t){console.log(t),function(t){_e=[],b.forEach(function(e){t[e]&&t[e].forEach(function(t){var e=t.split("").filter(function(t){return t===t.toUpperCase()}),n=e.map(function(t,e){return Ve(t)});n.forEach(function(t){Ue(t,_e)})})}),_e=Object(c.a)(_e).sort(function(t,e){var n=Fe(t.id,rn.getData.getPointsMap),i=Fe(e.id,rn.getData.getPointsMap);return-1===n&&-1===i?1:n>=0&&i>=0?n-i:i-n});var e=[];if(t.angle&&"define"===t.outputType&&t.value){var n=Fe(t.angle[0][0],rn.getData.getPointsMap),i=Fe(t.angle[0][2],rn.getData.getPointsMap);n<0&&e.push(t.angle[0][0]),i<0&&e.push(t.angle[0][2]),n>=0&&i>=0&&(e=[n>i?t.angle[0][0]:t.angle[0][2]])}else e=function(){var t=[],e=_e[_e.length-1];e&&(t.push(e.id),e.dependentNodes.forEach(function(e){var n=Fe(e.id,rn.getData.getPointsMap);t.includes(e.id)||-1===n||rn.getData.getPointsMap[n].isStatic||t.push(e.id)}));return t}();e.length===_e.length&&(e=[e[0]]);"song song"!==t.relation&&"vu\xf4ng g\xf3c"!==t.relation&&"ph\xe2n gi\xe1c"!==t.relation||(e=e.filter(function(t){return!rn.getNodeInPointsMapById(t)}));return e.forEach(function(n){var i=Fe(n,_e),a=_e[i];_e.forEach(function(o){o.id!==n&&(_e[i]=Object(y.a)({},a,{dependentNodes:[].concat(Object(c.a)(a.dependentNodes),Object(c.a)(ze(o.id,t,e)))}))})}),_e}(t).forEach(function(t){Ue(t,rn.getData.getPointsMap)})}),rn.getData.setPointsMap=rn.getData.getPointsMap.map(function(t){return Object(y.a)({},t,{dependentNodes:qe(t.dependentNodes)})});var n={};return ke(),n.points=rn.getData.getPointsMap.map(function(t){return{id:t.id,coordinate:{x:T.Round(t.coordinate.x,3),y:T.Round(t.coordinate.y,3)}}}),function t(e){if("object"===typeof e)return Object.keys(e).forEach(function(n){e[n]=t(e[n])}),e;return T.Round(e)}(rn.circlesData),n.segments=[].concat(Object(c.a)(function(t){var e=[];return t.shapes.forEach(function(t){e=e.concat(function(t){for(var e=Object.keys(t).filter(function(t){return"type"!==t})[0],n=t[e].split("").filter(function(t){return t===t.toUpperCase()}),i=[],a=0;a<n.length;a++)a===n.length-1?i.push(n[0]+n[a]):i.push(n[a]+n[a+1]);return i}(t))}),t.relations.forEach(function(t){e=e.concat(function(t){var e=[];return t.segment&&(e=e.concat(t.segment)),t.angle&&t.angle.forEach(function(t){e=e.concat(["".concat(t[0]).concat(t[1]),"".concat(t[1]).concat(t[2])])}),e}(t))}),e.filter(function(t,e,n){return n.indexOf(t)===e})}(t)),Object(c.a)(rn.getData.getAdditionSegment)),n}function qe(t){var e=[];return t.forEach(function(t){for(var n=0;n<e.length;n++)if(JSON.stringify(t)===JSON.stringify(e[n]))return;e.push(t)}),e}function Le(t){var e=[],n=[];if(rn.getData.getRelationsResult.relations){rn.getData.getRelationsResult.relations.forEach(function(t){t.angle&&"define"===t.outputType&&e.push(t.angle[0]),t.segment&&"define"===t.outputType&&n.push(t.segment[0])});var i={};t.split("").forEach(function(t){i[t]=0});var a=0;n.forEach(function(e){t.includes(e[1])&&t.includes(e[0])&&(a+=1,e.split("").forEach(function(t,e){i[t]+=1}))});var o=0;if(e.forEach(function(e){t.includes(e[1])&&(o+=1,e.split("").forEach(function(t,e){i[t]+=1!==e?1:3}))}),0===o&&2===a&&3===t.length){var r=function(t,e){var n={};t.concat(e).split("").forEach(function(t){n[t]?n[t]=n[t]+1:n[t]=1});var i=Object.keys(n).sort(function(t,e){return t.count-e.count})[0];return"".concat(t.replace(i,"")).concat(i).concat(e.replace(i,""))}(n[0],n[1]);0===we.length&&we.push({angle:[r],value:[Ae[nt(0,Ae.length-1)]],outputType:"define",operation:"="})}return Object.keys(i).sort(function(t,e){return-i[t]+i[e]})}return t.split("")}function Fe(t,e){for(var n=0;n<e.length;n++)if(e[n].id===t)return n;return-1}function ze(t,e,n){var i=[];return _e.forEach(function(t){n.includes(t.id)||i.push({id:t.id,relation:e})}),i}function Ve(t,e){var n={id:t,coordinate:{x:void 0,y:void 0,z:0},isStatic:!1},i=e?{dependentNodes:e}:{dependentNodes:[]};return Object(y.a)({},n,i)}function Ue(t,e){var n=Fe(t.id,e);if(-1!==n){var i=e[n];e[n]=Object(y.a)({},i,{dependentNodes:[].concat(Object(c.a)(i.dependentNodes),Object(c.a)(t.dependentNodes))})}else e.push(t),1===rn.getData.getPointsMap.length&&(e[0].isStatic=!0)}var Je,He,Xe,Ge,We,Ze,Ye,Ke,Qe=n(1),$e=(Je=function t(e){Object(s.a)(this,t),Object(v.a)(this,"value",He,this),Object(v.a)(this,"status",Xe,this),this.value=e||""},He=Object(f.a)(Je.prototype,"value",[Qe.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xe=Object(f.a)(Je.prototype,"status",[Qe.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.InputStatus.NORMAL}}),Je),tn={"G\xf3c({object})=G\xf3c({object})":"{object} = {object}","{object}={object}":"{object} = {object}","{object} song song {object}":"{object} song song {object}","{object} vu\xf4ng g\xf3c {object}":"{object} vu\xf4ng g\xf3c {object}","{object} c\u1eaft {object} t\u1ea1i {arrayPoints}":"{object} c\u1eaft {object} t\u1ea1i {arrayPoints}","{arrayPoints} l\xe0 giao \u0111i\u1ec3m c\u1ee7a {object} v\xe0 {object}":"{object} c\u1eaft {object} t\u1ea1i {arrayPoints}","{object} l\xe0 ph\xe2n gi\xe1c ngo\xe0i G\xf3c({angle})":"{object} ph\xe2n gi\xe1c ngo\xe0i {angle}","{object} l\xe0 ph\xe2n gi\xe1c trong G\xf3c({angle})":"{object} ph\xe2n gi\xe1c trong {angle}","{object} l\xe0 ph\xe2n gi\xe1c c\u1ee7a G\xf3c({angle})":"{object} ph\xe2n gi\xe1c {angle}","{arrayPoints} th\u1eb3ng h\xe0ng":"{arrayPoints} th\u1eb3ng h\xe0ng","{point} l\xe0 trung \u0111i\u1ec3m c\u1ee7a {segment}":"{point} trung \u0111i\u1ec3m {segment}","{point} kh\xf4ng thu\u1ed9c {object}":"{point} kh\xf4ng thu\u1ed9c {object}","{point} thu\u1ed9c {object}":"{point} thu\u1ed9c {object}","{segment} l\xe0 trung tuy\u1ebfn {type triangle}":"{segment} trung tuy\u1ebfn {triangle}","{segment} l\xe0 \u0111\u01b0\u1eddng cao c\u1ee7a tam gi\xe1c {triangle}":"{segment} \u0111\u01b0\u1eddng cao {triangle}","{circle} \u0111\u01b0\u1eddng k\xednh {segment}":"{circle} \u0111\u01b0\u1eddng k\xednh {segment}","{segment} l\xe0 ti\u1ebfp tuy\u1ebfn {circle}":"{segment} ti\u1ebfp tuy\u1ebfn {circle}","Cho tam gi\xe1c {type triangle}":"tam gi\xe1c {type triangle}","Cho t\u1ee9 gi\xe1c {quadrilateral}":"t\u1ee9 gi\xe1c {quadrilateral}","Cho h\xecnh thang {type trapezoid}":"h\xecnh thang {type trapezoid}","Cho h\xecnh b\xecnh h\xe0nh {parallelogram}":"h\xecnh b\xecnh h\xe0nh {parallelogram}","Cho h\xecnh ch\u1eef nh\u1eadt {rectangle}":"h\xecnh ch\u1eef nh\u1eadt {rectangle}","Cho h\xecnh thoi {rhombus}":"h\xecnh thoi {rhombus}","Cho h\xecnh vu\xf4ng {square}":"h\xecnh vu\xf4ng {square}","{object type triangle} t\u1ea1i {escribedPoint}":"{object type triangle} t\u1ea1i {escribedPoint}","{object type triangle}":"{object type triangle}"};function en(t){var e=Object.keys(tn),n="_ ".concat(t.concat(" _")),i=!1,a="";return e.forEach(function(t){var e="_ ".concat(t.concat(" _"));if(!i){var o=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"define",i=e.match(new RegExp(D.Regex.OTHER,"g")),a=e.match(new RegExp(D.Regex.KEY,"g")),o={};a.forEach(function(t){o[t]=[]});for(var r=0;r<a.length;r++){var c=i[r].replace("+","\\+").replace("-","\\-").replace("*","\\*").replace("(","\\(").replace(")","\\)")||"",s=i[r+1].replace("+","\\+").replace("-","\\-").replace("*","\\*").replace("(","\\(").replace(")","\\)")||"",u=t.match(new RegExp(c+"(.*)"+s));if(u&&o[a[r]].push(u[1]),r===i.length-1){var d=t.match(new RegExp(s+"(.*)"));d&&o[a[r+1]].push(d[1])}}if(function(t){var e=0;return Object.keys(t).forEach(function(n){e+=t[n].length}),e}(o)===a.length)return"relation"===n&&(o[n]=i[1].replace("_","").trim()),console.log(o),o;return[]}(n,e);if(Object.keys(o).length>0){var r=function(t,e){var n=t;return Object.keys(e).forEach(function(t){e[t].forEach(function(e){n=n.replace("{".concat(t,"}"),e)})}),n}(tn[t],o);a=r,i=!0}}}),a}var nn=D.Number.NOT_FOUND,an=D.String.NOT_ENOUGH_SET,on=new(Ge=function(){function t(e){var n=this;Object(s.a)(this,t),Object(v.a)(this,"isReCalculated",We,this),Object(v.a)(this,"circlesData",Ze,this),Object(v.a)(this,"relationsInput",Ye,this),this.inputData=[],this.executedInputIndex=void 0,Object(v.a)(this,"executingRelation",Ke,this),this.isNeedRandomCoordinate=function(t){var e=n.data.getPointDetails.get(t).roots;if(e){for(var i=0;i<e.length;i++)if(n.data.getPointDirectionMap[t]||JSON.stringify(ee(e[i]))===JSON.stringify(ee(n.getNodeInPointsMapById(t).coordinate)))return!1;return!0}return!1},this.updateCoordinate=function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i=n.getIndexOfNodeInPointsMapById(t);e||A.showError("200");var a={};Object.keys(e).sort().forEach(function(t){a[t]=e[t]}),"C"===t&&console.error(T.Round(a.x),T.Round(a.y)),i!==nn&&(n.data.getPointsMap[i].coordinate=a)},this.isStaticNode=function(t){if(t.isStatic)return!0;for(var e=0;e<t.dependentNodes.length;e++)if(!n.isExecutedRelation(t.dependentNodes[e].relation))return!1;return n.data.getExecutedNode.includes(t.id)},this.reExecuteNode=function(t){n.isReCalculated=!0,n.getData.pointsMap.forEach(function(e,i){t.includes(e.id)||(n.getData.pointsMap[i].dependentNodes.forEach(function(e,i){"shape"===e.relation.outputType&&!e.relation.point&&t.length>0&&(n.getData.pointsMap[i].dependentNodes[i]=Object(y.a)({},e,{id:t[0]}))}),n.getData.pointsMap[i].isStatic=!1)}),n.getData.__pointDetails__.clear(),n.getData.executedNode=t;var e=n.getData.executedRelations.filter(function(t){return"shape"===t.outputType});n.getData.executedRelations=e},this.isExecutedRelation=function(t){for(var e=0;e<n.data.getExecutedRelations.length;e++)if(JSON.stringify(t)===JSON.stringify(n.data.getExecutedRelations[e]))return!0;return!1},this.updateStaticNode=function(){var t=n.data.getPointsMap.map(function(t){return t.isStatic=n.isStaticNode(t),t});n.data.setPointsMap=t},this.updatePointsMap=function(t){var e=n.getIndexOfNodeInPointsMapById(t.id);n.data.getPointsMap[e]=t},this.isPointsMapStatic=function(){for(var t=0;t<n.data.getPointsMap.length;t++)if(!n.data.getPointsMap[t].isStatic)return!1;return!0},this.isValidCoordinate=function(t){if(t){var e=n.getNodeInPointsMapById(t);if(e)return void 0!==e.coordinate.x&&void 0!==e.coordinate.y}return!1},this.getNextExecuteNode=function(){var t=n.data.pointsMap.filter(function(t){return!n.data.executedNode.includes(t.id)&&!n.isStaticNode(t)}).sort(n.sortNodeByPriority);return t.length>0?t[0]:null},this.sortNodeByPriority=function(t,e){var i=n.getDependentStaticNodeCount(t),a={static:i,nonStatic:t.dependentNodes.length-i,dependence:t.dependentNodes.length,minRelationIndex:n.getMinIndexOfDependentNodeInRelationsList(t),index:n.getIndexOfNodeInPointsMap(t)},o=n.getDependentStaticNodeCount(e),r={static:o,nonStatic:e.dependentNodes.length-o,dependence:e.dependentNodes.length,minRelationIndex:n.getMinIndexOfDependentNodeInRelationsList(e),index:n.getIndexOfNodeInPointsMap(e)},c=a.static===a.dependence?"1":"0",s=r.static===r.dependence?"1":"0";return["static","dependence"].forEach(function(t){a[t]>r[t]?(c+="1",s+="0"):a[t]===r[t]?(c+="1",s+="1"):(c+="0",s+="1")}),["nonStatic","minRelationIndex","index"].forEach(function(t){a[t]<r[t]?(c+="1",s+="0"):a[t]===r[t]?(c+="1",s+="1"):(c+="0",s+="1")}),parseInt(s)-parseInt(c)},this.getMinIndexOfDependentNodeInRelationsList=function(t){for(var e=[],i=0;i<t.dependentNodes.length;i++)e.push(n.getIndexOfRelationInRelationsList(t.dependentNodes[i]));return Math.min.apply(Math,e)},this.getIndexOfRelationInRelationsList=function(t){for(var e=n.data.getRelationsResult.shapes.concat(n.data.getRelationsResult.relations),i=0;i<e.length;i++)if(t===e[i])return i;return nn},this.getDependentStaticNodeCount=function(t){for(var e=0,i=0;i<t.dependentNodes.length;i++)n.isStaticNodeById(t.dependentNodes[i].id)&&e++;return e},this.getIndexOfNodeInPointsMap=function(t){for(var e=0;e<n.data.getPointsMap.length;e++)if(t===n.data.getPointsMap[e])return e;return nn},this.getIndexOfNodeInPointsMapById=function(t){for(var e=0;e<n.data.getPointsMap.length;e++)if(t===n.data.getPointsMap[e].id)return e;return nn},this.getNodeInPointsMapById=function(t){for(var e=0;e<n.data.getPointsMap.length;e++)if(t===n.data.getPointsMap[e].id)return n.data.getPointsMap[e];return null},this.isStaticNodeById=function(t){for(var e=0;e<n.data.getPointsMap.length;e++)if(t===n.data.getPointsMap[e].id)return n.isStaticNode(n.data.getPointsMap[e]);return!1},this._calculateSet=function(t){return t.length>=2?Zt(t[0],t[1]):an},this.data=e}return Object(u.a)(t,[{key:"resetInputsStatus",value:function(){this.relationsInput.forEach(function(t){t.status=D.InputStatus.NORMAL})}},{key:"onInputChange",value:function(t,e){var n=Object(y.a)({},this.relationsInput[e]);n.value=t,this.relationsInput[e]=n,this.resetInputsStatus()}},{key:"addNewInput",value:function(){this.relationsInput.push(new $e(""))}},{key:"removeInput",value:function(t){this.relationsInput.splice(t,1)}},{key:"clear",value:function(){this.data.clear(),this.inputData=[],this.circlesData={},this.executedInputIndex=void 0,this.executingRelation=void 0}},{key:"createPointDetails",value:function(){var t=this;this.data.getPointsMap.forEach(function(e){var n=t.isValidCoordinate(e.coordinate)?[e.coordinate]:[];t._updatePointDetails(e.id,{setOfEquation:[],roots:n,exceptedCoordinates:[],insideRule:[],outsideRule:[]})})}},{key:"pushInsideRule",value:function(t,e){this.data.getPointDetails.get(t).insideRule.push(e)}},{key:"checkInsideRule",value:function(t,e){for(var n=this.data.getPointDetails.get(t).insideRule,i=0;i<n.length;i++)if(!this.checkPointRelationWithTwoPoint(e,on.getNodeInPointsMapById(n[0][0]).coordinate,on.getNodeInPointsMapById(n[0][1]).coordinate))return!1;return!0}},{key:"checkPointRelationWithTwoPoint",value:function(t,e,n){var i=Bt(t,e),a=Bt(t,n);return Gt(t,Ct(e,n))&&!Dt(i,a)}},{key:"pushOutsideRule",value:function(t,e){this.data.getPointDetails.get(t).outsideRule.push(e)}},{key:"isCoordinateExist",value:function(t,e){for(var n=0;n<this.data.getPointsMap.length;n++)if(this.data.getPointsMap[n].id!==t&&T.isEqual(this.data.getPointsMap[n].coordinate.x,e.x)&&T.isEqual(this.data.getPointsMap[n].coordinate.y,e.y))return!0;return!1}},{key:"replaceSetOfEquation",value:function(t,e,n){this.data.getPointDetails.has(t)||this._updatePointDetails(t,{setOfEquation:[],roots:[],exceptedCoordinates:[],insideRule:[],outsideRule:[]});var i=this.data.getPointDetails.get(t),a=i.setOfEquation,o=!1;if(a.forEach(function(t,i){ue(t,e)&&(a[i]=n,o=!0)}),o||a.push(n),1!==a.length){var r=this._calculateSet(a);if(this.data.getPointDetails.set(t,Object(y.a)({},i,{setOfEquation:a,roots:r})),r.length>0){var c;if(on.isNeedRandomCoordinate(t))c=r[nt(0,r.length-1)];else{var s=on.getData.getPointDirectionMap[t];if(s){var u=on.getNodeInPointsMapById(s.root).coordinate;if(r.length>1)c=r.map(function(t){return{coordinate:t,isRight:T.Compare(u.x,t.x)<0,isUp:T.Compare(u.y,t.y)}}).map(function(t){var e=0;return t.isRight===s.isRight&&e++,t.isUp===s.isUp&&e++,{coordinate:t.coordinate,matchCount:e}}).sort(function(t,e){return e.matchCount-t.matchCount})[0].coordinate;else c=r[0]}else c=r[0]}c&&on.updateCoordinate(t,c)}}}},{key:"_updatePointDetails",value:function(t,e){this.data.getPointDetails.set(t,e)}},{key:"uniqueSetOfEquation",value:function(t){var e=[];return t.forEach(function(t){for(var n=0;n<e.length;n++)if(JSON.stringify(t)===JSON.stringify(e[n]))return;e.push(t)}),e}},{key:"executePointDetails",value:function(t,e){var n=!1;if(this.data.getPointDetails.has(t)||this._updatePointDetails(t,{setOfEquation:[],roots:[],exceptedCoordinates:[],insideRule:[],outsideRule:[]}),this.data.getPointDetails.get(t).setOfEquation.length<=1){var i=[].concat(Object(c.a)(this.data.getPointDetails.get(t).setOfEquation),[e]);2===i.length&&ue(i[0],i[1])&&(i=i[0]),this._updatePointDetails(t,Object(y.a)({},this.data.getPointDetails.get(t),{setOfEquation:i,roots:this.data.getPointDetails.get(t).roots,exceptedCoordinates:this.data.getPointDetails.get(t).exceptedCoordinates})),n=!0}if(2===this.data.getPointDetails.get(t).setOfEquation.length){if(fe(e)&&!n)for(var a=0;a<2;a++)if(!fe(this.data.getPointDetails.get(t).setOfEquation[a])){this.data.getPointDetails.get(t).setOfEquation[a]=e;break}var o=this._calculateSet(this.data.getPointDetails.get(t).setOfEquation),r=this.data.getPointDetails.get(t).roots,s="string"===typeof o?r:r.concat(o);this._updatePointDetails(t,Object(y.a)({},this.data.getPointDetails.get(t),{setOfEquation:this.data.getPointDetails.get(t).setOfEquation,roots:s,exceptedCoordinates:this.data.getPointDetails.get(t).exceptedCoordinates}))}var u=this.data.getPointDetails.get(t).roots;if("string"!==typeof u){if((u=u.filter(function(t){return t.y===1/0&&console.error(u),Gt(t,e)})).length>0){var d;if(this._updatePointDetails(t,Object(y.a)({},this.data.getPointDetails.get(t),{roots:u})),on.isNeedRandomCoordinate(t))d=u[nt(0,u.length)];else{var l=on.getData.getPointDirectionMap[t];if(l){var g=on.getNodeInPointsMapById(l.root).coordinate;if(u.length>1){var f=u.map(function(t){return{coordinate:t,isRight:T.Compare(g.x,t.x),isUp:T.Compare(g.y,t.y)}}).map(function(t){var e=0;return t.isRight===l.isRight&&e++,t.isUp===l.isUp&&e++,{coordinate:t.coordinate,matchCount:e}});console.log(l.root,f);var p=f.sort(function(t,e){return e.matchCount-t.matchCount});d=(f=p[0]).coordinate}else d=u[0]}else d=u[0]}d&&on.updateCoordinate(t,d)}}else A.showError("500")}},{key:"getInformation",value:function(t){var e=this,n="_ ".concat(t.concat(" _")),i=!1,a=[];Object.keys(x).forEach(function(t){x[t].forEach(function(o){if(o="_ ".concat(o.concat(" _")),!i){var r=e.getBasicInformation(n,o,t);Object.keys(r).length>0&&(i=!0,(a=r).outputType=t)}})});var o=a.outputType,r=be(a);if(!r.Error&&r.outputType){if(!(r.point&&r.point.length>3))return"define"===o&&D.Others.OPERATIONS.forEach(function(e){r.operation||t.includes(e)&&(r.operation=e,"="!==e||r.value||(r.value="1",r.operation="*"))}),r;A.showError("301")}else A.showError("300")}},{key:"getBasicInformation",value:function(t,e,n){var i=e.match(new RegExp(D.Regex.OTHER,"g")),a=e.match(new RegExp(D.Regex.KEY,"g")),o={};a.forEach(function(t){o[t]=[]});for(var r=0;r<a.length;r++){var c=i[r].replace("+","\\+").replace("-","\\-").replace("*","\\*")||"",s=i[r+1].replace("+","\\+").replace("-","\\-").replace("*","\\*")||"",u=t.match(new RegExp(c+"(.*)"+s));if(u&&o[a[r]].push(u[1]),r===i.length-1){var d=t.match(new RegExp(s+"(.*)"));d&&o[a[r+1]].push(d[1])}}return this.getLength(o)===a.length?("relation"===n&&(o[n]=i[1].replace("_","").trim()),o):[]}},{key:"getLength",value:function(t){var e=0;return Object.keys(t).forEach(function(n){e+=t[n].length}),e}},{key:"getCircleEquation",value:function(t){return this.circlesData[t].equation}},{key:"getCircleCenterCoordinate",value:function(t){return this.circlesData[t].coordinate}},{key:"isCoordinateDuplicated",value:function(t){var e=this,n=JSON.stringify(t),i=!1;return this.getData.pointsMap.forEach(function(t){var a=t.id;i||JSON.stringify(n)===JSON.stringify(e.getNodeInPointsMapById(a).coordinate)&&(i=!0)}),i}},{key:"analyzeInput",value:function(){var t=this;this.circlesData={};for(var e=this.RelationsInput.map(function(t){return t.value}).filter(function(t){return!!t}).map(function(e,n){t.executedInputIndex=n;var i=t.getInformation(e);return t.relationsInput[n].status=D.InputStatus.SUCCESS,t.inputData.push(i),i}),n={shapes:[],relations:[]},i=0;i<e.length;i++){var a=e[i];"shape"===a.outputType?n.shapes.push(a):n.relations.push(a)}return this.data.setRelationsResult=n,this.RelationsInput.forEach(function(t){t.status=D.InputStatus.SUCCESS}),Te(n)}},{key:"RelationsInput",get:function(){return this.relationsInput}},{key:"isInputEmpty",get:function(){return 1===this.relationsInput.length&&!this.relationsInput[0].value}},{key:"getData",get:function(){return this.data}}]),t}(),We=Object(f.a)(Ge.prototype,"isReCalculated",[Qe.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ze=Object(f.a)(Ge.prototype,"circlesData",[Qe.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ye=Object(f.a)(Ge.prototype,"relationsInput",[Qe.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=Object(f.a)(Ge.prototype,"executingRelation",[Qe.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(f.a)(Ge.prototype,"RelationsInput",[Qe.d],Object.getOwnPropertyDescriptor(Ge.prototype,"RelationsInput"),Ge.prototype),Object(f.a)(Ge.prototype,"isInputEmpty",[Qe.d],Object.getOwnPropertyDescriptor(Ge.prototype,"isInputEmpty"),Ge.prototype),Object(f.a)(Ge.prototype,"resetInputsStatus",[Qe.c],Object.getOwnPropertyDescriptor(Ge.prototype,"resetInputsStatus"),Ge.prototype),Object(f.a)(Ge.prototype,"onInputChange",[Qe.c],Object.getOwnPropertyDescriptor(Ge.prototype,"onInputChange"),Ge.prototype),Object(f.a)(Ge.prototype,"addNewInput",[Qe.c],Object.getOwnPropertyDescriptor(Ge.prototype,"addNewInput"),Ge.prototype),Object(f.a)(Ge.prototype,"removeInput",[Qe.c],Object.getOwnPropertyDescriptor(Ge.prototype,"removeInput"),Ge.prototype),Object(f.a)(Ge.prototype,"pushInsideRule",[h.a],Object.getOwnPropertyDescriptor(Ge.prototype,"pushInsideRule"),Ge.prototype),Object(f.a)(Ge.prototype,"checkInsideRule",[h.a],Object.getOwnPropertyDescriptor(Ge.prototype,"checkInsideRule"),Ge.prototype),Object(f.a)(Ge.prototype,"checkPointRelationWithTwoPoint",[h.a],Object.getOwnPropertyDescriptor(Ge.prototype,"checkPointRelationWithTwoPoint"),Ge.prototype),Ge)(I),rn=on,cn=(n(35),{Dashed:0,Light:1,Medium:2,Bold:3}),sn="segments",un="lines",dn="circles",ln="NOT FOUND",gn={MIN_HORIZONTAL:"min-horizontal",MAX_HORIZONTAL:"max-horizontal",MIN_VERTICAL:"min-vertical",MAX_VERTICAL:"max-vertical"};function fn(t){var e=t.data,n=new Map,i=new Map,a=new Map,o=!1;return i.set(sn,new Map),i.set(un,new Map),i.set(dn,new Map),function(t){t.points&&(c(t.points),function(){var t=0,e="",n=0,i="",a=0,o="",c=0,s="";f().forEach(function(u,d){u.name&&u.coordinate&&(0===d?(t=u.coordinate.x,e=u.name,n=u.coordinate.x,i=u.name,a=u.coordinate.y,o=u.name,c=u.coordinate.y,s=u.name):(u.coordinate.x<t?(t=u.coordinate.x,e=u.name):u.coordinate.x>n&&(n=u.coordinate.x,i=u.name),u.coordinate.y<a?(a=u.coordinate.y,o=u.name):u.coordinate.y>c&&(c=u.coordinate.y,s=u.name)),r({name:u.name,x:u.coordinate.x,y:u.coordinate.y}))}),v({name:e,x:g(e).x,y:g(e).y}),x({name:i,x:g(i).x,y:g(i).y}),N({name:o,x:g(o).x,y:g(o).y}),M({name:s,x:g(s).x,y:g(s).y})}());t.segments&&u(t.segments);t.lines;if(t.circles)if(Array.isArray(t.circles))l(t.circles);else{var e=function(t){var e=Object.keys(t),n=[],i=0;for(;e[i];){var a={center:{id:e[i],coordinate:t[e[i]].center},radius:t[e[i]].radius,equation:t[e[i]].equation,lineStyle:t[e[i]].lineType,isVisible:t[e[i]].visible};n.push(a),i++}return n}(t.circles);l(e)}o=!0}(e),Object.freeze({addPoint:r,addPoints:c,addSegment:s,addSegments:u,addLine:function(t){var e=t.name,n=t.lineStyle,a=t.isVisible;if(e){var o=e[0],r=e[1];i.get(un).set(e,{startPoint:o,endPoint:r,lineStyle:void 0!==n&&null!==n?n:cn.Light,isVisible:void 0===a||null===a||a})}},addCircle:d,addCircles:l,getPoint:g,getPoints:f,getSegment:p,getSegments:function(){for(var t=[],e=i.get(sn),n=e.keys(),a=0;a<e.size;a++){var o=n.next().value,r=p(o),c={name:o,startPoint:r.startPoint,endPoint:r.endPoint,lineStyle:r.lineStyle,isVisible:r.isVisible};t.push(c)}return t},getLine:function(t){return i.get(un).has(t)?i.get(un).get(t):ln},getLines:function(){for(var t=[],e=i.get(un),n=e.keys(),a=0;a<e.size;a++){var o=n.next().value,r=p(o),c={name:o,lineStyle:r.lineStyle,isVisible:r.isVisible};t.push(c)}return t},getCircle:h,getCircles:function(){for(var t=[],e=i.get(dn),n=e.keys(),a=0;a<e.size;a++){var o=n.next().value,r=h(o),c={center:{id:o,coordinate:r.center.coordinate},radius:r.radius,lineStyle:r.lineStyle,isVisible:r.isVisible};t.push(c)}return t},getMinHorizontalPoint:y,getMaxHorizontalPoint:I,getMinVerticalPoint:m,getMaxVerticalPoint:b});function r(t){var e=t.name,i=t.x,a=t.y;e&&(n.set(e,{x:i,y:a}),o&&(i<y().coordinate.x?v({name:e,x:i,y:a}):i>I().coordinate.x&&x({name:e,x:i,y:a}),a<m().coordinate.y?N({name:e,x:i,y:a}):a>b().coordinate.y&&M({name:e,x:i,y:a})))}function c(t){Array.isArray(t)&&t.forEach(function(t){r({name:t.id,x:t.coordinate.x,y:t.coordinate.y})})}function s(t){var e=t.name,n=t.lineStyle,a=t.isVisible;if(e){var o=e[0],r=e[1];i.get(sn).set(e,{startPoint:o,endPoint:r,lineStyle:void 0!==n&&null!==n?n:cn.Light,isVisible:void 0===a||null===a||a})}}function u(t){Array.isArray(t)&&t.forEach(function(t){s({name:t.name,lineStyle:t.lineStyle,isVisible:t.isVisible})})}function d(t){var e=t.center,n=t.radius,a=(t.equation,t.lineStyle),o=t.isVisible;if(e&&n){var r=e.id;i.get(dn).set(r,{center:{id:e.id,coordinate:e.coordinate},radius:n||0,lineStyle:void 0!==a&&null!==a?a:cn.Light,isVisible:void 0===o||null===o||o})}}function l(t){Array.isArray(t)&&t.forEach(function(t){d({center:t.center,radius:t.radius,equation:t.equation,lineStyle:t.lineStyle,isVisible:t.isVisible})})}function g(t){var e=t.toUpperCase();return n.has(e)?n.get(e):{x:-1/0,y:-1/0}}function f(){for(var t=[],e=n.keys(),i=0;i<n.size;i++){var a=e.next().value,o=n.get(a),r={name:a,coordinate:{x:o.x,y:o.y}};t.push(r)}return t}function p(t){return i.get(sn).has(t)?i.get(sn).get(t):ln}function h(t){return i.get(dn).has(t)?i.get(dn).get(t):ln}function y(){return a.get(gn.MIN_HORIZONTAL)||{}}function v(t){var e=t.name,n=t.x,i=t.y;a.set(gn.MIN_HORIZONTAL,{name:e,coordinate:{x:n,y:i}})}function I(){return a.get(gn.MAX_HORIZONTAL)||{}}function x(t){var e=t.name,n=t.x,i=t.y;a.set(gn.MAX_HORIZONTAL,{name:e,coordinate:{x:n,y:i}})}function m(){return a.get(gn.MIN_VERTICAL)||{}}function N(t){var e=t.name,n=t.x,i=t.y;a.set(gn.MIN_VERTICAL,{name:e,coordinate:{x:n,y:i}})}function b(){return a.get(gn.MAX_VERTICAL)||{}}function M(t){var e=t.name,n=t.x,i=t.y;a.set(gn.MAX_VERTICAL,{name:e,coordinate:{x:n,y:i}})}}var pn=n(14);var hn,yn,vn=function(t){function e(){return Object(s.a)(this,e),Object(d.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.renderGeometry(this.props.drawingData)}},{key:"componentDidUpdate",value:function(){this.renderGeometry(this.props.drawingData)}},{key:"renderGeometry",value:function(t){var e=document.getElementById("geometry"),n=e.viewBox.baseVal,i=n.width,a=n.height;!function(t){for(;t.firstChild;)t.firstChild.remove()}(e),function(t){var e=t.scene,n=t.data,i=e.clientWidth,a=e.clientHeight,o=pn.c("#".concat(e.id)).attr("viewBox",[0,0,i,a]),r=o.append("g").attr("cursor","grab");function c(t){if(t)return{x:n.getPoint(t).x,y:n.getPoint(t).y}}function s(t){var e=Array.prototype.slice.call(t,0);return e&&e[0]&&e[1]?{startPoint:e[0],endPoint:e[1]}:[]}function u(t){var e="";switch(t.lineStyle){case cn.Light:e="stroke-width: ".concat(cn.Light);break;case cn.Medium:e="stroke-width: ".concat(cn.Medium);break;case cn.Bold:e="stroke-width: ".concat(cn.Bold);break;default:e="stroke-width: ".concat(cn.Light)}return t.isVisible?(""!==e&&(e+="; "),e+="visibility: visible"):(""!==e&&(e+="; "),e+="visibility: hidden"),e}var d=n.getSegments();r.selectAll("line").data(d).join("line").attr("x1",function(t){return c(s(t.name).startPoint).x}).attr("y1",function(t){return c(s(t.name).startPoint).y}).attr("x2",function(t){return c(s(t.name).endPoint).x}).attr("y2",function(t){return c(s(t.name).endPoint).y}).attr("stroke-dasharray",function(t){return 0===t.lineStyle?"6,3":"none"}).attr("style",function(t){return u(t)});var l=o.append("g").attr("cursor","grab"),g=n.getCircles();l.selectAll("circle").data(g).join("circle").attr("cx",function(t){return t.center.coordinate.x}).attr("cy",function(t){return t.center.coordinate.y}).attr("r",function(t){return t.radius}).attr("stroke-dasharray",function(t){return 0===t.lineStyle?"6,3":"none"}).attr("style",function(t){return u(t)});var f=o.append("g").attr("cursor","grab"),p=n.getPoints(),h=f.selectAll("circle").data(p);h.enter().append("circle").attr("cx",function(t){return t.coordinate.x}).attr("cy",function(t){return t.coordinate.y}).attr("r",4).attr("fill",function(t,e){return pn.b(e/p.length)});var y=22;function v(t){var e=n.getMinHorizontalPoint(),i=n.getMaxHorizontalPoint(),a=n.getMinVerticalPoint(),o=n.getMaxVerticalPoint();return t===e.name?{x:e.coordinate.x-.67*y-10,y:e.coordinate.y+1.37*y/3.8}:t===i.name?{x:i.coordinate.x+10,y:i.coordinate.y+1.37*y/3.8}:t===a.name?{x:a.coordinate.x-.67*y/2,y:a.coordinate.y-10}:t===o.name?{x:o.coordinate.x-.67*y/2,y:o.coordinate.y+1.37*y}:{x:n.getPoint(t).x+y/2,y:n.getPoint(t).y-y/2}}h.enter().append("text").attr("x",function(t){return v(t.name).x}).attr("y",function(t){return v(t.name).y}).attr("id",function(t){return"point-".concat(t.name)}),h&&h._enter&&Array.isArray(h._enter[0])&&h._enter[0].forEach(function(t){var e="";t&&t.__data__&&t.__data__.name&&(e=t.__data__.name);var n=document.getElementById("point-".concat(e));if(n){var i=document.createTextNode(e);n.appendChild(i),n.style.fontSize="".concat(y,"px"),n.style.fontFamily="appDescriptionFont",n.style.fill="black"}}),o.call(pn.d().extent([[0,0],[i,a]]).scaleExtent([1,20]).on("zoom",function(){f.attr("transform",pn.a.transform),r.attr("transform",pn.a.transform),l.attr("transform",pn.a.transform)})),o.node()}({scene:e,data:fn({data:function(t){var e=t.data,n=t.width,i=t.height;if(!e)return e;var a=[],o=[];if(Array.isArray(e.points)){e.points.forEach(function(t){a.push(t.coordinate.x),o.push(t.coordinate.y)});var r=e.circles;r&&Object.keys(r).forEach(function(t){var e=r[t].center,n=r[t].radius;a.push(e.x-n,e.x+n),o.push(e.y-n,e.y+n)});var c=Math.min.apply(Math,a),s=Math.min.apply(Math,o),u=Math.max.apply(Math,a),d=Math.max.apply(Math,o),l=u-c,g=d-s,f=n-100,p=i-100,h=0,v=Math.floor(f/l),I=Math.floor(p/g),x=0,m=0,N=!1;v>=I?(h=I,N=!0):h=v;var b=0,M=0;N?(x=-c*h+(b=n/2)-(M=(u-c)/2*h),m=-s*h+Math.floor(50)):(b=i/2,M=(d-s)/2*h,x=-c*h+Math.floor(50),m=-s*h+b-M),console.log({minX:c,minY:s,maxX:u,maxY:d,disparityX:l,disparityY:g,w:f,h:p,rW:v,rH:I,ratio:h,followH:N,realCenter:b,curCenter:M,transitionX:x,transitionY:m});var P=[];if(e.points.forEach(function(t){P.push({id:t.id,coordinate:{x:t.coordinate.x*h+x,y:t.coordinate.y*h+m}})}),r)for(var O=Object.keys(r),E=0;O[E];)r[O[E]]={center:{x:r[O[E]].center.x*h+x,y:r[O[E]].center.y*h+m},radius:r[O[E]].radius*h,equation:r[O[E]].equation},E++;return Object(y.a)({},e,{points:P,circles:r})}}({data:t,width:i,height:a})})})}},{key:"render",value:function(){return i.createElement("div",{className:"geometry-container"},i.createElement("svg",{id:"geometry",className:"geometry-scene",viewBox:"0 0 800 800"}))}}]),e}(i.Component),In=n(21),xn=n.n(In),mn=Object(p.a)((yn=function(t){function e(t){var n;Object(s.a)(this,e),(n=Object(d.a)(this,Object(l.a)(e).call(this,t))).state={focusIndex:0,drawingData:[],points:[],segments:[]};xn.a.parse(window.location.search);return n}return Object(g.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=xn.a.parse(window.location.search);rn.relationsInput=function(t){var e=t.split(new RegExp(";","g")).map(function(t){return t.trim()});return e.splice(0,1),e.splice(e.length-1,1),console.log(e),e.map(function(t){return en(t)}).map(function(t){return new $e(t)})}(t.input),this.onClickDrawing()}},{key:"trimDrawingData",value:function(t){var e=this,n=t.points,i=t.segments,a={};n.forEach(function(t){a[t.id]=t.coordinate});var o={},r=[];n.forEach(function(t){o[t.id]=i.map(function(t){return t.split("").sort().join("")}).filter(function(e){return e.includes(t.id)}).map(function(t){var e=a[t[0]],n=a[t[1]];return{name:t,vector:Bt(e,n),length:_t(e,n)}})});var s=[];return Object.keys(o).forEach(function(t){if(o[t].length>0){var n=e.uniqueSegmentData(o[t],s);r=r.concat(n)}}),r=Object(c.a)(new Set(r)).filter(function(t){return t[0]!==t[1]})}},{key:"uniqueSegmentData",value:function(t,e){for(var n=[t[0]],i=1;i<t.length;i++){for(var a=t[i],o=n.length,r=-1,c=0;c<o;c++)Dt(a.vector,n[c].vector)&&(a.length>=n[c].length?r=c:e.push(a.name));r>=0?n[r]=a:e.includes(a.name)||n.push(a)}return n.map(function(t){return t.name})}},{key:"onClickDrawing",value:function(){rn.clear();var t=rn.analyzeInput();0!==t.points.length||0!==t.segments.length?this.setState({points:t.points,segments:t.segments,drawingData:this.trimDrawingData(t).map(function(t){return{name:t,visible:!0,lineType:cn.Medium}})}):rn.resetInputsStatus()}},{key:"render",value:function(){var t=this.state,e=t.points,n=t.drawingData;return a.a.createElement("div",{className:"container-fluid"},a.a.createElement("div",{className:"app-header"},a.a.createElement("div",{className:"app-name"},a.a.createElement("p",null,"Gemath"))),a.a.createElement("div",{className:"app-body"},a.a.createElement("div",{className:"app-drawing-panel"},a.a.createElement(vn,{drawingData:{points:e,segments:n,circles:rn.circlesData}}))))}}]),e}(a.a.Component),Object(f.a)(yn.prototype,"trimDrawingData",[h.a],Object.getOwnPropertyDescriptor(yn.prototype,"trimDrawingData"),yn.prototype),Object(f.a)(yn.prototype,"onClickDrawing",[h.a],Object.getOwnPropertyDescriptor(yn.prototype,"onClickDrawing"),yn.prototype),hn=yn))||hn;r.a.render(a.a.createElement(mn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.fcf44050.chunk.js.map