(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(10),r=n.n(i);n(72),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(12),s=n(5),u=n(7),d=n(16),l=n(8),p=n(15),f=n(1),h=(n(73),n(36)),g=n(4),y=n(110),v=n(109),m=n(63),b=n(22),x=n(24),I=(n(46),new(function(){function t(){Object(s.a)(this,t),this.additionSegment=[],this.relationsResult={},this.pointsMap=[],this.pointsDirectionMap={},this.executedRelations=[],this.executedNode=[],this.__pointDetails__=new Map}return Object(u.a)(t,[{key:"clear",value:function(){this.relationsResult=[],this.pointsMap=[],this.executedRelations=[],this.executedNode=[],this.__pointDetails__.clear()}},{key:"setPointsMap",value:function(t){this.pointsMap=t}},{key:"setRelationsResult",set:function(t){this.relationsResult=t}},{key:"getAdditionSegment",get:function(){return this.additionSegment}},{key:"getRelationsResult",get:function(){return this.relationsResult}},{key:"getPointsMap",get:function(){return this.pointsMap}},{key:"getPointDirectionMap",get:function(){return this.pointsDirectionMap}},{key:"getExecutedRelations",get:function(){return this.executedRelations}},{key:"getExecutedNode",get:function(){return this.executedNode}},{key:"getPointDetails",get:function(){return this.__pointDetails__}}]),t}())),O={define:["{object} + {object} = {object}","{object} - {object} = {object}","{object} = {value} * {object}","{object} = {object}","{object} > {object}","{object} < {object}"],relation:["{object} song song {object}","{object} vu\xf4ng g\xf3c {object}","{object} c\u1eaft {object} t\u1ea1i {arrayPoints}","{object} ph\xe2n gi\xe1c {angle}","{arrayPoints} th\u1eb3ng h\xe0ng","{point} trung \u0111i\u1ec3m {segment}","{point} kh\xf4ng thu\u1ed9c {object}","{point} thu\u1ed9c {object}","trung tuy\u1ebfn {segment} c\u1ee7a {triangle}","\u0111\u01b0\u1eddng cao {segment} c\u1ee7a {triangle}","{segment} ti\u1ebfp tuy\u1ebfn {circle}"],shape:["tam gi\xe1c {type triangle}","t\u1ee9 gi\xe1c {quadrilateral}","h\xecnh thang {type trapezoid}","h\xecnh b\xecnh h\xe0nh {parallelogram}","h\xecnh ch\u1eef nh\u1eadt {rectangle}","h\xecnh thoi {rhombus}","h\xecnh vu\xf4ng {square}","\u0111\u01b0\u1eddng tr\xf2n t\xe2m {point type triangle}"]},N=["vu\xf4ng g\xf3c","c\u1eaft"],E=[["point"],["segment","ray"],["angle"]],M=["angle","segment","ray","point","circle"],j={object:{define:["angle","segment"],relation:["ray","line","segment","circle"]},point:{length:1,format:"1"},segment:{length:2,format:"11"},ray:{length:2,format:"10"},line:{length:1,format:"0"},angle:{length:3},shape:{triangle:{length:3,format:"111"},quadrilateral:{length:4,format:"1111"},trapezoid:{length:4,format:"1111"},parallelogram:{length:4,format:"1111"},rectangle:{length:4,format:"1111"},rhombus:{length:4,format:"1111"},square:{length:4,format:"1111"},circle:{length:1,format:"1"}},shapeType:{triangle:["","vu\xf4ng","c\xe2n","vu\xf4ng c\xe2n","\u0111\u1ec1u","n\u1ed9i ti\u1ebfp","ngo\u1ea1i ti\u1ebfp"],trapezoid:["","vu\xf4ng","c\xe2n"]}},P={triangle:{right:"01^02",isosceles:"01=02",right_isosceles:"01^02&01=02",equilateral:"01=02&01=12"},trapezoid:{normal:"01|23",right:"01|23&01^03",isosceles:"01|23&03=12"},parallelogram:{normal:"01|23&03|12"},rectangle:{normal:"01|23&03|12&01^12&12^23&23^03"},rhombus:{normal:"01|23&03|12&02^13"},square:{normal:"01|23&03|12&01^12&12^23&23^03&01=03&&01=12&12=23"}},S={"vu\xf4ng":"right","c\xe2n":"isosceles","vu\xf4ng c\xe2n":"right_isosceles","\u0111\u1ec1u":"equilateral","n\u1ed9i ti\u1ebfp":"n\u1ed9i ti\u1ebfp","ngo\u1ea1i ti\u1ebfp":"ngo\u1ea1i ti\u1ebfp"},D=["n\u1ed9i ti\u1ebfp","ngo\u1ea1i ti\u1ebfp"],w=["triangle","rhombus","rectangle","square"],C={Number:Object.freeze({MIN_RANDOM_NUMBER:-10,MAX_RANDOM_NUMBER:10,MIN_RANDOM_GENERATION:5,MAX_RANDOM_GENERATION:15,NOT_FOUND:99}),String:Object.freeze({INFINITY:"v\xf4 c\u1ef1c",IMPOSSIBLE:"v\xf4 nghi\u1ec7m",TOO_SHORT:"qu\xe1 ng\u1eafn",NOT_ENOUGH_SET:"kh\xf4ng \u0111\u1ee7 ph\u01b0\u01a1ng tr\xecnh t\u1ea1o th\xe0nh h\u1ec7",NOT_BE_IN_LINE:"\u0111i\u1ec3m kh\xf4ng thu\u1ed9c \u0111\u01b0\u1eddng"}),Regex:Object.freeze({KEY:"[^{\\}]+(?=})",OTHER:"(^([^{]+(?={)))|((?<=})([^{]+)(?={))|(((?<=})[^}]+)$)"}),Others:Object.freeze({OPERATIONS:["+","-","*","<",">","="]}),Errors:Object.freeze({WRONG_FORMAT:"Sai \u0111\u1ecbnh d\u1ea1ng",MAXIMUM_POINT_ERROR:"T\u1ed1i \u0111a 3 \u0111i\u1ec3m th\u1eb3ng h\xe1ng"}),InputStatus:Object.freeze({SUCCESS:"Success",NORMAL:"Normal",ERROR:"Error"})};function k(t){return{a:0,b:0,c:t.c,d:t.d,e:t.e}}function B(t){return{a:-t.c/(0===t.d?1:t.d),b:-t.e/(0===t.d?1:t.d)}}function R(t){return{a:0,b:0,c:-t.a,d:1,e:-t.b}}var _=C.Number.MIN_RANDOM_NUMBER,q=C.Number.MAX_RANDOM_NUMBER;function A(t,e){return e<t?t:Math.floor(Math.random()*(e-t+1))+t}function T(t){if(t.a||(t.a=0),t.b||(t.b=0),0===t.a&&0===t.b){if(0!==t.d){var e=A(_,q);return{x:e,y:(-t.e-t.c*e)/t.d}}return{x:-t.e/t.c,y:A(_,q)}}if(1===t.a&&1===t.b){var n={a:t.c/-2,b:t.d/-2},a=Math.sqrt(n.a*n.a+n.b*n.b-t.e),o=A(-a,a),i=nt(t.b,t.d,o*o*t.d*o+t.e);if("number"===typeof i)return{x:o,y:i};if("object"===typeof i)return{x:o,y:i.secondRoot||i.firstRoot}}}function z(t,e){var n=K(t,e),a=(t.x+e.x)/A(2,5);return{x:a,y:(n.c*a+n.e)/-n.d}}function H(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=K(t,e),o=A(e.x,q),i=A(_,t.x);return n?{x:o,y:(a.c*o+a.e)/-a.d}:{x:i,y:(a.c*i+a.e)/-a.d}}C.Number.MIN_RANDOM_NUMBER,C.Number.MAX_RANDOM_NUMBER;var L=C.String.INFINITY,U=C.String.IMPOSSIBLE,V=C.String.NOT_BE_IN_LINE;function J(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e);return Math.round(t*n)/n}function G(t,e){return{x:J(e.x-t.x),y:J(e.y-t.y)}}function X(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function K(t,e){var n={a:e.x-t.x,b:e.y-t.y},a={a:-n.b,b:n.a};return{a:0,b:0,c:a.a,d:a.b,e:-a.a*t.x-a.b*t.y}}function F(t,e){var n=(e.x-t.x)*(e.x-t.x),a=(e.y-t.y)*(e.y-t.y);return Math.sqrt(n+a)}function Y(t,e){var n=Math.abs(e.c*t.x+e.d*t.y+e.e),a=Math.sqrt(e.c*e.c+e.d*e.d);return 0===a?L:n/a}function W(t,e){var n=B(e),a={};a.a=n.a,a.b=t.y-n.a*t.x;var o=R(a);return 0===e.d&&(o.d=e.d),o}function $(t,e){var n={};if(0===e.c)n.c=-1/e.d,n.d=0,n.e=-n.c*t.x;else if(0===e.d)n.c=0,n.d=-1/e.c,n.e=-n.d*t.y;else{var a=B(e),o={};o.a=-1/a.a,o.b=t.y+t.x/a.a,n=R(o)}return n}function Q(t,e){return ot({c:t.c,d:t.d,e:t.e},{a:0,b:0,c:e.c,d:e.d,e:e.e})[0]}function Z(t,e){return{a:1,b:1,c:-2*t.x,d:-2*t.y,e:t.x*t.x+t.y*t.y-e*e}}function tt(t,e,n,a){var o=function(t,e){var n={},a={};if(e.c*e.c+e.d*e.d===0)return;var o=Math.sqrt(t.c*t.c+t.d*t.d)/Math.sqrt(e.c*e.c+e.d*e.d);return n.c=t.c-o*e.c,n.d=t.d-o*e.d,n.e=t.e-o*e.e,a.c=t.c+o*e.c,a.d=t.d+o*e.d,a.e=t.e+o*e.e,[n,a]}(t,e),i=o[0],r=o[1];if(0===ct(t,e))throw(new Map).set("error","kh\xf4ng h\u1ed7 tr\u1ee3 tr\u01b0\u1eddng h\u1ee3p n\xe0y");return function(t,e,n,a){var o=n.x*t.c+n.y*t.d+t.e,i=a.x*t.c+a.y*t.d+t.e;return o*i<=0?t:e}(i,r,n,a)}function et(t,e){var n=-e.c/2,a=-e.d/2;return Y({x:n,y:a},t)>Math.sqrt(n*n+a*a-e.e)?U:ot(t,e)}function nt(t,e,n){var a=e*e-4*t*n;return 0===t?0===e?L:-n/e:a<0?U:0===a?-e/(2*t):{firstRoot:(-e+Math.sqrt(a))/(2*t),secondRoot:(-e-Math.sqrt(a))/(2*t)}}function at(t,e){return void 0!==t.x&&void 0!==t.y&&(void 0===e.a&&(e=k(e)),0===J(e.a*t.x*t.x+e.b*t.y*t.y+e.c*t.x+e.d*t.y+e.e))}function ot(t,e){var n=[],a=t.c,o=t.d,i=t.e,r=e.a,c=e.b,s=e.c,u=e.d,d=e.e;if(0!==a){var l=nt(a*a*c+r*o*o,2*o*i*r-a*o*s+a*a*u,r*i*i-a*i*s+a*a*d);if("number"===typeof l)n.push({x:(-i-o*l)/a,y:l});else{if(l===U)return l;var p=l.firstRoot,f=l.secondRoot;n.push(rt({x:(-i-o*l.firstRoot)/a,y:p}),rt({x:(-i-o*l.secondRoot)/a,y:f}))}}else{var h=nt(e.a*t.d*t.d,e.c*t.d*t.d,e.b*t.e*t.e-e.d*t.d*t.e+e.e*t.d*t.d);if("number"===typeof h)n.push(rt({x:h,y:-t.e/t.d}));else{if(h===U)return h;n.push(rt({x:h.firstRoot,y:-t.e/t.d}),rt({x:h.secondRoot,y:-t.e/t.d}))}}return n}function it(t,e){var n,a,o=[];if(n=void 0===t.a?k(t):t,a=void 0===e.a?k(e):e,n.a!==a.a&&n.b!==a.b)return 0===n.a&&0===n.b?et(n,a):et(a,n);if(0===n.a&&0===n.b&&0===a.a&&0===a.b)o.push(rt(function(t,e){if(0===t.c&&0===e.c||0===t.d&&0===e.d||0===t.c&&0===t.d||0===e.c&&0===e.d)return U;if(0===t.c&&0===e.d)return{x:-e.e/e.c,y:-t.e/t.d};if(0===e.c&&0===t.d)return{x:-t.e/t.c,y:-e.e/e.d};if(0===t.e&&0===e.e)return{x:0,y:0};if(0===t.c){var n=-t.e/t.d;return{x:(-e.e-n*e.d)/e.c,y:n}}if(0===t.d){var a=-t.e/t.c;return{x:a,y:(-e.e-a*e.c)/e.d}}if(0===e.c){var o=-e.e/e.d;return{x:(-t.e-o*t.d)/t.c,y:o}}if(0===e.d){var i=-e.e/e.c;return{x:i,y:(-t.e-i*t.c)/t.d}}var r=(t.e*e.c-t.c*e.e)/(t.d*e.c+t.c*e.d);return{x:(-t.e-t.d*r)/t.c,y:r}}(n,a)));else{var i=a.c,r=a.d,c=a.e,s=n.a-a.a>0?n.a:a.a,u=s===n.a?n.c:i,d=s===n.a?n.d:r,l=s===n.a?n.e:c,p=s===n.a?n.c-i:i-n.c,f=s===n.a?n.d-r:r-n.d,h=s===n.a?n.e-c:c-n.e;if(0===p||0===f)return U;var g=nt(s*(f*f+p*p),2*f*h*s-u*p*f+d*p*p,s*h*h-u*p*h+l*p*p);if(g===U)return g;if("number"===typeof g)o.push(rt({x:(-h-f*g)/p,y:g}));else{var y=g.firstRoot,v=g.secondRoot;o.push(rt({x:(-h-f*g.firstRoot)/p,y:y}),rt({x:(-h-f*g.secondRoot)/p,y:v}))}}return o}function rt(t){return"string"===typeof t?t:{x:J(t.x),y:J(t.y)}}function ct(t,e){var n=t.c,a=e.c,o=t.d,i=e.d;return J(180*Math.acos(Math.abs(n*a+o*i)/Math.sqrt((n*n+o*o)*(a*a+i*i)))/Math.PI)}function st(t,e,n){var a=K(t,e);if(!at(n,{a:0,b:0,c:a.c,d:a.d,e:a.e}))return V;var o=F(t,e),i=F(e,n),r=F(t,n),c=Math.max(o,i,r);return o===c?n:r===c?e:t}function ut(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||T(t),n={a:0,b:0};return n.c=e.x+t.c/2,n.d=e.y+t.d/2,n.e=t.e+t.c*e.x/2+t.d*e.y/2,n}function dt(t){return!isNaN(t)||"number"===typeof t||function(t){return"object"===typeof t&&null!==t}(t)&&"[object Number]"===pt(t)}function lt(t){return!t.coefficientX&&(1===t.a&&1===t.b)}function pt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":toString.call(t)}function ft(t){var e="";return t.split("").forEach(function(t){var n;e+=(n=t)===n.toLowerCase()?"0":"1"}),e}function ht(t){if(dt(t))return"value";if(function(t){for(var e=0;e<t.length;e++){if(dt(t[e]))return!1;if(e>0&&t.slice(0,e-1).includes(t[e]))return!1}return!0}(t)){if(3===t.length)return t.includes("(")&&t.includes(")")?"circle":"angle";switch(ft(t)){case"0":return"line";case"1":return"point";case"10":return"ray";case"11":return"segment";default:return}}}function gt(t,e){if(!vt(t.value))return!1;var n,a=j.object[e];if("value"===t.key||"relation"===t.key||"undefined"===t.key||"circle"===t.key)return!0;if("angle"===t.key&&!function(t){return"1"===ft(t)[1]}(t.value))return!1;if(a.includes(t.key)||"object"!==t.key){var o=ft(t.value);if((n=j[t.key])&&o)if(n.format){if(o===n.format&&t.value.length===n.length)return!0}else if(t.value.length===n.length)return!0}return!1}function yt(t,e){var n=e.split("").map(function(e){return t.includes(e)}),a=Object(c.a)(new Set(n));return 1===a.length?!a[0]:2===e.length?-1===n.indexOf(!0):3===e.length?!(0===n.indexOf(!0)||2===n.indexOf(!0)):void 0}function vt(t){return t.split("").length===t.split("").filter(function(t,e,n){return n.indexOf(t)===e}).length}function mt(t){var e=t.outputType;if("shape"===e)return function(t){var e=Object.keys(t),n=j.shape[e[0]],a=j.shapeType[e[0]]||[""],o=t[e[0]],i=ft(t[e[0]])===n.format&&o.length===n.length,r=t.type||"",c=a.includes(r);return i&&c&&vt(t[e[0]])}(t);delete t.outputType;for(var n=Object.keys(t),a=0;a<n.length;a++)for(var o=t[n[a]],i=n[a],r=0;r<o.length;r++){var c=gt({key:i,value:o[r]},e);if(!c)return c}var s=Object.keys(t);return t.outputType=e,"define"===e?s.includes("value")?2===s.length:1===s.length:"relation"!==e||function(t){for(var e=Object.keys(t),n=0;n<E.length-1;n++)for(var a=0;a<E[n].length;a++)for(var o=0;o<E[n+1].length;o++)if(e.includes(E[n][a])&&t[E[n+1][o]])return yt(t[E[n][a]][0],t[E[n+1][o]][0]);return!0}(t)}function bt(t){var e;switch(t.outputType){case"shape":e=function(t){var e={};return Object.keys(t).forEach(function(n){if(n.includes("type")){var a=t[n].toString().split(" "),o=a[a.length-1],i=n.split(" ").pop(),r=t[n].toString().replace(o,"").trim().split(" ");e[i]=o;var c="";1===r[0].length&&(e.point=r[0],c=r[0]),e.type=r.join(" ").replace(c,"").trim()}else e[n]=t[n].toString()}),e}(t);break;case"relation":e=function(t){var e={};return Object.keys(t).forEach(function(n){"arrayPoints"===n?e.point=t[n].toString().split(","):e[n]=t[n]}),e}(t);break;default:e=t}if(N.includes(e.relation)&&(e.object=e.object.reverse()),Object.keys(e).forEach(function(t){"object"===t&&e[t].forEach(function(t){var n=ht(t);e[n]||(e[n]=[]),"segment"===n&&(t=xt(t)),"circle"===n&&(t=t[1].toUpperCase()),e[n].push(t)}),"circle"===t&&e[t].forEach(function(n,a){e[t][a]=e[t][a][1]})}),"shape"===t.outputType){var n=Object.keys(e).filter(function(t){return"type"!==t})[0];"triangle"!==n&&(e[n]=xt(e[n]))}return delete e.object,mt(e)?e:{Error:e}}function xt(t){return t.split("").sort().join("")}var It=C.Number.MIN_RANDOM_GENERATION,Ot=C.Number.MAX_RANDOM_GENERATION,Nt={triangle:function(t,e){if(3===t.length){var n={x:0,y:0,z:0},a={},o={};switch(Wt.updateCoordinate(t[0],n),e){case"":o.y=A(n.y+5,n.y+10),o.x=A(n.x-3,n.x-10),Wt.updateCoordinate(t[1],o),a.y=o.y,a.x=A(n.x+3,o.x+10),Wt.updateCoordinate(t[2],a);break;case"vu\xf4ng":a.y=A(n.y+It,n.y+Ot),a.x=n.x,Wt.updateCoordinate(t[2],a),o.x=A(n.x+1,n.x+50),o.y=n.y,Wt.updateCoordinate(t[1],o);break;case"c\xe2n":var i=A(3,6);o.y=A(n.y+5,n.y+10),o.x=n.x-i,Wt.updateCoordinate(t[1],o),a.y=o.y,a.x=n.x+i,Wt.updateCoordinate(t[2],a);break;case"vu\xf4ng c\xe2n":var r=A(5,10);o.y=n.y+r,o.x=n.x-r,Wt.updateCoordinate(t[1],o),a.y=o.y,a.x=n.x+r,Wt.updateCoordinate(t[2],a);break;case"\u0111\u1ec1u":a.x=A(n.x+It,n.x+Ot),a.y=Math.sqrt(3)*a.x,Wt.updateCoordinate(t[2],a);var c=F(n,a);o.y=a.y,o.x=-c+a.x,Wt.updateCoordinate(t[1],o)}}},quadrilateral:function(t){if(4===t.length){var e={x:0,y:0,z:0};Wt.updateCoordinate(t[0],e);var n={x:A(e.x+It,e.x+Ot),y:A(e.y-Ot,e.y+Ot)};Wt.updateCoordinate(t[1],n);var a={},o=K(e,n);do{a.x=A(e.x+It,e.x+Ot),a.y=A(e.y+It,e.y+Ot)}while(a.y===o.coefficientX*a.x+o.constantTerm);Wt.updateCoordinate(t[2],a);var i={x:A(e.x-Ot,a.x),y:void 0},r=K(e,n);do{i.y=A(e.x,e.x+Ot)}while(i.y===r.coefficientX*i.x+r.constantTerm);Wt.updateCoordinate(t[3],i)}},trapezoid:function(t,e){if(4===t.length){var n={x:0,y:0,z:0};switch(Wt.updateCoordinate(t[0],n),e){case"":var a={x:A(n.x+It,n.x+Ot),y:n.y};Wt.updateCoordinate(t[1],a);var o={x:A(a.x+It,a.x+Ot),y:A(n.y+It,n.y+Ot)};Wt.updateCoordinate(t[2],o);var i={x:A(n.x-Ot,o.x-It),y:o.y};Wt.updateCoordinate(t[3],i);break;case"c\xe2n":var r={x:A(n.x+It,n.x+Ot),y:n.y};Wt.updateCoordinate(t[1],r);var c={x:A(r.x+It,r.x+Ot),y:A(n.y+It,n.y+Ot)};Wt.updateCoordinate(t[2],c);var s=Math.abs(c.x-r.x),u=1===A(0,2)?n.x+s:n.x-s,d={x:u,y:c.y};Wt.updateCoordinate(t[3],d)}}},parallelogram:function(t){if(4===t.length){var e={x:0,y:0,z:0};Wt.updateCoordinate(t[0],e);var n={x:A(e.x+It,e.x+Ot),y:e.y};Wt.updateCoordinate(t[1],n);var a={x:A(e.x+It,e.x+Ot),y:A(e.x+It,e.x+Ot)};Wt.updateCoordinate(t[2],a);var o={x:a.x-n.x-e.x,y:a.y};Wt.updateCoordinate(t[3],o)}},rectangle:function(t){if(4===t.length){var e={x:0,y:0,z:0};Wt.updateCoordinate(t[0],e);var n={x:A(e.x+It,e.x+Ot),y:e.y};Wt.updateCoordinate(t[1],n);var a={x:n.x,y:A(n.y+It,n.y+Ot)};Wt.updateCoordinate(t[2],a);var o={x:e.x,y:a.y};Wt.updateCoordinate(t[3],o)}},rhombus:function(t){if(4===t.length){var e={x:0,y:0,z:0};Wt.updateCoordinate(t[0],e);var n={x:A(e.x+It,e.x+Ot),y:-A(e.y+It,e.y+Ot)};Wt.updateCoordinate(t[1],n);var a={x:2*Math.abs(n.x-e.x),y:e.y};Wt.updateCoordinate(t[2],a);var o={x:n.x,y:Math.abs(-n.y-e.y)};Wt.updateCoordinate(t[3],o)}},square:function(t){if(4===t.length){var e={x:0,y:0,z:0};Wt.updateCoordinate(t[0],e);var n={x:A(e.x+It,e.x+Ot),y:e.y};Wt.updateCoordinate(t[1],n);var a={x:n.x,y:n.y+F(e,n)};Wt.updateCoordinate(t[2],a);var o={x:e.x,y:a.y};Wt.updateCoordinate(t[3],o)}},circle:function(t){}};var Et={300:C.Errors.WRONG_FORMAT,301:C.Errors.MAXIMUM_POINT_ERROR,400:C.String.IMPOSSIBLE,401:C.String.INFINITY,500:C.String.NOT_BE_IN_LINE,501:C.String.NOT_ENOUGH_SET,502:C.String.TOO_SHORT},Mt=new(function(){function t(){Object(s.a)(this,t),this.message=""}return Object(u.a)(t,[{key:"showError",value:function(t,e){var n;if(e)n=Wt.inputData.filter(function(t){return t===e})[0];else switch(t){case 300:case 301:n=Wt.executedInputIndex;break;default:n=Wt.inputData.filter(function(t){return t===Wt.executingRelation})[0]}throw n>=0&&(Wt.RelationsInput[n].status=C.InputStatus.ERROR),alert(Et[t]),Et[t]}},{key:"ErrorMessage",get:function(){return this.message}}]),t}());function jt(t,e){var n;if(Wt.executingRelation=t,t.operation)n=function(t,e){var n=t.segment?"segment":"angle",a={},o=[];for(var i in t[n]){var r=t[n][i];r.includes(e)&&o.push(r);var s=!0;if(r.split("").forEach(function(t){t===e||Wt.isStaticNodeById(t)||(s=!1)}),!s)return;a[r]="segment"===n?F(Wt.getNodeInPointsMapById(r[0]).coordinate,Wt.getNodeInPointsMapById(r[1]).coordinate):ct(K(Wt.getNodeInPointsMapById(r[0]).coordinate,Wt.getNodeInPointsMapById(r[1]).coordinate),K(Wt.getNodeInPointsMapById(r[1]).coordinate,Wt.getNodeInPointsMapById(r[2]).coordinate))}if(1===o.length){var u,d=t[n].indexOf(o[0]),l=t[n][0===d?1:0];if(u=t[n].length>1?0===d?t.value*a[l]:a[l]/t.value:t.value[0],"segment"===n)return Z(Wt.getNodeInPointsMapById(o[0].replace(e,"")).coordinate,u);var p=K(Wt.getNodeInPointsMapById(o[0].replace(e,"")[0]).coordinate,Wt.getNodeInPointsMapById(o[0].replace(e,"")[1]).coordinate);return function(t,e,n){var a=[],o=Math.cos(n*Math.PI/180),i=nt(t.c*t.c-o*o*t.c*t.c-o*o*t.d*t.d,2*t.c*t.d,t.d*t.d-o*o*t.c*t.c-o*o*t.d*t.d);if("number"===typeof i)a.push({c:i,d:1,e:-i*e.x-e.y});else{if(i===U)return i;a.push({c:i.firstRoot,d:1,e:-i.firstRoot*e.x-e.y},{c:i.secondRoot,d:1,e:-i.secondRoot*e.x-e.y})}return a}(p,Wt.getNodeInPointsMapById(o[0].replace(e,"")[1]).coordinate,u)}if(2===o.length&&"segment"===n){var f=o[0].replace(e,""),h=o[1].replace(e,"");if(!Wt.isStaticNodeById(f)||!Wt.isStaticNodeById(h))return;var g=K(Wt.getNodeInPointsMapById(f).coordinate,Wt.getNodeInPointsMapById(h).coordinate),y=F(Wt.getNodeInPointsMapById(f).coordinate,Wt.getNodeInPointsMapById(h).coordinate),v=at(Wt.getNodeInPointsMapById(e).coordinate,{a:0,b:0,c:g.coefficientX,d:g.coefficientY,e:g.constantTerm}),m=+t.value[0];if(v){var b,x=st(Wt.getNodeInPointsMapById(e).coordinate,Wt.getNodeInPointsMapById(f).coordinate,Wt.getNodeInPointsMapById(h).coordinate);return x===Wt.getNodeInPointsMapById(e).coordinate&&(b=et(g,Z(Wt.getNodeInPointsMapById(f).coordinate,m*y/(m+1))),Object(c.a)(b).forEach(function(t){var e=st(t,Wt.getNodeInPointsMapById(f).coordinate,Wt.getNodeInPointsMapById(h).coordinate);e===t&&(b=t)})),x===Wt.getNodeInPointsMapById(f).coordinate&&m<1&&(b=et(g,Z(Wt.getNodeInPointsMapById(f).coordinate,m*y/(1-m))),Object(c.a)(b).forEach(function(t){var e=st(t,Wt.getNodeInPointsMapById(f).coordinate,Wt.getNodeInPointsMapById(h).coordinate);e===Wt.getNodeInPointsMapById(f).coordinate&&(b=t)})),x===Wt.getNodeInPointsMapById(h).coordinate&&m>1&&(b=et(g,Z(Wt.getNodeInPointsMapById(f).coordinate,m*y/(m-1))),Object(c.a)(b).forEach(function(t){var e=st(t,Wt.getNodeInPointsMapById(f).coordinate,Wt.getNodeInPointsMapById(h).coordinate);e===Wt.getNodeInPointsMapById(h).coordinate&&(b=t)})),Wt.updateCoordinate(e,b),g}return null}}(t,e);else if(t.relation){switch(t.relation){case"trung \u0111i\u1ec3m":case"thu\u1ed9c":case"kh\xf4ng thu\u1ed9c":case"song song":case"vu\xf4ng g\xf3c":case"ph\xe2n gi\xe1c":case"th\u1eb3ng h\xe0ng":n=function(t,e){var n,a;t.segment&&t.segment.forEach(function(t){t.includes(e)?n=t:a=t});var o=t.relation;if(console.log(o),"trung \u0111i\u1ec3m"===o||"thu\u1ed9c"===o||"kh\xf4ng thu\u1ed9c"===o||"th\u1eb3ng h\xe0ng"===o){var i;if(t.circle)return i=T(Wt.getCircleEquation(t.circle[0])),console.log(Wt.getCircleEquation(t.circle[0]),i),Wt.updateCoordinate(t.point[0],i),Wt.getCircleEquation(t.circle[0]);if(n){var r=t.point[0],c=Wt.getNodeInPointsMapById(n.replace(e,""));if(!c.coordinate.x&&!c.coordinate.y)return null;"trung \u0111i\u1ec3m"===o&&(i=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?{x:2*t.x-e.x,y:2*t.y-e.y}:{x:2*e.x-t.x,y:2*e.y-t.y}}(c.coordinate,Wt.getNodeInPointsMapById(r).coordinate,1===n.indexOf(e)),Wt.updateCoordinate(e,i))}else{if(!a){var s=t.point,u=s.indexOf(e);return 1===u?(i=z(Wt.getNodeInPointsMapById(s[0]).coordinate,Wt.getNodeInPointsMapById(s[2]).coordinate),Wt.updateCoordinate(e,i)):(i=H(Wt.getNodeInPointsMapById(s[2===u?0:1]).coordinate,Wt.getNodeInPointsMapById(s[2===u?1:2]).coordinate,2===u),Wt.updateCoordinate(e,i)),K(Wt.getNodeInPointsMapById(s[0]).coordinate,Wt.getNodeInPointsMapById(s[1]).coordinate)}switch(o){case"trung \u0111i\u1ec3m":i=X(Wt.getNodeInPointsMapById(a[0]).coordinate,Wt.getNodeInPointsMapById(a[1]).coordinate),Wt.updateCoordinate(e,i);break;case"thu\u1ed9c":i=z(Wt.getNodeInPointsMapById(a[0]).coordinate,Wt.getNodeInPointsMapById(a[1]).coordinate),Wt.updateCoordinate(e,i);break;case"kh\xf4ng thu\u1ed9c":i=H(Wt.getNodeInPointsMapById(a[0]).coordinate,Wt.getNodeInPointsMapById(a[1]).coordinate,1===A(0,2)),Wt.getData.getAdditionSegment.push("".concat(e).concat(a[0])),Wt.updateCoordinate(e,i)}}return K(Wt.getNodeInPointsMapById(t.segment[0][0]).coordinate,Wt.getNodeInPointsMapById(t.segment[0][1]).coordinate)}if("song song"===o||"vu\xf4ng g\xf3c"===o){var d=n.replace(e,"");if(!Wt.isValidCoordinate(d)&&!Wt.isValidCoordinate(e)){var l=function(t,e){var n=K(t,e);return T($(z(t,e),n))}(Wt.getNodeInPointsMapById(a[0]).coordinate,Wt.getNodeInPointsMapById(a[1]).coordinate);l&&Wt.updateCoordinate(d,l)}for(var p=0;p<2;p++)if(!Wt.isValidCoordinate(a[p]))return;var f,h=K(Wt.getNodeInPointsMapById(a[0]).coordinate,Wt.getNodeInPointsMapById(a[1]).coordinate);if(!Wt.isValidCoordinate(d))return;if("vu\xf4ng g\xf3c"===o){f=$(Wt.getNodeInPointsMapById(d).coordinate,h);var g=at(Wt.getNodeInPointsMapById(d).coordinate,h),y=g?T(f):Q(f,h);Wt.updateCoordinate(e,y)}if("song song"===o){var v=T(f=W(Wt.getNodeInPointsMapById(d).coordinate,h));Wt.updateCoordinate(e,v)}return f}if("ph\xe2n gi\xe1c"===o&&t.angle){var m=t.angle[0];if(m.includes(e))return;var b=K(Wt.getNodeInPointsMapById(m[0]).coordinate,Wt.getNodeInPointsMapById(m[2]).coordinate),x=tt(K(Wt.getNodeInPointsMapById(m[0]).coordinate,Wt.getNodeInPointsMapById(m[1]).coordinate),K(Wt.getNodeInPointsMapById(m[1]).coordinate,Wt.getNodeInPointsMapById(m[2]).coordinate),Wt.getNodeInPointsMapById(m[0]).coordinate,Wt.getNodeInPointsMapById(m[2]).coordinate),I=Q(x,b);return Wt.updateCoordinate(e,I),x}}(t,e);break;case"c\u1eaft":n=function(t,e){for(var n in t.segment)for(var a=0;a<2;a++)if(!Wt.isValidCoordinate(t.segment[n][a]))return;if(2===t.segment.length){var o=K(Wt.getNodeInPointsMapById(t.segment[0][0]).coordinate,Wt.getNodeInPointsMapById(t.segment[0][1]).coordinate),i=K(Wt.getNodeInPointsMapById(t.segment[1][0]).coordinate,Wt.getNodeInPointsMapById(t.segment[1][1]).coordinate),r=Q(o,i);Wt.updateCoordinate(t.point[0],r)}else if(2===t.circle.length){var c=it(Wt.getCircleEquation(t.circle[0]),Wt.getCircleEquation(t.circle[1]));c.forEach(function(e,n){t.point[n]?Wt.updateCoordinate(t.point[n],e):Mt.showError("500")})}else{var s=Wt.getNodeInPointsMapById(t.segment[0][0]).coordinate,u=Wt.getNodeInPointsMapById(t.segment[0][1]).coordinate,d=it(K(s,u),Wt.getCircleEquation(t.circle[0]));d=d.filter(function(t){return JSON.stringify(t)!==JSON.stringify(s)&&JSON.stringify(t)!==JSON.stringify(u)}),console.log(d),d.forEach(function(e,n){t.point[n]?Wt.updateCoordinate(t.point[n],e):Mt.showError("500")})}}(t);break;case"ti\u1ebfp tuy\u1ebfn":n=function(t,e){var n=t.segment[0].replace(e,"");if(!Wt.isStaticNodeById(n))return;var a,o=Wt.getNodeInPointsMapById(n).coordinate,i=Wt.getCircleEquation(t.circle[0]);if(at(o,i))a=ut(i,o),Wt.updateCoordinate(e,T(a));else{var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={x:-t.c/2,y:-t.d/2},o=it(t,Z(X(a,e),F(a,e)/2));return n&&(o=o.filter(function(t){return JSON.stringify(t)!==JSON.stringify(n)})),o}(i,o),c=function(t,e){var n=t.filter(function(t){return!Wt.isCoordinateDuplicated(t)});return n.map(function(t){return{equation:ut(e,t),point:t}})[A(0,n.length-1)]}(r,i);a=c.tangentEquation,Wt.updateCoordinate(e,c.point)}return a}(t,e)}}else if("shape"===t.outputType){var a=Object.keys(t).filter(function(t){return"type"!==t})[0];switch(a){case"triangle":n=K(Wt.getNodeInPointsMapById(t[a][0]).coordinate,Wt.getNodeInPointsMapById(e).coordinate);break;case"quadrilateral":case"rectangle":case"square":case"trapezoid":case"parallelogram":if("quadrilateral"!==a){var o=0;if(t[a].split("").forEach(function(t){Wt.isStaticNodeById(t)&&o++}),o>("rectangle"===a||"square"===a?1:2))return}var i=t[a].indexOf(e);i=0===i?t[a].length-1:i-1,n=K(Wt.getNodeInPointsMapById(t[a][i]).coordinate,Wt.getNodeInPointsMapById(e).coordinate)}}return n?void 0!==n.coefficientX?{a:0,b:0,c:n.coefficientX,d:n.coefficientY,e:n.constantTerm}:n:null}function Pt(){Wt.createPointDetails(),console.table(Wt.getData.getPointsMap);var t=function(){var t=Wt.getNextExecuteNode();if(!t)return"break";var e=St(t.dependentNodes),n=void 0,a=void 0,o=void 0;if(e.forEach(function(e){var i;if("shape"===e.outputType){if(a=Object.keys(e).filter(function(t){return"type"!==t})[0],o=S[e.type]||"normal",n=e[a],D.includes(o)){var r=null;switch(o){case"n\u1ed9i ti\u1ebfp":r=function(t,e,n){var a=Q(tt(K(t,n),K(t,e),e,n),tt(K(e,n),K(t,e),t,n)),o=Y(a,K(t,n));return{center:a,radius:o,equation:Z(a,o)}}(Wt.getNodeInPointsMapById(n[0]).coordinate,Wt.getNodeInPointsMapById(n[1]).coordinate,Wt.getNodeInPointsMapById(n[2]).coordinate);break;case"ngo\u1ea1i ti\u1ebfp":r=function(t,e,n){var a=Q($(X(t,e),K(t,e)),$(X(t,n),K(t,n))),o=F(a,t);return{center:a,radius:o,equation:Z(a,o)}}(Wt.getNodeInPointsMapById(n[0]).coordinate,Wt.getNodeInPointsMapById(n[1]).coordinate,Wt.getNodeInPointsMapById(n[2]).coordinate)}return void(r?(Wt.circlesData[e.point[0]]=r,Wt.updateCoordinate(e.point[0],r.center)):Mt.ErrorMessage("400"))}Wt.isExecutedRelation(e)||(function(t,e,n){var a=Nt[e];a&&a(t,n)}(e[a],a,e.type),function(t){t.split("").forEach(function(e,n){if(n>0){var a=Wt.getNodeInPointsMapById(e).coordinate,o=Wt.getNodeInPointsMapById(t[n-1]).coordinate;Wt.getData.getPointDirectionMap[e]={root:t[n-1],isRight:a.x>o.x,isUp:a.y<o.y}}})}(e[a]))}(i=jt(e,t.id))&&(Array.isArray(i)&&(i=i[A(0,i.length)]),Wt.executePointDetails(t.id,i)),Wt.isExecutedRelation(e)||Wt.getData.getExecutedRelations.push(e)}),P[a]&&P[a][o]&&function(t,e,n,a){for(var o=w.includes(e)?2:1,i=t.replace(a,"").split(""),r=0,c=0;c<i.length;c++)Wt.isStaticNodeById(i[c])&&r++;if(r<o)return;var s=n.split(new RegExp("&","g")),u=t.indexOf(a),d=[];if(s.length>0){if(s.forEach(function(e){var n=e[2];if(e.includes(u)){var a;switch(n){case"|":a=function(t,e,n){var a,o;return t.split("|").forEach(function(t){t.includes(n)?o=t:a=t}),[W(Wt.getNodeInPointsMapById(e[o.replace(n,"")]).coordinate,K(Wt.getNodeInPointsMapById(e[a[0]]).coordinate,Wt.getNodeInPointsMapById(e[a[1]]).coordinate))]}(e,t,u);break;case"^":e[1]===u&&e[3]===u&&(a=function(t,e,n){var a,o=t.split("^"),i=[],r=[];if(o.forEach(function(t){t.includes(n)?(i.push(t),r.push(t.replace(n,""))):a=t}),a)return[$(Wt.getNodeInPointsMapById(e[i[0].replace(n,"")]).coordinate,K(Wt.getNodeInPointsMapById(e[a[0]]).coordinate,Wt.getNodeInPointsMapById(e[a[1]]).coordinate))]}(e,t,u));break;case"=":a=function(t,e,n){var a,o=t.split("="),i=[],r=[];if(o.forEach(function(t){t.includes(n)?(i.push(t),r.push(t.replace(n,""))):a=t}),a){if(a.includes(i[0].replace(n,""))){var c=F(Wt.getNodeInPointsMapById(e[a[0]]).coordinate,Wt.getNodeInPointsMapById(e[a[1]]).coordinate);return[Z(Wt.getNodeInPointsMapById(e[i[0].replace(n,"")]).coordinate,c)]}var s=F(Wt.getNodeInPointsMapById(e[a[0]]).coordinate,Wt.getNodeInPointsMapById(e[a[1]]).coordinate),u=Z(Wt.getNodeInPointsMapById(e[a[0]]).coordinate,s),d=Z(Wt.getNodeInPointsMapById(e[a[0]]).coordinate,s),l=e[n].id;return Wt.updateCoordinate(l,it(u,d)),[u,d]}}(e,t,u)}a&&(d=d.concat(a))}}),d.length>1){var l=Q(d[0],d[1]);Wt.updateCoordinate(a,l)}d.forEach(function(t){Wt.executePointDetails(a,t)})}}(n,a,P[a][o],t.id),Wt.getData.getPointDetails.has(t.id)){var i=Wt.getData.getPointDetails.get(t.id).roots;if("string"===typeof i)return Mt.showError("400"),{v:void 0};if(i.length>0){var r;if(Wt.isNeedRandomCoordinate(t.id))r=i[A(0,i.length)];else{var c=Wt.getData.getPointDirectionMap[t.id],s=Wt.getNodeInPointsMapById(c.root).coordinate;if(i.length>1)r=i.map(function(t){return{coordinate:t,isRight:t.x>s.x,isUp:t.y<s.y}}).map(function(t){var e=0;return t.isRight===c.isRight&&e++,t.isUp===c.isUp&&e++,{coordinate:t.coordinate,matchCount:e}}).sort(function(t,e){return e.matchCount-t.matchCount})[0].coordinate;else r=i[0]}Wt.updateCoordinate(t.id,r)}}Wt.getData.getExecutedNode.push(t.id),Wt.updateStaticNode()};t:for(;!Wt.isPointsMapStatic();){var e=t();switch(e){case"break":break t;default:if("object"===typeof e)return e.v}}return Wt.getData.getPointsMap.map(function(t){return{id:t.id,coordinate:t.coordinate}})}function St(t){for(var e=[],n=0;n<t.length;n++){for(var a=!0,o=0;o<e.length;o++)if(t[n].relation===e[o]){a=!1;break}a&&e.push(t[n].relation)}return e}var Dt=[];function wt(t){t.shapes.forEach(function(t){!function(t){var e,n=Object.keys(t).filter(function(t){return"type"!==t})[0],a=t[n].split("").filter(function(t){return t===t.toUpperCase()});if(a=kt(Object(c.a)(a)),0===Wt.getData.getPointsMap.length){var o=function(t){var e=[];if(Wt.getData.getRelationsResult.relations){Wt.getData.getRelationsResult.relations.forEach(function(t){t.angle&&e.push(t.angle[0])});var n={};e.forEach(function(t){t.split("").forEach(function(t,e){1!==e&&(n[t]?n[t]+=1:n[t]=1)})});var a=t[0];return Object.keys(n).forEach(function(t){n[t]<n[a]&&(a=t)}),a}return t[0]}(t[n]);a=[o].concat(a.filter(function(t){return t!==o}))}e=t.point?a.map(function(e){return _t(t.point[0],[{id:e,relation:t}])}):a.map(function(e,n){return 0!==n?_t(e,[{id:a[0],relation:t}]):_t(e)});e.forEach(function(t){qt(t,Wt.getData.getPointsMap)})}(t)}),t.relations.forEach(function(t){(function(t){if(Dt=[],M.forEach(function(e){t[e]&&t[e].forEach(function(t){var n=t.split("").filter(function(t){return t===t.toUpperCase()});(n=kt(Object(c.a)(n))).map(function(a,o){return o===n.length-1?_t(a,function(t,e,n){var a=[],o={};return o[t]=e,n.forEach(function(t,e){e!==n.length-1&&a.push({id:t,relation:o})}),a}(e,t,n)):_t(a)}).forEach(function(t){qt(t,Dt)})})}),Dt=Object(c.a)(Dt).sort(function(t,e){var n=Bt(t.id,Wt.getData.getPointsMap),a=Bt(e.id,Wt.getData.getPointsMap);return-1===n&&-1===a?1:n>=0&&a>=0?n-a:a-n}),"="===t.operation&&t.value){var e=Dt[Dt.length-1].dependentNodes.length;Dt[Dt.length-1].dependentNodes[e-1]&&(Dt[Dt.length-1].dependentNodes[e-1].relation=t)}else{var n=function(){var t=[],e=Dt[Dt.length-1];e&&(t.push(e.id),e.dependentNodes.forEach(function(e){var n=Bt(e.id,Wt.getData.getPointsMap);t.includes(e.id)||-1===n||Wt.getData.getPointsMap[n].isStatic||t.push(e.id)}));return t}();n.length===Dt.length&&(n=[n[0]]),n.forEach(function(e){var a=Bt(e,Dt),o=Dt[a];Dt.forEach(function(i){i.id!==e&&(Dt[a]=Object(b.a)({},o,{dependentNodes:[].concat(Object(c.a)(o.dependentNodes),Object(c.a)(Rt(i.id,t,n)))}))})})}return Dt})(t).forEach(function(t){qt(t,Wt.getData.getPointsMap)})}),Wt.getData.setPointsMap=Wt.getData.getPointsMap.map(function(t){return Object(b.a)({},t,{dependentNodes:Ct(t.dependentNodes)})});var e={};return Pt(),e.points=Wt.getData.getPointsMap.map(function(t){return{id:t.id,coordinate:t.coordinate}}),e.segments=[].concat(Object(c.a)(function(t){var e=[];return t.shapes.forEach(function(t){e=e.concat(function(t){for(var e=Object.keys(t).filter(function(t){return"type"!==t})[0],n=t[e].split("").filter(function(t){return t===t.toUpperCase()}),a=[],o=0;o<n.length;o++)o===n.length-1?a.push(n[0]+n[o]):a.push(n[o]+n[o+1]);return a}(t))}),t.relations.forEach(function(t){t.segment&&(e=e.concat(t.segment))}),e.filter(function(t,e,n){return n.indexOf(t)===e})}(t)),Object(c.a)(Wt.getData.getAdditionSegment)),e}function Ct(t){var e=[];return t.forEach(function(t){for(var n=0;n<e.length;n++)if(JSON.stringify(t)===JSON.stringify(e[n]))return;e.push(t)}),e}function kt(t){return t.sort(function(t,e){var n=Bt(t,Wt.getData.getPointsMap),a=Bt(e,Wt.getData.getPointsMap);return-1===n&&-1===a?1:n>=0&&a>=0?1:a-n})}function Bt(t,e){for(var n=0;n<e.length;n++)if(e[n].id===t)return n;return-1}function Rt(t,e,n){var a=[];return Dt.forEach(function(t){n.includes(t.id)||a.push({id:t.id,relation:e})}),a}function _t(t,e){var n={id:t,coordinate:{x:void 0,y:void 0,z:0},isStatic:!1},a=e?{dependentNodes:e}:{dependentNodes:[]};return Object(b.a)({},n,a)}function qt(t,e){var n=Bt(t.id,e);if(-1!==n){var a=e[n];e[n]=Object(b.a)({},a,{dependentNodes:[].concat(Object(c.a)(a.dependentNodes),Object(c.a)(t.dependentNodes))})}else e.push(t),1===Wt.getData.getPointsMap.length&&(e[0].isStatic=!0)}var At,Tt,zt,Ht,Lt,Ut,Vt,Jt,Gt,Xt=n(9),Kt=(At=function t(e){Object(s.a)(this,t),Object(x.a)(this,"value",Tt,this),Object(x.a)(this,"status",zt,this),this.value=e},Tt=Object(f.a)(At.prototype,"value",[Xt.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zt=Object(f.a)(At.prototype,"status",[Xt.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.InputStatus.NORMAL}}),At),Ft=C.Number.NOT_FOUND,Yt=C.String.NOT_ENOUGH_SET,Wt=new(Ht=function(){function t(e){var n=this;Object(s.a)(this,t),Object(x.a)(this,"circlesData",Lt,this),Object(x.a)(this,"relationsInput",Ut,this),this.inputData=[],this.executedInputIndex=void 0,Object(x.a)(this,"executingRelation",Vt,this),this.isNeedRandomCoordinate=function(t){var e=n.data.getPointDetails.get(t).roots;if(e){for(var a=0;a<e.length;a++)if(n.data.getPointDirectionMap[t]||JSON.stringify(rt(e[a]))===JSON.stringify(rt(n.getNodeInPointsMapById(t).coordinate)))return!1;return!0}return!1},this.updateCoordinate=function(t,e){var a=n.getIndexOfNodeInPointsMapById(t),o={};Object.keys(e).sort().forEach(function(t){o[t]=e[t]}),a!==Ft&&(n.data.getPointsMap[a].coordinate=o)},this.isStaticNode=function(t){if(t.isStatic)return!0;for(var e=0;e<t.dependentNodes.length;e++)if(!n.isExecutedRelation(t.dependentNodes[e].relation))return!1;return n.data.getExecutedNode.includes(t.id)},this.isExecutedRelation=function(t){for(var e=0;e<n.data.getExecutedRelations.length;e++)if(t===n.data.getExecutedRelations[e])return!0;return!1},this.updateStaticNode=function(){var t=n.data.getPointsMap.map(function(t){return t.isStatic=n.isStaticNode(t),t});n.data.setPointsMap=t},this.updatePointsMap=function(t){var e=n.getIndexOfNodeInPointsMapById(t.id);n.data.getPointsMap[e]=t},this.isPointsMapStatic=function(){for(var t=0;t<n.data.getPointsMap.length;t++)if(!n.data.getPointsMap[t].isStatic)return!1;return!0},this.isValidCoordinate=function(t){if(t){var e=n.getNodeInPointsMapById(t);if(e)return void 0!==e.coordinate.x&&void 0!==e.coordinate.y}return!1},this.getNextExecuteNode=function(){var t=Object(c.a)(n.data.pointsMap).filter(function(t){return!n.data.executedNode.includes(t.id)}).sort(n.sortNodeByPriority);return t.length>0?t[0]:null},this.sortNodeByPriority=function(t,e){var a=n.getDependentStaticNodeCount(t),o={static:a,nonStatic:t.dependentNodes.length-a,dependence:t.dependentNodes.length,minRelationIndex:n.getMinIndexOfDependentNodeInRelationsList(t),index:n.getIndexOfNodeInPointsMap(t)},i=n.getDependentStaticNodeCount(e),r={static:i,nonStatic:e.dependentNodes.length-i,dependence:e.dependentNodes.length,minRelationIndex:n.getMinIndexOfDependentNodeInRelationsList(e),index:n.getIndexOfNodeInPointsMap(e)},c=o.static===o.dependence?"1":"0",s=r.static===r.dependence?"1":"0";return["static","dependence"].forEach(function(t){o[t]>r[t]?(c+="1",s+="0"):o[t]===r[t]?(c+="1",s+="1"):(c+="0",s+="1")}),["nonStatic","minRelationIndex","index"].forEach(function(t){o[t]<r[t]?(c+="1",s+="0"):o[t]===r[t]?(c+="1",s+="1"):(c+="0",s+="1")}),parseInt(s)-parseInt(c)},this.getMinIndexOfDependentNodeInRelationsList=function(t){for(var e=[],a=0;a<t.dependentNodes.length;a++)e.push(n.getIndexOfRelationInRelationsList(t.dependentNodes[a]));return Math.min.apply(Math,e)},this.getIndexOfRelationInRelationsList=function(t){for(var e=n.data.getRelationsResult.shapes.concat(n.data.getRelationsResult.relations),a=0;a<e.length;a++)if(t===e[a])return a;return Ft},this.getDependentStaticNodeCount=function(t){for(var e=0,a=0;a<t.dependentNodes.length;a++)n.isStaticNodeById(t.dependentNodes[a].id)&&e++;return e},this.getIndexOfNodeInPointsMap=function(t){for(var e=0;e<n.data.getPointsMap.length;e++)if(t===n.data.getPointsMap[e])return e;return Ft},this.getIndexOfNodeInPointsMapById=function(t){for(var e=0;e<n.data.getPointsMap.length;e++)if(t===n.data.getPointsMap[e].id)return e;return Ft},this.getNodeInPointsMapById=function(t){for(var e=0;e<n.data.getPointsMap.length;e++)if(t===n.data.getPointsMap[e].id)return n.data.getPointsMap[e];return null},this.isStaticNodeById=function(t){for(var e=0;e<n.data.getPointsMap.length;e++)if(t===n.data.getPointsMap[e].id)return n.isStaticNode(n.data.getPointsMap[e]);return!1},this._calculateSet=function(t){return 2===t.length?it(t[0],t[1]):Yt},this.data=e,this.relationsInput=[new Kt("")]}return Object(u.a)(t,[{key:"resetInputsStatus",value:function(){this.relationsInput.forEach(function(t){t.status=C.InputStatus.NORMAL})}},{key:"onInputChange",value:function(t,e){var n=Object(b.a)({},this.relationsInput[e]);n.value=t,this.relationsInput[e]=n,this.resetInputsStatus()}},{key:"addNewInput",value:function(){this.relationsInput.push(new Kt(""))}},{key:"removeInput",value:function(t){this.relationsInput.splice(t,1)}},{key:"clear",value:function(){this.data.clear()}},{key:"createPointDetails",value:function(){var t=this;this.data.getPointsMap.forEach(function(e){var n=t.isValidCoordinate(e.coordinate)?[e.coordinate]:[];t._updatePointDetails(e.id,{setOfEquation:[],roots:n,exceptedCoordinates:[]})})}},{key:"_updatePointDetails",value:function(t,e){this.data.getPointDetails.set(t,{setOfEquation:e.setOfEquation,roots:e.roots,exceptedCoordinates:e.exceptedCoordinates})}},{key:"uniqueSetOfEquation",value:function(t){var e=[];return t.forEach(function(t){for(var n=0;n<e.length;n++)if(JSON.stringify(t)===JSON.stringify(e[n]))return;e.push(t)}),e}},{key:"executePointDetails",value:function(t,e){var n=!1;if(this.data.getPointDetails.has(t)||this._updatePointDetails(t,{setOfEquation:[],roots:[],exceptedCoordinates:[]}),this.data.getPointDetails.get(t).setOfEquation.length<=1&&(this._updatePointDetails(t,{setOfEquation:[].concat(Object(c.a)(this.data.getPointDetails.get(t).setOfEquation),[e]),roots:this.data.getPointDetails.get(t).roots,exceptedCoordinates:this.data.getPointDetails.get(t).exceptedCoordinates}),n=!0),2===this.data.getPointDetails.get(t).setOfEquation.length){if(lt(e)&&!n)for(var a=0;a<2;a++)if(!lt(this.data.getPointDetails.get(t).setOfEquation[a])){this.data.getPointDetails.get(t).setOfEquation[a]=e;break}var o=this._calculateSet(this.data.getPointDetails.get(t).setOfEquation),i=this.data.getPointDetails.get(t).roots,r="string"===typeof o?i:i.concat(o);this._updatePointDetails(t,{setOfEquation:this.data.getPointDetails.get(t).setOfEquation,roots:r,exceptedCoordinates:this.data.getPointDetails.get(t).exceptedCoordinates})}var s=this.data.getPointDetails.get(t).roots,u=s.length;"string"!==typeof s?(s=s.filter(function(t){return at(t,e)})).length<u&&this._updatePointDetails(t,{setOfEquation:this.data.getPointDetails.get(t).setOfEquation,roots:s,exceptedCoordinates:this.data.getPointDetails.get(t).exceptedCoordinates}):Mt.showError("500")}},{key:"getInformation",value:function(t){var e=this,n="_ ".concat(t.concat(" _")),a=!1,o=[];Object.keys(O).forEach(function(t){O[t].forEach(function(i){if(i="_ ".concat(i.concat(" _")),!a){var r=e.getBasicInformation(n,i,t);Object.keys(r).length>0&&(a=!0,(o=r).outputType=t)}})});var i=o.outputType,r=bt(o);if(console.log(r),!r.Error&&r.outputType){if(!(r.point&&r.point.length>3))return"define"===i&&C.Others.OPERATIONS.forEach(function(e){r.operation||t.includes(e)&&(r.operation=e,"="!==e||r.value||(r.value="1",r.operation="*"))}),r;Mt.showError("301")}else Mt.showError("300")}},{key:"getBasicInformation",value:function(t,e,n){var a=e.match(new RegExp(C.Regex.OTHER,"g")),o=e.match(new RegExp(C.Regex.KEY,"g")),i={};o.forEach(function(t){i[t]=[]});for(var r=0;r<o.length;r++){var c=a[r].replace("+","\\+").replace("-","\\-").replace("*","\\*")||"",s=a[r+1].replace("+","\\+").replace("-","\\-").replace("*","\\*")||"",u=t.match(new RegExp(c+"(.*)"+s));if(u&&i[o[r]].push(u[1]),r===a.length-1){var d=t.match(new RegExp(s+"(.*)"));d&&i[o[r+1]].push(d[1])}}return this.getLength(i)===o.length?("relation"===n&&(i[n]=a[1].replace("_","").trim()),i):[]}},{key:"getLength",value:function(t){var e=0;return Object.keys(t).forEach(function(n){e+=t[n].length}),e}},{key:"getCircleEquation",value:function(t){return this.circlesData[t].equation}},{key:"getCircleCenterCoordinate",value:function(t){return this.circlesData[t].coordinate}},{key:"isCoordinateDuplicated",value:function(t){var e=this,n=JSON.stringify(t),a=!1;return this.getData.pointsMap.forEach(function(t){var o=t.id;a||JSON.stringify(n)===JSON.stringify(e.getNodeInPointsMapById(o).coordinate)&&(a=!0)}),a}},{key:"analyzeInput",value:function(){var t=this;this.circlesData={};for(var e=this.RelationsInput.map(function(t){return t.value}).filter(function(t){return!!t}).map(function(e,n){t.executedInputIndex=n;var a=t.getInformation(e);return t.relationsInput[n].status=C.InputStatus.SUCCESS,t.inputData.push(a),a}),n={shapes:[],relations:[]},a=0;a<e.length;a++){var o=e[a];"shape"===o.outputType?n.shapes.push(o):n.relations.push(o)}return this.data.setRelationsResult=n,this.RelationsInput.forEach(function(t){t.status=C.InputStatus.SUCCESS}),wt(n)}},{key:"RelationsInput",get:function(){return this.relationsInput}},{key:"isInputEmpty",get:function(){return 1===this.relationsInput.length&&!this.relationsInput[0].value}},{key:"getData",get:function(){return this.data}}]),t}(),Lt=Object(f.a)(Ht.prototype,"circlesData",[Xt.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ut=Object(f.a)(Ht.prototype,"relationsInput",[Xt.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=Object(f.a)(Ht.prototype,"executingRelation",[Xt.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(f.a)(Ht.prototype,"RelationsInput",[Xt.d],Object.getOwnPropertyDescriptor(Ht.prototype,"RelationsInput"),Ht.prototype),Object(f.a)(Ht.prototype,"isInputEmpty",[Xt.d],Object.getOwnPropertyDescriptor(Ht.prototype,"isInputEmpty"),Ht.prototype),Object(f.a)(Ht.prototype,"resetInputsStatus",[Xt.c],Object.getOwnPropertyDescriptor(Ht.prototype,"resetInputsStatus"),Ht.prototype),Object(f.a)(Ht.prototype,"onInputChange",[Xt.c],Object.getOwnPropertyDescriptor(Ht.prototype,"onInputChange"),Ht.prototype),Object(f.a)(Ht.prototype,"addNewInput",[Xt.c],Object.getOwnPropertyDescriptor(Ht.prototype,"addNewInput"),Ht.prototype),Object(f.a)(Ht.prototype,"removeInput",[Xt.c],Object.getOwnPropertyDescriptor(Ht.prototype,"removeInput"),Ht.prototype),Ht)(I),$t=(n(74),n(57)),Qt=n.n($t),Zt=Object.freeze({BACKSPACE:8,ENTER:13}),te=(Jt=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(d.a)(this,Object(l.a)(e).call(this,t))).inputRef=a.createRef(),n.state={shouldRemove:!0,isEmpty:!0},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"focus",value:function(){this.inputRef.current&&this.inputRef.current.focus()}},{key:"onChange",value:function(t){var e=t.currentTarget.value,n=this.props.onValueChange;0===e.length?this.state.isEmpty||this.setState({isEmpty:!0}):this.setState({isEmpty:!1,shouldRemove:!1}),n&&n(e)}},{key:"onKeyUp",value:function(t){var e=this.props,n=e.onBackspace,a=e.onSubmit;e.value;if(t.keyCode===Zt.ENTER)a&&a();else if(t.keyCode===Zt.BACKSPACE){if(this.state.isEmpty&&!this.state.shouldRemove)return void this.setState({shouldRemove:!0});n&&n()}}},{key:"render",value:function(){var t=this.props,e=t.status,n=t.value;return a.createElement("div",{className:"input-item"},a.createElement("div",{className:"input-group input-container"},a.createElement("div",{className:"input-group-prepend input-status"},a.createElement("span",{className:"input-group-text ".concat(e.toLowerCase()),id:"basic-addon1"},a.createElement(ne,{width:15,height:15,name:"input".concat(e),color:Qt.a["input".concat(e)]}))),a.createElement("input",{type:"text",ref:this.inputRef,onChange:this.onChange,onKeyUp:this.onKeyUp,value:n,className:"form-control ".concat(e.toLowerCase()),"aria-describedby":"basic-addon1"})))}}]),e}(a.Component),Object(f.a)(Jt.prototype,"onChange",[g.a],Object.getOwnPropertyDescriptor(Jt.prototype,"onChange"),Jt.prototype),Object(f.a)(Jt.prototype,"onKeyUp",[g.a],Object.getOwnPropertyDescriptor(Jt.prototype,"onKeyUp"),Jt.prototype),Jt),ee={inputSuccess:{svg:function(t){return o.a.createElement("path",{fill:t.color,d:"M337.222 22.952c-15.912-8.568-33.66 7.956-44.064 17.748-23.867 23.256-44.063 50.184-66.708 74.664-25.092 26.928-48.348 53.856-74.052 80.173-14.688 14.688-30.6 30.6-40.392 48.96-22.032-21.421-41.004-44.677-65.484-63.648C28.774 167.385-.602 157.593.01 190.029c1.224 42.229 38.556 87.517 66.096 116.28 11.628 12.24 26.928 25.092 44.676 25.704 21.42 1.224 43.452-24.48 56.304-38.556 22.645-24.48 41.005-52.021 61.812-77.112 26.928-33.048 54.468-65.485 80.784-99.145 16.524-20.808 68.544-72.217 27.54-94.248zM26.937 187.581c-.612 0-1.224 0-2.448.611-2.448-.611-4.284-1.224-6.732-2.448 1.836-1.224 4.896-.612 9.18 1.837z"})},viewBox:"0 0 352.62 352.62"},inputError:{svg:function(t){return o.a.createElement("path",{fill:t.color,d:"M285.368 234.691L459.36 60.697c13.895-13.88 13.895-36.395 0-50.275-13.881-13.895-36.38-13.895-50.275 0L235.091 184.416 61.082 10.421c-13.866-13.895-36.395-13.895-50.275 0-13.88 13.881-13.88 36.395 0 50.275l174.01 173.995L10.421 409.085c-13.895 13.895-13.895 36.395 0 50.275 6.94 6.955 16.043 10.425 25.145 10.425 9.088 0 18.19-3.47 25.132-10.425L235.09 284.967l173.995 173.995c6.955 6.94 16.043 10.425 25.145 10.425 9.088 0 18.19-3.485 25.131-10.425 13.895-13.88 13.895-36.38 0-50.275L285.367 234.691z"})},viewBox:"0 0 469.785 469.785"},inputNormal:{svg:function(t){return o.a.createElement("g",null,o.a.createElement("path",{fill:t.color,d:"M370.59 250.973c-5.524 0-10 4.476-10 10v88.789c-.02 16.562-13.438 29.984-30 30H50c-16.563-.016-29.98-13.438-30-30V89.172c.02-16.559 13.438-29.98 30-30h88.79c5.523 0 10-4.477 10-10 0-5.52-4.477-10-10-10H50c-27.602.031-49.969 22.398-50 50v260.594c.031 27.601 22.398 49.968 50 50h280.59c27.601-.032 49.969-22.399 50-50v-88.793c0-5.524-4.477-10-10-10zm0 0"}),o.a.createElement("path",{fill:t.color,d:"M376.629 13.441c-17.574-17.574-46.067-17.574-63.64 0L134.581 191.848a9.997 9.997 0 0 0-2.566 4.402l-23.461 84.7a9.997 9.997 0 0 0 12.304 12.308l84.7-23.465a9.997 9.997 0 0 0 4.402-2.566l178.402-178.41c17.547-17.587 17.547-46.055 0-63.641zM156.37 198.348L302.383 52.332l47.09 47.09-146.016 146.016zm-9.406 18.875l37.62 37.625-52.038 14.418zM374.223 74.676L363.617 85.28l-47.094-47.094 10.61-10.605c9.762-9.762 25.59-9.762 35.351 0l11.739 11.734c9.746 9.774 9.746 25.59 0 35.36zm0 0"}))},viewBox:"0 0 352.62 352.62"},icInformation:{svg:function(t){return o.a.createElement("g",null,o.a.createElement("path",{fill:t.color,d:"M194 142.8c.8 1.6 1.6 3.2 2.4 4.4.8 1.2 2 2.4 2.8 3.6 1.2 1.2 2.4 2.4 4 3.6 1.2.8 2.8 2 4.8 2.4 1.6.8 3.2 1.2 5.2 1.6 2 .4 3.6.4 5.2.4s3.6 0 5.2-.4 3.2-.8 4.4-1.6h.4c1.6-.8 3.2-1.6 4.8-2.8 1.2-.8 2.4-2 3.6-3.2l.4-.4c1.2-1.2 2-2.4 2.8-3.6s1.6-2.4 2-4c0-.4 0-.4.4-.8.8-1.6 1.2-3.6 1.6-5.2.4-1.6.4-3.6.4-5.2s0-3.6-.4-5.2-.8-3.2-1.6-5.2c-1.2-2.8-2.8-5.2-4.8-7.2l-.8-.8c-1.2-1.2-2.4-2-4-3.2-1.6-.8-2.8-1.6-4.4-2.4-1.6-.8-3.2-1.2-4.8-1.6-2-.4-3.6-.4-5.2-.4s-3.6 0-5.2.4-3.2.8-4.8 1.6h-.4c-1.6.8-3.2 1.6-4.4 2.4-1.6 1.2-2.8 2-4 3.2-1.2 1.2-2.4 2.4-3.2 3.6-.8 1.2-1.6 2.8-2.4 4.4-.8 1.6-1.2 3.2-1.6 4.8-.4 2-.4 3.6-.4 5.2s0 3.6.4 5.2c.4 3.2 1.2 4.8 1.6 6.4zM249.6 289.2h-9.2v-98c0-5.6-4.4-10.4-10.4-10.4h-42c-5.6 0-10.4 4.4-10.4 10.4v21.6c0 5.6 4.4 10.4 10.4 10.4h8.4v66.4H188c-5.6 0-10.4 4.4-10.4 10.4v21.6c0 5.6 4.4 10.4 10.4 10.4h61.6c5.6 0 10.4-4.4 10.4-10.4V300c0-6-4.8-10.8-10.4-10.8z"}),o.a.createElement("path",{fill:t.color,d:"M218.8 0C98 0 0 98 0 218.8s98 218.8 218.8 218.8 218.8-98 218.8-218.8S339.6 0 218.8 0zm0 408.8c-104.8 0-190-85.2-190-190s85.2-190 190-190 190 85.2 190 190-85.2 190-190 190z"}))},viewBox:"0 0 437.6 427.6"},icRemove:{svg:function(t){return o.a.createElement("g",null,o.a.createElement("path",{fill:t.color||"#dcdcdc",d:"M465.167 211.613H26.69c-8.424 0-26.69 11.439-26.69 34.316s18.267 34.316 26.69 34.316H465.169c8.421 0 26.689-11.439 26.689-34.316s-18.268-34.316-26.691-34.316z"}))},viewBox:"0 0 491.858 491.858"},icEdit:{svg:function(t){return o.a.createElement("g",null,o.a.createElement("path",{fill:t.color||"#dcdcdc",d:"M328.883 89.125l107.59 107.589-272.34 272.34L56.604 361.465l272.279-272.34zm189.23-25.948l-47.981-47.981c-18.543-18.543-48.653-18.543-67.259 0l-45.961 45.961 107.59 107.59 53.611-53.611c14.382-14.383 14.382-37.577 0-51.959zM.3 512.69c-1.958 8.812 5.998 16.708 14.811 14.565l119.891-29.069L27.473 390.597.3 512.69z"}))},viewBox:"0 0 528.899 528.899"},icAdd:{svg:function(t){return o.a.createElement("g",null,o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.525 19.11l.398.038a17.705 17.705 0 000-3.296l-.398.037-.398.038a16.903 16.903 0 010 3.146l.398.038zm-.333-5.342l.39-.087a17.364 17.364 0 00-1.017-3.133l-.367.16-.367.158c.413.954.74 1.953.97 2.989l.39-.087zm-1.97-4.974l.343-.203a17.556 17.556 0 00-1.938-2.664l-.3.265-.3.264a16.76 16.76 0 011.85 2.542l.344-.204zm-3.414-4.121l.265-.3a17.551 17.551 0 00-2.663-1.938l-.204.344-.204.344a16.755 16.755 0 012.542 1.85l.264-.3zm-4.515-2.87l.159-.368c-1-.433-2.047-.775-3.133-1.017l-.087.39-.087.39c1.036.231 2.035.558 2.989.971l.159-.367zM19.11.474l.037-.398a17.718 17.718 0 00-3.296 0l.037.398.038.398a16.919 16.919 0 013.146 0l.038-.398zm-5.343.333l-.087-.39a17.365 17.365 0 00-3.133 1.017l.16.367.158.367c.954-.413 1.953-.74 2.989-.97l-.087-.39zm-4.974 1.97l-.203-.343c-.95.562-1.841 1.212-2.664 1.938l.265.3.264.3a16.756 16.756 0 012.542-1.85l-.204-.344zM4.673 6.193l-.3-.265a17.556 17.556 0 00-1.938 2.664l.344.203.344.204a16.756 16.756 0 011.85-2.542l-.3-.264zm-2.87 4.515l-.368-.159c-.433 1-.775 2.047-1.017 3.133l.39.087.39.087c.231-1.036.558-2.036.971-2.989l-.367-.159zM0 17.5c0-.556.026-1.105.077-1.648l.398.037.398.038a16.919 16.919 0 000 3.146l-.398.038-.398.037A17.718 17.718 0 010 17.5zm.808 3.732l-.39.087a17.365 17.365 0 001.017 3.133l.367-.16.367-.158a16.565 16.565 0 01-.97-2.989l-.39.087zm1.97 4.974l-.343.204a17.55 17.55 0 001.938 2.663l.3-.265.3-.264a16.755 16.755 0 01-1.85-2.542l-.344.204zm3.414 4.121l-.265.3a17.556 17.556 0 002.664 1.938l.203-.344.204-.344a16.76 16.76 0 01-2.542-1.85l-.264.3zm4.515 2.87l-.159.368c1 .433 2.047.775 3.133 1.017l.087-.39.087-.39a16.563 16.563 0 01-2.989-.971l-.159.367zm5.182 1.328l-.037.398a17.705 17.705 0 003.296 0l-.037-.398-.038-.398a16.903 16.903 0 01-3.146 0l-.038.398zm5.343-.333l.087.39a17.364 17.364 0 003.133-1.017l-.16-.367-.158-.367c-.954.413-1.953.74-2.989.97l.087.39zm4.974-1.97l.204.343c.949-.562 1.84-1.212 2.663-1.938l-.265-.3-.264-.3a16.76 16.76 0 01-2.542 1.85l.204.344zm4.121-3.414l.3.265a17.552 17.552 0 001.938-2.663l-.344-.204-.344-.204a16.76 16.76 0 01-1.85 2.542l.3.264zm2.87-4.515l.368.159c.433-1 .775-2.047 1.017-3.133l-.39-.087-.39-.087a16.563 16.563 0 01-.971 2.989l.367.159zM17.7 9.723a.5.5 0 01.5.5V17h7a.5.5 0 010 1h-7v6.778a.5.5 0 01-1 0V18h-7a.5.5 0 010-1h7v-6.778a.5.5 0 01.5-.5z",fill:t.color||"#dcdcdc"}))},viewBox:"0 0 35 35"}},ne=function(t){function e(){return Object(s.a)(this,e),Object(d.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props,e=t.name,n=t.width,o=t.height,i=t.color,r=ee[e];return a.createElement("svg",{width:n,height:o,viewBox:r.viewBox},r.svg({color:i}))}}]),e}(a.Component),ae=n(58),oe=n.n(ae),ie=n(108),re=n(32),ce=(n(80),Gt=function(t){function e(t){var n;Object(s.a)(this,e),n=Object(d.a)(this,Object(l.a)(e).call(this,t));var a=t.value?t.value.name[0]:"",o=t.value?t.value.name[1]:"";return n.state={start:a,end:o,visible:!0,isEditMode:!t.value,isCreateMode:!t.value,isMouseHoverEdition:!1,isMouseHoverDeletion:!1},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"onDone",value:function(){var t=this.state,e=t.start,n=t.end,a=this.props.onDone;a&&a({name:[e,n].sort().join(""),visible:!0}),this.setState({isEditMode:!1})}},{key:"onDelete",value:function(){var t=this.props.onDelete;t&&t()}},{key:"onVisibleChange",value:function(t){var e=this.props,n=e.onVisibleChange,a=e.value;n&&n({name:a.name,visible:!a.visible})}},{key:"getIndexInData",value:function(t,e){var n=this.props.data.indexOf(e);return n<0?t:n>t?t:parseInt(t)+1}},{key:"onStartPointSelect",value:function(t){var e=this.props.data,n=this.state,a=n.start,o=n.end,i=e[t];i===o?this.setState({start:i,end:a}):this.setState({start:i})}},{key:"onEndPointSelect",value:function(t){var e=this.props.data;this.setState({end:e[this.getIndexInData(t,this.state.start)]})}},{key:"mouseHoverEdition",value:function(){this.setState({isMouseHoverEdition:!0})}},{key:"mouseLeaveEdition",value:function(){this.setState({isMouseHoverEdition:!1})}},{key:"mouseHoverDeletion",value:function(){this.setState({isMouseHoverDeletion:!0})}},{key:"mouseLeaveDeletion",value:function(){this.setState({isMouseHoverDeletion:!1})}},{key:"onChangeContentState",value:function(){var t=this.state,e=t.isEditMode,n=t.start,a=t.end;n&&a&&this.setState({isEditMode:!e})}},{key:"renderDropdown",value:function(t,e,n){return a.createElement(ie.a,{title:t||"Ch\u1ecdn \u0111i\u1ec3m",id:"segment-dropdown",onSelect:n},e.map(function(t,e){return a.createElement(re.a.Item,{key:"Drop-item-".concat(e),eventKey:"".concat(e)},t)}))}},{key:"renderEditContent",value:function(){var t=this,e=this.props.data,n=this.state,o=n.start,i=n.end,r=n.isCreateMode;return a.createElement("div",{className:"content-edit"},a.createElement("div",{className:"drop-down-container"},a.createElement("div",{className:"col-6 p-0"},this.renderDropdown(o,e,this.onStartPointSelect)),a.createElement("div",{className:"col-6 p-0 right-drop-down"},this.renderDropdown(i,e.filter(function(e){return e!==t.state.start}),this.onEndPointSelect))),a.createElement("div",{className:"button-container mt-1"},a.createElement("div",{className:"col-6 p-0 d-flex justify-content-between"},a.createElement(m.a,{className:"btn-cancel",onClick:r?this.onDelete:this.onChangeContentState},"H\u1ee6Y"),a.createElement(m.a,{className:"btn-update",variant:"".concat(r?"link":"success"),disabled:!(o&&i),onClick:this.onDone},r?"TH\xcaM":"C\u1eacP NH\u1eacT"))))}},{key:"renderShowContent",value:function(){var t=this.props.value,e=t.name,n=t.visible;return a.createElement("div",{className:"content-show"},a.createElement("div",{className:"content"},a.createElement("div",{className:"segment-edit-name col-8"},a.createElement("p",null,e)),a.createElement("div",{className:"segment-edit-controller col-4"},a.createElement(oe.a,{onstyle:"success",offstyle:"danger",handleClassName:"toggle-handler",onClick:this.onVisibleChange,off:"HI\u1ec6N",on:"\u1ea8N",active:n}),a.createElement("div",{onClick:this.onChangeContentState,onMouseLeave:this.mouseLeaveEdition,onMouseOver:this.mouseHoverEdition,onMouseDown:this.mouseLeaveEdition},this.state.isMouseHoverEdition?a.createElement(ne,{name:"icEdit",color:"#218838",width:16,height:16}):a.createElement(ne,{name:"icEdit",color:"#757575",width:16,height:16})),a.createElement("div",{onClick:this.onDelete,onMouseOver:this.mouseHoverDeletion,onMouseLeave:this.mouseLeaveDeletion,onMouseDown:this.mouseLeaveDeletion},this.state.isMouseHoverDeletion?a.createElement(ne,{name:"icRemove",color:"#dc3545",width:16,height:16}):a.createElement(ne,{name:"icRemove",color:"#757575",width:16,height:16})))))}},{key:"renderContent",value:function(){return this.state.isEditMode?this.renderEditContent():this.renderShowContent()}},{key:"render",value:function(){var t=this.props.style,e=this.state,n=e.isEditMode,o=e.isCreateMode;return a.createElement("div",{className:"segment-setting",style:Object(b.a)({},t)},a.createElement("div",{className:"container"},n&&a.createElement("div",{className:"title"},a.createElement("p",null,"".concat(o?"Th\xeam":"C\u1eadp nh\u1eadt"," \u0111o\u1ea1n th\u1eb3ng :"))),this.renderContent()))}}]),e}(a.Component),Object(f.a)(Gt.prototype,"onDone",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"onDone"),Gt.prototype),Object(f.a)(Gt.prototype,"onDelete",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"onDelete"),Gt.prototype),Object(f.a)(Gt.prototype,"onVisibleChange",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"onVisibleChange"),Gt.prototype),Object(f.a)(Gt.prototype,"getIndexInData",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"getIndexInData"),Gt.prototype),Object(f.a)(Gt.prototype,"onStartPointSelect",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"onStartPointSelect"),Gt.prototype),Object(f.a)(Gt.prototype,"onEndPointSelect",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"onEndPointSelect"),Gt.prototype),Object(f.a)(Gt.prototype,"mouseHoverEdition",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"mouseHoverEdition"),Gt.prototype),Object(f.a)(Gt.prototype,"mouseLeaveEdition",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"mouseLeaveEdition"),Gt.prototype),Object(f.a)(Gt.prototype,"mouseHoverDeletion",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"mouseHoverDeletion"),Gt.prototype),Object(f.a)(Gt.prototype,"mouseLeaveDeletion",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"mouseLeaveDeletion"),Gt.prototype),Object(f.a)(Gt.prototype,"onChangeContentState",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"onChangeContentState"),Gt.prototype),Object(f.a)(Gt.prototype,"renderDropdown",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"renderDropdown"),Gt.prototype),Object(f.a)(Gt.prototype,"renderEditContent",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"renderEditContent"),Gt.prototype),Object(f.a)(Gt.prototype,"renderShowContent",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"renderShowContent"),Gt.prototype),Object(f.a)(Gt.prototype,"renderContent",[g.a],Object.getOwnPropertyDescriptor(Gt.prototype,"renderContent"),Gt.prototype),Gt),se=n(27),ue=n(20),de=function(){function t(e){Object(s.a)(this,t),this.name=e}return Object(u.a)(t,[{key:"toString",value:function(){return this.name}}]),t}(),le=function(t){function e(t,n,a){var o;return Object(s.a)(this,e),"undefined"===typeof a&&(a=n,n=t,t=null),(o=Object(d.a)(this,Object(l.a)(e).call(this,t))).x=n,o.y=a,o.free=!0,o}return Object(p.a)(e,t),Object(u.a)(e,[{key:"toString",value:function(){return Object(ue.a)(Object(l.a)(e.prototype),"toString",this).call(this)+"("+this.x+","+this.y+")"}}],[{key:"P",value:function(t,n,a){return new e(t,n,a)}}]),e}(de);function pe(t,e){return Math.sqrt(fe(t,e))}function fe(t,e){var n=t.x-e.x,a=t.y-e.y;return n*n+a*a}var he=function(t){function e(t,n,a){var o;return Object(s.a)(this,e),"undefined"===typeof a&&(a=n,n=t,t=null),(o=Object(d.a)(this,Object(l.a)(e).call(this,t))).center=n,a instanceof le?o._fromCenterAndBoundaryPoint(n,a):"number"===typeof a&&o._fromCenterAndRadius(n,a),o}return Object(p.a)(e,t),Object(u.a)(e,[{key:"_fromCenterAndRadius",value:function(t,e){this.radius=e,Object.defineProperties(this,{radiussq:{get:function(){return this.radius*this.radius}}})}},{key:"_fromCenterAndBoundaryPoint",value:function(t,e){this.boundaryPoint=e,Object.defineProperties(this,{radius:{get:function(){return pe(this.boundaryPoint,this.center)}},radiussq:{get:function(){return fe(this.boundaryPoint,this.center)}}})}},{key:"y",value:function(t){var e=Math.abs(t-this.center.x);if(e>this.radius)return null;if(e===this.radius)return new le(t,this.center.y);var n=Math.sqrt(this.radius*this.radius-e*e);return[this.center.y+n,this.center.y-n]}},{key:"contains",value:function(t){return fe(t,this.center)===this.radiussq}},{key:"toString",value:function(){return"Circle"+Object(ue.a)(Object(l.a)(e.prototype),"toString",this).call(this)+"["+this.center.toString()+";"+this.radius+"]"}}]),e}(de),ge=n(25),ye=function(t){function e(t,n,a){var o;return Object(s.a)(this,e),"undefined"===typeof a&&(a=n,n=t,t=null),(o=Object(d.a)(this,Object(l.a)(e).call(this,t)))._p=a?[n,a]:n.slice(0),o._clip=!1,Object.defineProperties(Object(ge.a)(o),{dx:{get:function(){return this._p[1].x-this._p[0].x}},dy:{get:function(){return this._p[1].y-this._p[0].y}},theta:{get:function(){return Math.atan2(this.dy,this.dx)}},m:{get:function(){return 0===this.dx?null:this.dy/this.dx}},left:{get:function(){return this._clip?Math.min(this._p[0].x,this._p[1].x):null}},right:{get:function(){return this._clip?Math.max(this._p[0].x,this._p[1].x):null}},top:{get:function(){return this._clip?Math.min(this._p[0].y,this._p[1].y):null}},bottom:{get:function(){return this._clip?Math.max(this._p[0].y,this._p[1].y):null}}}),o}return Object(p.a)(e,t),Object(u.a)(e,[{key:"y",value:function(t){return 0===this.dx||this._clip&&(this.left>t||this.right<t)?null:this._p[0].y+(t-this._p[0].x)*this.dy/this.dx}},{key:"x",value:function(t){return 0===this.dy||this._clip&&(this.top>t||this.bottom<t)?null:this._p[0].x+(t-this._p[0].y)*this.dx/this.dy}},{key:"contains",value:function(t){return(0!==this.dx?this.y(t.x)===t.y:this.x(t.y)===t.x)&&(!this._clip||this.left<=t.x&&t.x<=this.right&&this.top<=t.y&&t.y<=this.bottom)}},{key:"toString",value:function(){return"Line"+Object(ue.a)(Object(l.a)(e.prototype),"toString",this).call(this)+"["+this._p[0].toString()+";"+this._p[1].toString()+"]"}}]),e}(de),ve=n(28),me=le.P,be=function(t){function e(t,n,a){var o;return Object(s.a)(this,e),(o=Object(d.a)(this,Object(l.a)(e).call(this,t,n,a)))._clip=!0,Object.defineProperties(Object(ge.a)(o),{p:{get:function(){return[].concat(this._p)}},lengthsq:{get:function(){return fe(this._p[0],this._p[1])}},length:{get:function(){return pe(this._p[0],this._p[1])}}}),o}return Object(p.a)(e,t),Object(u.a)(e,[{key:"toString",value:function(){return"Segment"+Object(ue.a)(Object(l.a)(e.prototype),"toString",this).call(this)}}],[{key:"clip",value:function(t,n){var a=Object(ve.a)(n._p,2),o=a[0],i=a[1],r=n.y(t.left),c=n.y(t.right),s=n.x(t.top),u=n.x(t.bottom);if(o.x>i.x){var d=o;o=i,i=d}if(r&&r>=t.top&&r<=t.bottom&&(o=me(t.left,r)),c&&c>=t.top&&c<=t.bottom&&(i=me(t.right,c)),o.y>i.y){var l=o;o=i,i=l}s&&s>=t.left&&s<=t.right&&(o=me(s,t.top)),u&&u>=t.left&&u<=t.right&&(i=me(u,t.bottom));var p=new e(null,o,i);return p.parent=n,p}}]),e}(ye),xe=n(44),Ie=n.n(xe),Oe=le.P;function Ne(t,e){return t.x===e.x&&t.y===e.y?0:1}function Ee(t){return t*t}function Me(t,e,n){var a=Math.min(e,n),o=Math.max(e,n);return a<=t&&t<=o}function je(t,e){if(t instanceof he&&e instanceof he)return function(t,e){var n=fe(t.center,e.center),a=Math.sqrt(n);if(a>t.radius+e.radius)return[];if(a<t.radius-e.radius)return[];if(0===n)return[];var o=(t.radiussq-e.radiussq+n)/(2*a),i=Math.sqrt(Math.max(t.radiussq-Ee(o),0)),r=t.center.x+o*(e.center.x-t.center.x)/a,c=t.center.y+o*(e.center.y-t.center.y)/a,s=i*(t.center.y-e.center.y)/a,u=i*(t.center.x-e.center.x)/a;return Ie()([Oe(0,r+s,c-u),Oe(1,r-s,c+u)],Ne)}(t,e);if(e instanceof he)return je(e,t);if(t instanceof he&&e instanceof be)return Se(t,e,!0);if(t instanceof he&&e instanceof ye)return Se(t,e,!1);if(t instanceof be&&e instanceof be)return Pe(t,e,!0);if(e instanceof be)return je(e,t);if(t instanceof ye&&e instanceof ye)return Pe(t,e,!1);if(e instanceof le||t instanceof le)return[];throw new Error("Cannot intersect "+t.constructor.name+" and "+e.constructor.name)}function Pe(t,e,n){var a=Object(ve.a)(t._p,2),o=a[0],i=o.x,r=o.y,c=a[1],s=(c.x,c.y,Object(ve.a)(e._p,2)),u=s[0],d=u.x,l=u.y,p=s[1],f=(p.x,p.y,(-t.dy*(i-d)+t.dx*(r-l))/(-e.dx*t.dy+t.dx*e.dy)),h=(e.dx*(r-l)-e.dy*(i-d))/(-e.dx*t.dy+t.dx*e.dy);return!n||Me(f,0,1)&&Me(h,0,1)?[Oe(0,i+h*t.dx,r+h*t.dy)]:[]}function Se(t,e,n){var a=Object(ve.a)(e._p,2),o=a[0],i=o.x,r=o.y,c=a[1],s=c.x,u=c.y,d=t.center,l=d.x,p=d.y,f=(i-l)*(u-p)-(s-l)*(r-p),h=Ee(f),g=Ee(e.dx)+Ee(e.dy),y=Math.sqrt(Ee(t.radius)*g-h);if(y<0)return[];var v=f*e.dy/g,m=-f*e.dx/g,b=(e.dy<0?-1*e.dx:e.dx)*y/g,x=Math.abs(e.dy)*y/g;return Ie()([Oe(0,v+b+l,m+x+p),Oe(1,v-b+l,m-x+p)],Ne).filter(function(t){return!n||Me(t.x,i,s)&&Me(t.y,r,u)})}var De=function(t){function e(t){var n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return t instanceof de&&(o.shift(t),t=null),(n=Object(d.a)(this,Object(l.a)(e).call(this,t,null,null))).which=/function|number/.test(typeof o[o.length-1])?o.pop():0,n.objects=o,n.free=!1,n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"update",value:function(){var t=je.apply(null,this.objects);if(t="function"===typeof this.which?t.filter(this.which)[0]:t[this.which]){var e=t;this.x=e.x,this.y=e.y}else this.x=this.y=null}},{key:"toString",value:function(t){var n=Object(ue.a)(Object(l.a)(e.prototype),"toString",this).call(this);return t?n+"; intersection of: "+this.objects.map(function(t){return t.toString()}).join(","):n}}]),e}(le);le.P;function we(t,e){t.classes=t.classes||se.c(),t.classes.add(e)}var Ce=function(){function t(e){var n;Object(s.a)(this,t),this.bounds=e,this.bounds.width=this.bounds.right-this.bounds.left,this.bounds.height=this.bounds.bottom-this.bounds.top,this._last=null,this._objects=se.a(),this.equal=(n=(n=Math.sqrt(2))||0,function t(e,a){if(Array.isArray(e)&&Array.isArray(a))return e.every(function(e,n){return t(e,a[n])});if("number"===typeof e&&"number"===typeof a)return Math.abs(e-a)<n;if(e instanceof le&&a instanceof le)return null!==e.x&&null!==a.x&&null!==e.y&&null!==a.y&&t(Math.abs(e.x-a.x)+Math.abs(e.y-a.y),0);if(e instanceof he&&a instanceof he)return t(e.radius,a.radius)&&t(e.center,a.center);if(e instanceof be&&a instanceof be){var o=[].concat(e.p),i=[].concat(a.p);return o[0].x>o[1].x&&i[0].x<i[0].x&&o.reverse(),t(o,i)}return e instanceof ye&&a instanceof ye?t(e.m,a.m)&&t(e.y(0),a.y(0))&&t(e.x(0),a.x(0)):e===a}),this.log=[]}return Object(u.a)(t,[{key:"points",value:function(){return this._objects.values().filter(function(t){return t instanceof le})}},{key:"objects",value:function(){return this._objects.values()}},{key:"find",value:function(t){for(var e=this._objects.values(),n=0;n<e.length;n++)if(this.equal(e[n],t))return e[n];return null}},{key:"is",value:function(t){var e=this;return"string"===typeof t&&(t=this.get(t)),function(n){return t&&e.equal(t,n)}}},{key:"isnt",value:function(t){var e=this;return"string"===typeof t&&(t=this.get(t)),function(n){return t&&!e.equal(t,n)}}},{key:"last",value:function(){return this._last}},{key:"get",value:function(t){return this._objects.get(t)}},{key:"point",value:function(t,e,n){return this.add(new le(t,e,n))}},{key:"circle",value:function(t,e,n){return this.add(new he(t,this.get(e),n))}},{key:"segment",value:function(t,e,n){return this.add(new be(t,this.get(e),this.get(n)))}},{key:"line",value:function(t,e,n){return this.add(new ye(t,this.get(e),this.get(n)))}},{key:"intersection",value:function(t,e,n,a){"undefined"===typeof n&&(n=e,e=t,t=null);var o=this.get(e),i=this.get(n);if(!o)throw new Error("Can't find object "+e);if(!i)throw new Error("Can't find object "+n);return this.add(new De(t,o,i,a))}},{key:"group",value:function(t){return this._currentTag=t,this}},{key:"add",value:function(t){var e=this._objects.get(t.name);if(e&&e.constructor.name===t.constructor.name){for(var n in t)e[n]=t[n];t=e}else{if(e||(e=this.find(t)))return this;t.name=t.name||this.freeName(),this._objects.set(t.name,t)}return this._currentTag&&we(t,this._currentTag),t.free&&we(t,"free-point"),this.update(t),this._last=t,this}},{key:"freeName",value:function(){for(var t=this._objects.keys(),e=0;t.indexOf("object"+e)>=0;e++);return"object"+e}},{key:"update",value:function(t){this._objects.values().filter(function(t){return t instanceof De}).forEach(function(t){return t.update()})}},{key:"logState",value:function(t){var e=this._objects.values(),n=(this.points(),{label:t,time:(new Date).toString(),objects:e.map(function(t){return t.toString()})});this.log.push(n)}}]),t}();function ke(){var t=Array.prototype.slice.call(arguments,0);return function(e){return t.concat(e.classes?e.classes.values():[]).join(" ")}}function Be(t,e){var n=se.b(e),a=n.selectAll("g.circle").data(t.objects().filter(function(t){return t instanceof he})),o=a.enter().append("g").attr("class",ke("circle"));o.append("circle").attr("class","handle"),o.append("circle").attr("class","visible"),a.attr("class",ke("circle")).selectAll("circle").attr("cx",function(t){return t.center.x}).attr("cy",function(t){return t.center.y}).attr("r",function(t){return t.radius}),a.exit().remove();var i=n.selectAll("g.line").data(t.objects().filter(function(t){return t instanceof ye})),r=i.enter().append("g").attr("class",ke("line"));function c(e,n){return function(a){return(a instanceof be?a:be.clip(t.bounds,a)).p[e][n]}}r.filter(function(t){return t instanceof be}).attr("class",ke("line","segment")),r.append("line").attr("class","handle"),r.append("line").attr("class","visible"),i.attr("class",ke("line")).selectAll("line").attr("x1",c(0,"x")).attr("y1",c(0,"y")).attr("x2",c(1,"x")).attr("y2",c(1,"y")),i.exit().remove()}n(93);var Re,_e,qe=function(t){function e(){return Object(s.a)(this,e),Object(d.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.renderGeometry(this.props.drawingData)}},{key:"componentDidUpdate",value:function(){this.renderGeometry(this.props.drawingData)}},{key:"renderGeometry",value:function(t){for(var e=document.getElementById("geometry");e.firstChild;)e.firstChild.remove();for(var n=document.getElementById("points");n.firstChild;)n.firstChild.remove();var a=t.points,o=t.segments,i=t.circles,r=e.viewBox.baseVal,c=r.width,s=r.height,u=new Ce({left:r.x,top:r.y,right:r.x+c,bottom:r.y+s}),d=[],l=[];a.forEach(function(t){d.push(t.coordinate.x),l.push(t.coordinate.y)});var p=Math.max.apply(Math,d)-Math.min.apply(Math,d),f=Math.max.apply(Math,l)-Math.min.apply(Math,l),h=0;h=p/f>=1?Math.floor(c/p)-15:Math.floor(s/f)-15;var g=Math.min.apply(Math,d)+p/2,y=Math.min.apply(Math,l)+f/2;a.forEach(function(t){u.point(t.id,t.coordinate.x*h+c/2-h*g,t.coordinate.y*h+s/2-h*y)}),o.forEach(function(t){t&&t.visible&&u.segment(t.name,t.name[0],t.name[1])}),i&&Object.keys(i).forEach(function(t){u.point(t,i[t].center.x*h+c/2-h*g,i[t].center.y*h+s/2-h*y),u.circle("circle-".concat(t),t,i[t].radius*h)}),u.update(),Be(u,e),Be(u,e),function(t,e){var n=se.b(e).selectAll("circle.point").data(t.objects().filter(function(t){return t instanceof le}));n.enter().append("circle").attr("class",ke("point")).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",function(t){return 5}),n.enter().append("text").attr("class",ke("point-name")).attr("x",function(t){return t.x+10}).attr("y",function(t){return t.y-15}).attr("id",function(t){return"point-".concat(t.name)}),n.enter()._groups[0].forEach(function(t){var e=t.__data__.name;document.getElementById("point-".concat(e)).appendChild(document.createTextNode(e))}),n.exit().remove()}(u,n)}},{key:"render",value:function(){return a.createElement("div",{className:"geometry-container"},a.createElement("svg",{id:"geometry",className:"geometry-scene",viewBox:"0 0 800 800"}),a.createElement("svg",{id:"points",className:"geometry-scene",viewBox:"0 0 800 800"}))}}]),e}(a.Component),Ae=Object(h.a)((_e=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(d.a)(this,Object(l.a)(e).call(this,t))).inputRefs=[],n.state={focusIndex:0,points:[{id:"A",coordinate:{x:0,y:0,z:0}},{id:"B",coordinate:{y:5,x:-7}},{id:"C",coordinate:{x:-9,y:4.0901353661613005}},{id:"H",coordinate:{x:-3.0849364905389067,y:6.781088913245535}},{id:"D",coordinate:{x:-5.250000000000003,y:3.7500000000000018}},{id:"E",coordinate:{x:-8,y:9.794855240493977}}],segments:["AB","BC","AC","AH","DH","DE","HB","HA","HA","HD","DA","DD","DD","DA","ED","EA","HB","HA","HA","HD","DA","DD","DD","DA","ED","EA","HB","HA","HA","HD","DA","DD","DD","DA","ED","EA"],drawingSegments:[]},n.scrollView=o.a.createRef(),n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentWillMount",value:function(){var t=this.state,e=t.points,n=t.segments;this.setState({drawingSegments:this.trimDrawingData({points:e,segments:n}).map(function(t){return{name:t,visible:!0}})})}},{key:"scrollToBottom",value:function(){var t=this;this.scrollView.current&&setTimeout(function(){t.scrollView.current.firstChild.scrollIntoView(!1)},250)}},{key:"trimDrawingData",value:function(t){var e=this,n=t.points,a=t.segments,o={};n.forEach(function(t){o[t.id]=t.coordinate});var i={},r=[];n.forEach(function(t){i[t.id]=a.map(function(t){return t.split("").sort().join("")}).filter(function(e){return e.includes(t.id)}).map(function(t){var e=o[t[0]],n=o[t[1]];return{name:t,vector:G(e,n),length:F(e,n)}})});var s=[];return Object.keys(i).forEach(function(t){if(i[t].length>0){var n=e.uniqueSegmentData(i[t],s);r=r.concat(n)}}),r=Object(c.a)(new Set(r)).filter(function(t){return t[0]!==t[1]})}},{key:"uniqueSegmentData",value:function(t,e){for(var n,a,o=[t[0]],i=1;i<t.length;i++){for(var r=t[i],c=o.length,s=-1,u=0;u<c;u++)n=r.vector,a=o[u].vector,J(n.x/a.x)===J(n.y/a.y)&&(r.length>=o[u].length?s=u:e.push(r.name));s>=0?o[s]=r:e.includes(r.name)||o.push(r)}return o.map(function(t){return t.name})}},{key:"onValueChange",value:function(t,e){Wt.RelationsInput[e].value=t,this.setState({focusIndex:e})}},{key:"onSubmit",value:function(t){t===Wt.RelationsInput.length-1&&Wt.RelationsInput[t].value.length>2&&Wt.addNewInput(),this.setState({focusIndex:t+1})}},{key:"onBackspace",value:function(t){0===Wt.RelationsInput[t].value.length&&Wt.RelationsInput.length>1&&(Wt.removeInput(t),this.inputRefs.splice(t,1),this.setState({focusIndex:t-1}))}},{key:"onClickDrawing",value:function(){var t=Wt.analyzeInput();0!==t.points.length||0!==t.segments.length?(this.setState({points:t.points,segments:t.segments,drawingSegments:this.trimDrawingData(t).map(function(t){return{name:t,visible:!0}})}),Wt.getData.clear()):Wt.resetInputsStatus()}},{key:"componentDidUpdate",value:function(){var t=this.state.focusIndex;this.inputRefs[t]&&this.inputRefs[t].focus()}},{key:"renderRelationInput",value:function(){var t=this;return Wt.RelationsInput.map(function(e,n){return o.a.createElement(te,{key:"input-".concat(n),ref:function(e){t.inputRefs[n]=e},onValueChange:function(e){t.onValueChange(e,n)},onSubmit:function(){t.onSubmit(n)},onBackspace:function(){t.onBackspace(n)},value:e.value,status:e.status})})}},{key:"onDoneSegmentSetting",value:function(t,e){var n=this,a=this.state.drawingSegments;JSON.stringify(t)!==JSON.stringify(a[e])&&(a[e]=t,this.setState({drawingSegments:a},function(){a.map(function(t){return t.name}).includes(t.name)&&n.onDeleteSegmentSetting(e)}))}},{key:"onChangeSegmentSetting",value:function(t,e){var n=this.state.drawingSegments;n[e]=t,this.setState({drawingSegments:n})}},{key:"onDeleteSegmentSetting",value:function(t){var e=this.state.drawingSegments;e.splice(t,1),this.setState({drawingSegments:e})}},{key:"addNewSegmentSetting",value:function(){this.state.drawingSegments.includes(void 0)||(this.scrollToBottom(),this.setState(function(t){return{drawingSegments:t.drawingSegments.concat([void 0])}}))}},{key:"renderSegmentSettings",value:function(){var t=this,e=this.state.drawingSegments,n=this.state.points.map(function(t){return t.id});return e.map(function(e,a){return o.a.createElement(ce,{key:"segment-setting-".concat(a),data:n,value:e,onDone:function(e){t.onDoneSegmentSetting(e,a)},onVisibleChange:function(e){t.onChangeSegmentSetting(e,a)},onDelete:function(){t.onDeleteSegmentSetting(a)},style:0===a?{marginTop:"1rem"}:{}})})}},{key:"render",value:function(){var t=this.state,e=t.points,n=t.drawingSegments;t.segments;return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"app-header"},o.a.createElement("div",{className:"app-name"},o.a.createElement("p",null,"Gemath")),o.a.createElement("div",{className:"app-description"},o.a.createElement("p",null,"app description"))),o.a.createElement("div",{className:"app-body"},o.a.createElement("div",{className:"app-controller"},o.a.createElement("div",{className:"accordion",id:"accordionExample"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header left-panel-tab",id:"headingOne","data-toggle":"collapse","data-target":"#viewOne","aria-expanded":"true","aria-controls":"collapseOne"},o.a.createElement("p",null,"1. Nh\u1eadp \u0111\u1ec1"),o.a.createElement(y.a,{key:"right",container:this,placement:"right",overlay:o.a.createElement(v.a,{id:"tooltip-right",className:"help-tooltip"},o.a.createElement("span",null,"Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid"))},o.a.createElement("div",{className:"bg-transparent icon-container"},o.a.createElement(ne,{name:"icInformation",width:22,height:22})))),o.a.createElement("div",{id:"viewOne",className:"collapse show","aria-labelledby":"headingOne","data-parent":"#accordionExample"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",null,this.renderRelationInput(),o.a.createElement(m.a,{type:"button",className:"btn btn-success w-100",onClick:this.onClickDrawing,disabled:Wt.isInputEmpty},"V\u1ebd h\xecnh"))))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header left-panel-tab",id:"headingTwp","data-toggle":"collapse","data-target":"#viewTwo","aria-expanded":"true","aria-controls":"collapseTwp"},o.a.createElement("p",null,"2. Ch\u1ec9nh s\u1eeda h\xecnh"),o.a.createElement(y.a,{key:"right",container:this,placement:"right",overlay:o.a.createElement(v.a,{id:"tooltip-right",className:"help-tooltip"},o.a.createElement("span",null,"Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS."))},o.a.createElement("div",{className:"bg-transparent icon-container"},o.a.createElement(ne,{name:"icInformation",width:22,height:22})))),o.a.createElement("div",{id:"viewTwo",className:"collapse ","aria-labelledby":"headingOne","data-parent":"#accordionExample"},o.a.createElement("div",{className:"card-body",ref:this.scrollView},o.a.createElement("div",null,this.renderSegmentSettings(),o.a.createElement("div",{className:"add-row-container",onClick:this.addNewSegmentSetting},o.a.createElement(ne,{name:"icAdd",width:35,height:35,color:"#757575"}),o.a.createElement("p",null,"Th\xeam \u0111o\u1ea1n th\u1eb3ng")))))))),o.a.createElement("div",{className:"app-drawing-panel"},o.a.createElement(qe,{drawingData:{points:e,segments:n,circles:Wt.circlesData}}))),o.a.createElement("div",{className:"app-footer"},o.a.createElement("p",null,"abc")))}}]),e}(o.a.Component),Object(f.a)(_e.prototype,"scrollToBottom",[g.a],Object.getOwnPropertyDescriptor(_e.prototype,"scrollToBottom"),_e.prototype),Object(f.a)(_e.prototype,"trimDrawingData",[g.a],Object.getOwnPropertyDescriptor(_e.prototype,"trimDrawingData"),_e.prototype),Object(f.a)(_e.prototype,"onValueChange",[g.a],Object.getOwnPropertyDescriptor(_e.prototype,"onValueChange"),_e.prototype),Object(f.a)(_e.prototype,"onSubmit",[g.a],Object.getOwnPropertyDescriptor(_e.prototype,"onSubmit"),_e.prototype),Object(f.a)(_e.prototype,"onBackspace",[g.a],Object.getOwnPropertyDescriptor(_e.prototype,"onBackspace"),_e.prototype),Object(f.a)(_e.prototype,"onClickDrawing",[g.a],Object.getOwnPropertyDescriptor(_e.prototype,"onClickDrawing"),_e.prototype),Object(f.a)(_e.prototype,"renderRelationInput",[g.a],Object.getOwnPropertyDescriptor(_e.prototype,"renderRelationInput"),_e.prototype),Object(f.a)(_e.prototype,"onDoneSegmentSetting",[g.a],Object.getOwnPropertyDescriptor(_e.prototype,"onDoneSegmentSetting"),_e.prototype),Object(f.a)(_e.prototype,"onChangeSegmentSetting",[g.a],Object.getOwnPropertyDescriptor(_e.prototype,"onChangeSegmentSetting"),_e.prototype),Object(f.a)(_e.prototype,"onDeleteSegmentSetting",[g.a],Object.getOwnPropertyDescriptor(_e.prototype,"onDeleteSegmentSetting"),_e.prototype),Object(f.a)(_e.prototype,"addNewSegmentSetting",[g.a],Object.getOwnPropertyDescriptor(_e.prototype,"addNewSegmentSetting"),_e.prototype),Object(f.a)(_e.prototype,"renderSegmentSettings",[g.a],Object.getOwnPropertyDescriptor(_e.prototype,"renderSegmentSettings"),_e.prototype),Re=_e))||Re;r.a.render(o.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},57:function(t,e,n){t.exports={inputSuccess:"#28a745",inputError:"#dc3545",inputNormal:"#6c757d"}},67:function(t,e,n){t.exports=n(105)},72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){t.exports={inputSuccess:"#28a745",inputError:"#dc3545",inputNormal:"#6c757d"}},80:function(t,e,n){},93:function(t,e,n){}},[[67,1,2]]]);
//# sourceMappingURL=main.7a8337ba.chunk.js.map